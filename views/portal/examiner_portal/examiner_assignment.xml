<odoo>

     <template id="portal_breadcrumbs_examiner" inherit_id="portal.portal_breadcrumbs">
        <xpath expr="//ol[contains(@class, 'o_portal_submenu')]/li[1]" position="replace">
            <li style="font-size:16px;">
                <a href="/my/home">
                    <i class="fa fa-solid fa-home fa" style='margin-right:8px;'> Home/</i>
                </a>
            </li>
        </xpath>
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside" class="fa fa-solid fa-home fa" >
            <t t-if="page_name == 'batches'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments">Batches</a>
                    <!-- fa fa-solid fa-home fa-2x -->
                </li>
                
                
            </t>

            <t t-if="page_name == 'institutes'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments">Batches</a> / <span t-out="assignments.dgs_batch.batch_name"/>
                </li>
                <!-- <li class="breadcrumb-item">
                    <t t-attf-href="/my/assignments/{{batch_id}}">
                        <t t-out="assignments.dgs_batch.batch_name"/>
                    </t>
                </li> -->
                
                
            </t>

            <t t-if="page_name == 'institutes1'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments">Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <t >
                        <a t-attf-href="/my/assignments/batches/{{batch_id}}" t-out="assignments.dgs_batch.batch_name"/>
                    </t>

                </li>
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments/batches/{{batch_id}}">Institutes</a>
                </li>
                <li class="breadcrumb-item">
                    <t t-attf-href="/my/assignments/batches/candidates/{{batch_id}}/{{assignment_id}}">
                        <span t-out="assignments.prac_oral_id.institute_id.name"/>
                    </t>

                </li>
                
            </t>

            <t t-if="page_name == 'gsk_oral'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments/batches/candidates/{{batch_id}}/{{assignment_id}}">Candidates</a>
                </li>
                
                
            </t>
            <t t-if="page_name == 'gsk_prac'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments/batches/candidates/{{batch_id}}/{{assignment_id}}">Candidates</a>
                </li>
                
                
            </t>

            <t t-if="page_name == 'mek_oral'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments/batches/candidates/{{batch_id}}/{{assignment_id}}">Candidates</a>
                </li>
                
                
            </t>
            <t t-if="page_name == 'mek_prac'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/assignments/batches/candidates/{{batch_id}}/{{assignment_id}}">Candidates</a>
                </li>
                
                
            </t>

            
        </xpath>
    </template>


    <template id="examiner_assignment_list" name="Assignments">
        <script>
                                    $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    });
        </script>
        <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style>

        <t t-call="portal.portal_layout">
            <t t-call="portal.portal_table">
                
                <thead>
                    <tr>
                        <th class="text-left">Batch</th>
                        <th class="text-left">Action</th>

                    </tr>
                </thead>
                <tbody>
                    
                    <t t-foreach="batches" t-as="batch">
                        <tr>
                            <td class="text-left">
                                <t t-out="batch.batch_name" />
                            </td>
                            <td class="text-left">
                               <a t-attf-href="/my/assignments/batches/{{batch.id}}">View</a>
                            </td>
                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>


    <template id="examiner_assignment_institute_list" name="Institutes">
        <script>
                                    $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    });
        </script>
        <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style>

        <t t-call="portal.portal_layout">
           <t t-call="portal.portal_table">
                
                <thead>
                    <tr>
                        <th class="text-left">Institute</th>
                        <th class="text-left">Exam Date</th>
                        <th class="text-left">No of Candidates</th>
                        <th class="text-left">Action</th>

                    </tr>
                </thead>
                <tbody>
                    
                    <t t-foreach="assignments" t-as="assignment">
                        <tr>
                            <td class="text-left">
                                <t t-out="assignment.prac_oral_id.institute_id.name" />
                            </td>
                            <td class="text-left">
                                <t t-out="assignment.exam_date" />
                            </td>
                            <td class="text-left">
                                <t t-out="len(assignment.marksheets)" />
                            </td>
                            <td class="text-left">
                               <a t-attf-href="/my/assignments/batches/candidates/{{batch}}/{{assignment.id}}">View</a>
                            </td>
                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>


    <template id="examiner_assignment_candidate_list" name="Candidates">
        <script>
                                    $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    });

                                    function openGskUploadModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('batch-id');
                                    // Update the content of the modal with the retrieved data
                                    document.getElementById('batch_id').value = dataId;
                                    


                                    }

                                    function openMekUploadModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('mek-batch-id');
                                    // Update the content of the modal with the retrieved data
                                    document.getElementById('mek_batch_ids').value = dataId;
                                    


                                    }

                                    function openCcmcUploadModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('ccmc-batch-id');
                                    // Update the content of the modal with the retrieved data
                                    document.getElementById('ccmc_batch_ids').value = dataId;
                                    


                                    }
        </script>
        <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style>

        <t t-call="portal.portal_layout">
           <t t-call="portal.portal_table">
            <!-- Upload GSK marksheet  -->
                <div class="modal fade" id="uploadGskMarksheetModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Upload Marksheet</h5>

                            </div>
                            <div class="modal-body">
                                <div class="container mt-5">

                                    <form method="post" action="/my/uploadgskmarksheet" enctype="multipart/form-data">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <input type="hidden" id="batch_id" name="batch_id" />
                                        <div class="form-group">
                                            <label for="fileUpload">XLSX Upload</label>
                                            <input type="file" class="form-control-file" accept=".xlsx" name="fileUpload" id="fileUpload"/>
                                        </div>
                                        <button id="uploadBtn" type="submit" class="btn btn-primary">Upload</button>
                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                            
                        </div>
                    </div>
                </div>
            <!-- Upload Mek Marksheet  -->
                <div class="modal fade" id="uploadMekMarksheetModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Upload Marksheet</h5>

                            </div>
                            <div class="modal-body">
                                <div class="container mt-5">

                                    <form method="post" action="/my/uploadmekmarksheet" enctype="multipart/form-data">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <input type="hidden" id="mek_batch_ids" name="mek_batch_ids" />
                                        <div class="form-group">
                                            <label for="fileUpload">XLSX Upload</label>
                                            <input type="file" class="form-control-file" accept=".xlsx" name="fileUpload" id="fileUpload"/>
                                        </div>
                                        <button id="uploadBtn" type="submit" class="btn btn-primary">Upload</button>
                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                            
                        </div>
                    </div>
                </div>

            <!-- Upload CCMC Marksheet  -->
                <div class="modal fade" id="uploadCcmcMarksheetModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Upload Marksheet</h5>

                            </div>
                            <div class="modal-body">
                                <div class="container mt-5">

                                    <form method="post" action="/my/uploadccmcmarksheet" enctype="multipart/form-data">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <input type="hidden" id="ccmc_batch_ids" name="ccmc_batch_ids" />
                                        <div class="form-group">
                                            <label for="fileUpload">XLSX Upload</label>
                                            <input type="file" class="form-control-file" accept=".xlsx" name="fileUpload" id="fileUpload"/>
                                        </div>
                                        <button id="uploadBtn" type="submit" class="btn btn-primary">Upload</button>
                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                            
                        </div>
                    </div>
                </div>

           <t t-if="examiner_subject == 'GSK'">
                <a t-attf-href="/open_candidate_form/download_gsk_marksheet/{{batch_id}}/{{assignment_id}}" style="margin:10px; " class="btn btn-primary btn_cta">Download GSK Marksheet</a>
                <a href="" style="margin:10px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="openGskUploadModal(this)" data-target="#uploadGskMarksheetModal" class="btn btn-primary btn_cta">Upload GSK Marksheet</a>
            </t>
            <t t-if="examiner_subject == 'MEK'">
                <a t-attf-href="/open_candidate_form/download_mek_marksheet/{{batch_id}}/{{assignment_id}}" style="margin:10px;" class="btn btn-primary btn_cta">Download MEK Marksheet</a>
                <a href="" style="margin:10px;" data-toggle="modal" t-attf-mek-batch-id="{{batch_id}}" onclick="openMekUploadModal(this)" data-target="#uploadMekMarksheetModal" class="btn btn-primary btn_cta">Upload MEK Marksheet</a>
            </t>
            <t t-if="examiner.subject_id.name == 'CCMC GSK Oral'">
                <a t-attf-href="/open_ccmc_candidate_form/download_ccmc_oral_marksheet/{{batch_id}}/{{assignment_id}}" style="margin:10px;" class="btn btn-primary btn_cta">Download CCMC GSK Oral Marksheet</a>
                <a href="" style="margin:10px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="openUploadModal(this)" data-target="#uploadCandidateModal" class="btn btn-primary btn_cta">Upload CCMC GSK Oral Marksheet</a>
            </t>
            <t t-if="examiner.subject_id.name == 'CCMC Oral and Practical'">
                <a t-attf-href="/open_ccmc_candidate_form/download_ccmc_practical_marksheet/{{batch_id}}/{{assignment_id}}" style="margin:10px;" class="btn btn-primary btn_cta">Download CCMC Oral and Practical Marksheet</a>
                <a href="" style="margin:10px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="openUploadModal(this)" data-target="#uploadCandidateModal" class="btn btn-primary btn_cta">Upload CCMC Oral and Practical Marksheet</a>
            </t>
                
                <thead>
                    <tr >
                        <th class="text-left">Candidate Name</th>
                        <th class="text-left">Candidate Code</th>
                        <th class="text-left">Course</th>
                        <th t-if="examiner_subject == 'GSK'" class="text-left">Gsk Oral</th>
                        <th t-if="examiner_subject == 'GSK'" class="text-left">Gsk Practical</th>
                        <th t-if="examiner_subject == 'MEK'" class="text-left">MEK Oral</th>
                        <th t-if="examiner_subject == 'MEK'" class="text-left">MEK Practical</th>
                        <th t-if="examiner_subject == 'CCMC GSK Oral'" class="text-left">CCMC Oral</th>
                        <th t-if="examiner_subject == 'CCMC Oral and Practical'" class="text-left">CCMC Practical</th>




                    </tr>
                </thead>
                <tbody>
                    
                    <t t-foreach="marksheets" t-as="marksheet">
                        <tr>
                            <td class="text-left">
                                <t t-if="examiner_subject == 'GSK'" t-out="marksheet.gp_candidate.name" />
                                <t t-if="examiner_subject == 'MEK'" t-out="marksheet.gp_candidate.name" />
                                <t t-if="examiner_subject == 'CCMC GSK Oral'" t-out="marksheet.ccmc_candidate.name" />
                                <t t-if="examiner_subject == 'CCMC Oral and Practical'" t-out="marksheet.ccmc_candidate.name" />

                            
                            </td>
                            <td class="text-left">
                                <t t-if="examiner_subject == 'GSK'" t-out="marksheet.gp_candidate.candidate_code" />
                                <t t-if="examiner_subject == 'MEK'" t-out="marksheet.gp_candidate.candidate_code" />
                                <t t-if="examiner_subject == 'CCMC GSK Oral'" t-out="marksheet.ccmc_candidate.candidate_code" />
                                <t t-if="examiner_subject == 'CCMC Oral and Practical'" t-out="marksheet.ccmc_candidate.candidate_code" />
                            </td>
                            <td  class="text-left">
                                <t t-out="marksheet.examiners_id.prac_oral_id.course.course_code" />
                            </td>

                            <td t-if="examiner_subject == 'GSK'" class="text-left">
                                <a t-attf-href="/open_gsk_oral_form?rec_id={{ marksheet.gp_candidate.id }}&amp;gsk_oral={{ marksheet.gsk_oral.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}">
                                <span><t t-out="marksheet.gsk_oral.gsk_oral_total_marks"/></span></a>
                            </td>
                            <td t-if="examiner_subject == 'GSK'" class="text-left">
                                <a t-attf-href="/open_gsk_practical_form?rec_id={{ marksheet.gp_candidate.id }}&amp;gsk_practical={{ marksheet.gsk_prac.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}" >
                                <span><t t-out="marksheet.gsk_prac.gsk_practical_total_marks"/></span></a>
                            </td>
                             <td t-if="examiner_subject == 'GSK'" class="text-left">
                                <span t-if="marksheet.gsk_oral.gsk_oral_draft_confirm == 'confirm' and marksheet.gsk_prac.gsk_practical_draft_confirm == 'confirm'" >
                                    Confirmed
                                </span>
                                <span t-else="" >
                                    Draft
                                </span>           
                            </td>
                            <td t-if="examiner_subject == 'GSK'" class="text-left">
                                <span t-if="marksheet.gsk_oral.gsk_oral_draft_confirm == 'confirm' and marksheet.gsk_prac.gsk_practical_draft_confirm == 'confirm'" >
                                </span>
                                <span t-else="" >
                                    <button t-attf-id="confirm_marksheet_{{marksheet.id}}" type="button" class="btn btn-secondary confirm_gsk_marksheet_class">Confirm</button>                            
                                </span>   
                            </td>
                            <td t-if="examiner_subject == 'MEK'" class="text-left">
                                <a t-attf-href="/open_mek_oral_form?rec_id={{ marksheet.gp_candidate.id }}&amp;mek_oral={{marksheet.mek_oral.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}" >
                                <span><t t-out="marksheet.mek_oral.mek_oral_total_marks"/></span></a>
                            </td>
                            <td t-if="examiner_subject == 'MEK'" class="text-left">
                                <a t-attf-href="/open_practical_mek_form?rec_id={{ marksheet.gp_candidate.id }}&amp;mek_practical={{ marksheet.mek_prac.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}" >
                                <span><t t-out="marksheet.mek_prac.mek_practical_total_marks"/></span></a>
                            </td>
                             <td t-if="examiner_subject == 'MEK'" class="text-left">
                                <span t-if="marksheet.mek_oral.mek_oral_draft_confirm == 'confirm' and marksheet.mek_prac.mek_practical_draft_confirm == 'confirm'" >
                                    Confirmed
                                </span>
                                <span t-else="" >
                                    Draft
                                </span>           
                            </td>
                            <td t-if="examiner_subject == 'MEK'" class="text-left">
                                <span t-if="marksheet.mek_oral.mek_oral_draft_confirm == 'confirm' and marksheet.mek_prac.mek_practical_draft_confirm == 'confirm'" >
                                </span>
                                <span t-else="" >
                                    <button t-attf-id="confirm_marksheet_{{marksheet.id}}" type="button" class="btn btn-secondary confirm_mek_marksheet_class">Confirm</button>                            
                                </span>   
                            </td>

                            <td t-if="examiner_subject == 'CCMC GSK Oral'" class="text-left">
                                <a t-attf-href="/open_ccmc_oral_form?rec_id={{ marksheet.ccmc_candidate.id }}&amp;ccmc_oral={{ marksheet.ccmc_oral.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}" >
                                <span><t t-out="marksheet.ccmc_oral.toal_ccmc_rating"/></span></a>
                            </td>
                            <td t-if="examiner_subject == 'CCMC Oral and Practical'" class="text-left">
                                <a t-attf-href="/open_cookery_bakery_form?rec_id={{ marksheet.ccmc_candidate.id }}&amp;cookery_bakery={{ marksheet.cookery_bakery.id }}&amp;assignment_id={{marksheet.examiners_id.id}}&amp;batch_id={{batch_id}}" >
                                <span><t t-out="marksheet.cookery_bakery.total_mrks"/></span></a>
                            </td>
                            
                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>
</odoo>