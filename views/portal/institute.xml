<odoo>

    <template id="portal_breadcrumbs_institute" inherit_id="portal.portal_breadcrumbs">

        <xpath expr="//ol[contains(@class, 'o_portal_submenu')]/li[1]" position="replace">
            <li style="font-size:16px;">
                <a href="/my/home">
                    <i class="fa fa-solid fa-home fa" style='margin-right:8px;'> Home/</i>
                </a>
            </li>
        </xpath>

        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside" >

            
            <t t-if="page_name == 'gp_candidate'">
               
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch">GP Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <t t-out="batches.batch_name"/>
                </li>
            </t>

            <t t-if="page_name == 'ccmc_candidate'">
                
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch">CCMC Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch/candidates/{{batches.id}}">
                        <t t-out="batches.ccmc_batch_name"/>
                    </a>
                </li>
            </t>

            <li t-if="page_name == 'gp_batches'" class="breadcrumb-item ">
             GP Batches
                
            </li>
            <li t-if="page_name == 'ccmc_batches'" class="breadcrumb-item ">
             CCMC Batches
            </li>

            <t t-if="page_name == 'gp_candidate_form'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch">GP Batches</a>
                </li>


                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch/candidates/{{batches.id}}">
                        <t t-out="batches.batch_name"/>
                    </a>
                </li>
                <li class="breadcrumb-item">
                    Create Candidate
                </li>
            </t>

            <t t-if="page_name == 'ccmc_candidate_form'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch">CCMC Batches</a>
                </li>


                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch/candidates/{{batches.id}}">
                        <t t-out="batches.ccmc_batch_name"/>
                    </a>
                </li>
                <li class="breadcrumb-item">
                    Create Candidate
                </li>
            </t>
            <t t-if="page_name == 'gp_faculty_list'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch">GP Batches</a>
                </li>
                <!-- <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch/faculties/{{batch_id}}">
                        <t t-out="faculties.gp_batches_id.batch_name"/>
                    </a>
                </li> -->

                <li class="breadcrumb-item">
                    Faculties
                </li>
            </t>

            <t t-if="page_name == 'ccmc_faculty_list'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch">CCMC Batches</a>
                </li>
                <!-- <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch/faculties/{{batch_id}}">
                        <t t-out="faculties.gp_batches_id.batch_name"/>
                    </a>
                </li> -->

                <li class="breadcrumb-item">
                    Faculties
                </li>
            </t>
            <t t-if="page_name == 'gp_faculty_profile'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch">GP Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch/faculties/{{batch_id}}">
                        <t t-out="batch_name"/>
                    </a>
                </li>
            </t>


            <t t-if="page_name == 'gp_faculty_form'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch">GP Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/gpbatch/faculties/{{batch_id}}">
                        <t t-out="batch_name"/>
                    </a>
                </li>

                <li class="breadcrumb-item">
                    Create Faculty
                </li>
            </t>


            <t t-if="page_name == 'ccmc_faculty_form'">
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch">CCMC Batches</a>
                </li>
                <li class="breadcrumb-item">
                    <a t-attf-href="/my/ccmcbatch/faculties/{{batch_id}}">
                        <t t-out="batch_name"/>
                    </a>
                </li>

                <li class="breadcrumb-item">
                    Create Faculty
                </li>
            </t>



            <!-- <li class="breadcrumb-item ">
                <a t-attf-href="/my/gpbatch/candidates/{{candidate.institute_batch_id.id}}">GP Batches</a>
                
            </li> -->
            <!-- <li t-if="page_name == 'ccmc_candidate'" class="breadcrumb-item active">
             CCMC Candidate
            </li> -->
            <li t-if="page_name == 'institute_page'" class="breadcrumb-item active">
             Institute Detail
            </li>
            <li t-if="page_name == 'lod_list'" class="breadcrumb-item active">
               List of Document
            </li>
        </xpath>
    </template>


    <template id="institute_portal_layout" inherit_id="portal.portal_layout">
        <xpath expr="//div[hasclass('o_portal_my_security')]" position="after">
            <t t-if="env.user.has_group('bes.group_institute')">
                <div class="o_portal_my_security mt-3">
                    <h4>Institute Details</h4>
                    <hr class="mt-1 mb-1"/>
                    <a href="/my/editinstitute">
                        <i class="fa fa-pencil mx-1"/>
                Edit Institute Details</a>
                </div>
            </t>
        </xpath>
        <xpath expr="//div[hasclass('o_portal_my_details')]" position="replace">
            <t t-if="env.user.has_group('bes.group_institute')">

            </t>
            <t t-else="">
                <div class="o_portal_my_details">
                    <h4>Details <a role="button" href="/my/account" class="btn btn-sm btn-link"><i class="fa fa-pencil"/> Edit</a></h4>
                        <hr class="mt-1 mb-0"/>
                    <div t-field="user_id.partner_id" t-options='{"widget": "contact", "fields": ["email", "phone", "address", "name"]}'/>
                </div>
            </t>
            
        </xpath>

    </template>


    <template id="institute_gp_batches" name="GP Batches">
        <script>
                function openTokenModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('modal_batch_id').value = dataId;

                }

                function openRaiseInvoiceModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('invoice_batch_id').value = dataId;
                <!-- debugger -->

                }

        </script>
        <t t-call="portal.portal_layout">
            <div class="container">
                <p class="text-warning">To access the batch please fill the batch capacity by clicking on the "Update Batch Capacity" after updating you will be redirected inside the batches</p>
            </div>
            <t t-call="portal.portal_table">
                <div class="modal fade" id="dgs_approval_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/gpbatch/updatebatchcapacity" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Update GP Batch Approval Capacity</h5>
                                </div>
                                <div class="modal-body">
                                    <!-- Modal content goes here -->
                                    <div class="container mt-5">

                                        <input type="hidden" id="modal_batch_id" name="batch_id"/>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="capacity">DGS Approved Capacity</label>
                                                <input required="" type="number" class="form-control" id="capacity" name="capacity" min="0" />
                                            </div>
                                            <!-- <div class="form-group">
                                                <label for="approvaldocument">Upload Document</label>
                                                <input required="" type="file" class="form-control-file" accept=".xlsx, .csv, .pdf" name="approvaldocument" id="approvaldocument"/>
                                            </div> -->
                                        </div>



                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Update</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="modal fade" id="generate_invoice_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/creategpinvoice" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Generate Invoice</h5>
                                </div>
                                <input type="hidden" id="invoice_batch_id" name="invoice_batch_id"/>
                                <div class="modal-body">

                                    <!-- <div class="container mt-5">


                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="transaction_id">Transaction ID</label>
                                                <input required="True" type="text" class="form-control" id="transaction_id" name="transaction_id"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="bank_name">Bank Name and Address</label>
                                                <input required="True" type="text" class="form-control" id="bank_name" name="bank_name" />
                                            </div>
                                            <div class="form-group">
                                                <label for="total_amount">Total Amount ₹</label>
                                                <input required="True" type="number" class="form-control" id="total_amount" name="total_amount" min="0"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="transaction_slip">Upload Transaction Pay Slip</label>
                                                <input required="True" type="file" class="form-control-file" accept=".jpeg,.jpg,.png,.pdf" name="transaction_slip" id="transaction_slip"/>
                                            </div>
                                        </div>



                                    </div> -->

                                    Are you Sure you want to Generate Invoice ?

                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Yes</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <thead>
                    <tr>
                        <th>Batch Name</th>
                        <th>Faculties</th>
                        <th>Report</th>
                        <th>No. of Candidate</th>
                        <th>Batch Capacity</th>
                        <!-- <th>DGS Document</th> -->
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="batches" t-as="batch">
                        <tr>
                            <td class="text-left">
                                <t t-if="batch.dgs_approval_state">
                                    <a t-attf-href="/my/gpbatch/candidates/{{batch.id}}" class="fa">
                                        <t t-out="batch.batch_name"/>
                                    </a>
                                </t>
                                <t t-else="">
                                    <span class="fa disabled">
                                        <t t-out="batch.batch_name"/>
                                    </span>
                                </t>
                            </td>

                            <td class="text-left">
                                <a t-attf-href="/my/gpbatch/faculties/{{batch.id}}" class="fa">
                                Faculty
                                </a>
                            </td>
                            <td class="text-left">
                                <a t-attf-href="/my/batches/download_report/{{batch.id}}" class="fa">
                                Download Report
                                </a>
                            </td>
                            <td class="text-center">
                                <t t-out="batch.candidate_count" />
                            </td>
                            <td class="text-center">
                                <t t-out="batch.dgs_approved_capacity" />
                            </td>
                            
                            <t t-if="batch.state == '1-ongoing'">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openTokenModal(this)" data-target="#dgs_approval_modal" class="btn btn-primary btn_cta">Update Batch Capacity</a>
                                </td>
                            </t>
                            
                            <!-- <t t-if="batch.state == '1-ongoing'">
                                <td class="text-left">
                                    <a t-attf-href="/my/gpcandidates/download_dgs_capacity/{{batch.id}}/{{institute_id}}" class="fa">Download document</a>
                                </td>
                            </t> -->

                            <!-- <t t-if="batch.candidate_user_invoice_criteria == True and batch.state in ['1-ongoing']">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openRaiseInvoiceModal(this)" data-target="#generate_invoice_modal">Generate Invoice</a>
                                </td>
                            </t> -->

                             <t t-if="batch.candidate_user_invoice_criteria == True and not batch.all_invoice_generated">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openRaiseInvoiceModal(this)" data-target="#generate_invoice_modal">Generate Invoice</a>
                                </td>
                            </t>

                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>


    <template id="institute_ccmc_batches" name="CCMC Batches">
        <script>

                function openTokenModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('modal_batch_id').value = dataId;

                }

                function openRaiseInvoiceModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('ccmc_invoice_batch_id').value = dataId;
                <!-- debugger -->

                }
        
        </script>
        <t t-call="portal.portal_layout">
            <div class="container">
                <p class="text-warning">To access the batch please fill the batch capacity by clicking on the "Update Batch Capacity" after updating you will be redirected inside the batches</p>
            </div>
            <t t-call="portal.portal_table">
                <div class="modal fade" id="dgs_approval_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/ccmcbatchbatch/updatebatchcapacity" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Update CCMC Batch Approval Capacity</h5>
                                </div>
                                <div class="modal-body">
                                    <!-- Modal content goes here -->
                                    <div class="container mt-5">

                                        <input type="hidden" id="modal_batch_id" name="batch_id"/>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="capacity">DGS Approved Capacity</label>
                                                <input required="" type="number" class="form-control" id="capacity" name="capacity" min="0" />
                                            </div>
                                            <!-- <div class="form-group">
                                                <label for="approvaldocument">Upload Document</label>
                                                <input required="" type="file" class="form-control-file" accept=".xlsx, .csv, .pdf" name="approvaldocument" id="approvaldocument"/>
                                            </div> -->

                                        </div>



                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Upload</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="modal fade" id="generate_invoice_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/createccmcinvoice" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Generate Invoice</h5>
                                </div>
                                <input type="hidden" id="ccmc_invoice_batch_id" name="ccmc_invoice_batch_id"/>
                                <div class="modal-body">

                                        Are you sure you want to generate invoice ?

                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Yes</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <thead>
                    <tr>
                        <th>Batch Name</th>
                        <th>Faculties</th>
                        <th>Report</th>
                        <th>Candidate Count</th>
                        <th>DGS Capacity</th>
                        <!-- <th>DGS Document</th> -->
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="batches" t-as="batch">
                        <tr>
                            <td class="text-left">
                                <t t-if="batch.dgs_approval_state">
                                    <a t-attf-href="/my/ccmcbatch/candidates/{{batch.id}}" class="fa">
                                        <t t-out="batch.ccmc_batch_name"/>
                                    </a>
                                </t>
                                <t t-else="">
                                    <span class="fa disabled">
                                        <t t-out="batch.ccmc_batch_name"/>
                                    </span>
                                </t>
                            </td>
                            <td class="text-left">
                                <a t-attf-href="/my/ccmcbatch/faculties/{{batch.id}}" class="fa">
                                Faculty
                                </a>
                            </td>
                            <td class="text-left">
                                <a t-attf-href="/my/ccmc_batches/download_report/{{batch.id}}" class="fa">
                                Download Report
                                </a>
                            </td>
                            <td class="text-center">
                                <t t-out="batch.candidate_count" />
                            </td>
                            <td class="text-center">
                                <t t-out="batch.dgs_approved_capacity" />
                            </td>
                            <t t-if="batch.ccmc_state == '1-ongoing'">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openTokenModal(this)" data-target="#dgs_approval_modal" class="btn btn-primary btn_cta">Upload Document</a>
                                </td>
                            </t>

                            <!-- <t t-if="batch.ccmc_state == '1-ongoing'">
                                <td class="text-left">
                                    <a t-attf-href="/my/ccmccandidates/download_dgs_capacity/{{batch.id}}/{{institute_id}}" class="fa">Download Document</a>
                                </td>
                            </t> -->

                            <!-- <t t-if="batch.ccmc_state == '2-indos_pending'">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openRaiseInvoiceModal(this)" data-target="#generate_invoice_modal">Generate Invoice</a>
                                </td>
                            </t> -->
                             <t t-if="batch.candidate_user_invoice_criteria == True and not batch.all_invoice_generated">
                                <td class="text-left">
                                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{batch.id}}" onclick="openRaiseInvoiceModal(this)" data-target="#generate_invoice_modal">Generate Invoice</a>
                                </td>
                            </t>
                            

                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>


    <template id="gp_candidate_profile_view" name="GP Candidate">
        <t t-call="portal.portal_layout">
            <div class="container">
                <p class="text-warning">Please check the details of the candidate</p>
                <p class="text-warning">To Update the details click on "Update Candidate" button <strong class="text-danger p-2">This button will dissapper once the batch is confirmed</strong></p>
            </div>
            <script>
                
                function displayImage(input) {
                    const cardImg = document.querySelector('.card-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }

                function displaySignImage(input) {
                    const cardImg = document.querySelector('.sign-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }



                        function openDeleteModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                var candidate_id = button.getAttribute('candidate-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('visit_id').value = dataId;
                document.getElementById('candidate_id').value = candidate_id;

                }

                function openSTCWDeleteModal(button) {
                    <!-- debugger -->
                    // Retrieve the data-id attribute value from the clicked button
                    var dataId = button.getAttribute('data-id');
                    var candidate_id = button.getAttribute('candidate-id');
                    // Update the content of the modal with the retrieved data
                    document.getElementById('stcw_id').value = dataId;
                    document.getElementById('candidate_id').value = candidate_id;
    
                    }

                
            </script>
            <style>
                    .o_portal_my_doc_table {
                        width: 60%; /* You can adjust the percentage as needed */
                        margin: 0 auto; /* Centers the table horizontally */
                    }

                    /* Optionally, you can set specific widths for individual columns */
                    .o_portal_my_doc_table th,
                    .o_portal_my_doc_table td {
                        width: auto; /* Adjust as needed */
                    }
                        .card-img-container {
                        text-align: left;
                        margin-bottom: 10px;
                        }

                        .card-img {
                        width: 150px; /* Adjust the width as needed */
                        height: 150px; /* Adjust the height as needed */
                        object-fit: cover;
                        border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
                        }
            </style>

            <div class="container">

                <!-- <a style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Update Image and Indos</a> -->
                <!-- <t t-if="batches.state == '1-ongoing'"> -->
                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#updateCandidateIndos" class="btn btn-primary btn_cta">Update Candidate</a>
                    <span class='p-2'>Please Click on the Update Candidate Button to Update the candidate Details</span>
                <!-- </t> -->
                <div class="modal fade" id="updateCandidateIndos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/updategpcandidate" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" class="form-control" id="canidate_id" name="canidate_id" t-attf-value="{{candidate.id}}" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">Update Details</h5>
                                </div>
                                <div class="modal-body">
                                    <span class='p-2'>Candidate Image and Signature should be same as INDoS</span>
                                    <!-- Modal content goes here -->
                                    <div class="container mt-5">
                                        <div class="row">
                                            <div class="col-md-5">
                                                <div class="card-img-container">
                                                    <t t-if="candidate.candidate_image">
                                                        <img t-attf-src="data:image/png; base64, {{candidate.candidate_image}}" alt="avatar" class="rounded img-fluid" style="width: 150px;"/>
                                                    </t>
                                                    <t t-else="">
                                                        <img src="https://via.placeholder.com/150" class="card-img-top card-img" style="width: 150px;" alt="Candidate Photo" />
                                                    </t>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label for="candidate_photo" class="form-label">Candidate Photo</label>
                                                    <input type="file" class="form-control" id="candidate_photo" name="candidate_photo" accept="image/*" onchange="displayImage(this)" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Indos No.</label>
                                                    <input type="text" class="form-control" id="indos_no" name="indos_no" t-att-value ="candidate.indos_no"/>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="card-img-container">
                                                    <t t-if="candidate.candidate_signature">
                                                        <img t-attf-src="data:image/png;base64,{{candidate.candidate_signature}}" class="card-img-top card-img sign-img" style="width: 250px; height:75px" alt="Signature" />
                                                    </t>
                                                    <t t-else="">
                                                        <img src="https://placehold.co/250x75" class="card-img-top card-img sign-img" style="width: 250px; height:75px" alt="Signature" />
                                                    </t>
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label for="signature_photo" class="form-label">Signature Photo</label>
                                                    <input type="file" class="form-control" id="signature_photo" name="signature_photo" accept="image/*" onchange="displaySignImage(this)" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Full Name</label>
                                                    <input type="text" class="form-control" id="full_name" name="full_name"  t-att-value ="candidate.name"/>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Date of Birth</label>
                                                    <input type="date" class="form-control" id="dob" name="dob" t-att-value ="candidate.dob"/>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">E-mail</label>
                                                    <input type="text" class="form-control" id="e_mail" name="e_mail" t-att-value ="candidate.email"/>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Mobile</label>
                                                    <input type="text" class="form-control" id="mobile" name="mobile" t-att-value ="candidate.mobile"/>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Address</label>
                                                    <div class="form-group">
                                                        <label for="">line 1</label><input type="text" class="form-control mb-3" id="street" name="street" t-att-value ="candidate.street"/>
                                                        <label for="">line 2</label><input type="text" class="form-control" id="street2" name="street2" t-att-value ="candidate.street2"/>
                                                        <label for="">City</label><input type="text" class="form-control" id="city" name="city" t-att-value ="candidate.city"/>
                                                        <label for="">Pincode</label><input type="text" class="form-control" id="zip" name="zip" t-att-value ="candidate.zip"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Update</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>




                <div class="row">
                    <div class="col-lg-4">
                        <div class="card mb-4">
                            <div class="card-body text-center">
                                <t t-if="candidate.candidate_image">
                                    <img t-attf-src="data:image/png; base64, {{candidate.candidate_image}}" alt="avatar" class="rounded img-fluid" style="width: 150px;"/>
                                </t>
                                <t t-else="">
                                    <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;"/>
                                </t>
                                <h5 class="my-3">
                                    <t t-out="candidate.name" />
                                </h5>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.street"/>
                                </span>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.street2"/>
                                </span>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.city"/>
                                </span>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.state_id.name"/>
                                </span>
                                <p class="text-muted mb-0">
                                    <t t-out="candidate.zip"/>
                                </p>
                                <t t-if="candidate.candidate_signature">
                                    <img t-attf-src="data:image/png; base64, {{candidate.candidate_signature}}" alt="avatar" class="rounded img-fluid" style="width: 150px;"/>
                                </t>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="card mb-4">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Full Name</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.name"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">E-mail</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.email"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Indos No</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.indos_no"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Date of Birth</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.dob.strftime('%d-%b-%y')"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Mobile</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.mobile"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Address</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.street"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.street2"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.city"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.state_id.name"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.zip"/>
                                        </span>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label for="fees_paid">Fees Paid</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">

                                            <t t-if="candidate.fees_paid == 'yes'">
                                            Yes
                                            </t>
                                            <t t-else="">
                                            No
                                            </t>


                                            <!-- <select id="fees_paid" name="fees_paid" t-att-disabled="1">
                                                <option value="yes">Yes</option>
                                                <option value="no" t-att-selected="1">No</option>
                                            </select> -->
                                        </p>
                                        <t t-if="batches.state == '6-done'">
                                        </t>
                                        <t t-else="">
                                            <p class="text-muted mb-0">
                                                <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#updateFeesPaid" class="btn btn-primary btn_cta">Update</a>
                                            </p>
                                        </t>
                                        <div class="modal fade" id="updateFeesPaid" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <form method="post" action="/my/gpcandidate/updatefees" enctype="multipart/form-data">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleModalLabel">Update Fees Paid</h5>
                                                        </div>
                                                        <div class="modal-body">
                                                            <input type="hidden" id="candidate_id" t-attf-value="{{candidate.id}}" name="candidate_id"/>
                                                            <label for="fees_paid">Fees Paid:</label>

                                                            <select id="fees_paid" name="fees_paid">
                                                                <option value="yes">Yes</option>
                                                                <option value="no" t-att-selected="1">No</option>
                                                            </select>

                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="submit" class="btn btn-primary">Update</button>
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <t t-if="candidate.fees_paid == 'yes'">
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <label for="invoice_no">Invoice No.</label>
                                        </div>
                                        <div class="col-sm-9">
                                            <t t-out="candidate.invoice_no"/>
                                        </div>
                                    </div>
                                </t>


                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">

                                <div class="container">
                                    <ul class="nav nav-tabs mb-3" id="ex-with-icons" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link active" id="ex-with-icons-tab-1" data-toggle="tab" href="#ex-with-icons-tabs-1" role="tab" aria-controls="ex-with-icons-tabs-1" aria-selected="true">
                                                <i class="fas fa-chart-pie fa-fw me-2"></i>Ship Visits</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="ex-with-icons-tab-2" data-toggle="tab" href="#ex-with-icons-tabs-2" role="tab" aria-controls="ex-with-icons-tabs-2" aria-selected="false">
                                                <i class="fas fa-chart-line fa-fw me-2"></i>Attendance</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="ex-with-icons-tab-3" data-toggle="tab" href="#stcw_certificates" role="tab" aria-controls="ex-with-icons-tabs-3" aria-selected="false">
                                                <i class="fas fa-chart-pie fa-fw me-2"></i>STCW Certificate</a>
                                        </li>
                                    </ul>




                                    <div class="tab-content" id="ex-with-icons-content">

                                        <div class="tab-pane fade show active" id="ex-with-icons-tabs-1" role="tabpanel" aria-labelledby="ex-with-icons-tab-1">

                                            <t t-if="batches.state == '6-done'">
                                            </t>
                                            <t t-else="">
                                                <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#AddShipVisit" t-attf-candidate-id="{candidate.id}" class="btn btn-primary btn_cta">Add</a>
                                            </t>
                                            


                                            <div class="modal fade" id="DeleteShipVisitModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/shipvisit/delete" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Delete Ship Visit</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                Are you sure you want to delete ?
                                                                <input type="hidden" id="visit_id" name="visit_id"/>
                                                                <input type="hidden" id="candidate_id" name="candidate_id" t-attf-value="{{candidate.id}}"/>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-danger">Delete</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                            <div class="modal fade" id="AddShipVisit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/addshipvisit" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Add Ship Visit</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                <!-- Modal content goes here -->
                                                                <div class="container mt-5">
                                                                    <div class="row">

                                                                        <div class="col-md-6">
                                                                            <input type="hidden" class="form-control" id="candidate_id" name="candidate_id" t-attf-value="{{candidate.id}}" />
                                                                            <div class="form-group">
                                                                                <label for="name_of_ships">Name of the Ship Visited / Ship in Campus</label>
                                                                                <input type="text" class="form-control" id="name_of_ships" name="name_of_ships"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="imo_no">Ship IMO Number</label>
                                                                                <input type="text" class="form-control" id="imo_no" name="imo_no"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="name_of_ports_visited">Name of the Port Visited / Place of SIC</label>
                                                                                <input type="text" class="form-control" id="name_of_ports_visited" name="name_of_ports_visited"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="date_of_visits">Date Of Visit</label>
                                                                                <input type="date" class="form-control" id="date_of_visits" name="date_of_visits"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="time_spent_on_ship">Hours Spent on Ship</label>
                                                                                <input type="number" class="form-control" id="time_spent_on_ship" name="time_spent_on_ship"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="bridge" name="bridge"/>
                                                                                <label class="form-check-label" for="bridge">Bridge</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="eng_room" name="eng_room"/>
                                                                                <label class="form-check-label" for="eng_room">Eng. Room</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="cargo_area" name="cargo_area"/>
                                                                                <label class="form-check-label" for="cargo_area">Cargo Area</label>
                                                                            </div>
                                                                        </div>


                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Add</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                            <div class="table-responsive border rounded border-top-0 ">
                                                <table class="table rounded mb-0 bg-white o_portal_my_doc_table">
                                                    <thead>
                                                        <tr>
                                                            <th>Action</th>
                                                            <th>Name of the Ship Visited / Ship in Campus</th>
                                                            <th>Ship IMO Number</th>
                                                            <th>Name of Ports</th>
                                                            <th>Date Of Visit</th>
                                                            <th>Hours</th>
                                                            <th>Bridge</th>
                                                            <th>Eng. Room</th>
                                                            <th>Cargo Area</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <t t-foreach="candidate.ship_visits" t-as="ship_visit">
                                                            <tr>
                                                                <td>
                                                                    <t t-if="batches.state == '6-done'">
                                                                    </t>
                                                                    <t t-else="">
                                                                        <button type="button" class="btn btn-danger" t-attf-data-id="{{ship_visit.id}}" t-attf-candidate-id="{{candidate.id}}" data-toggle="modal" onclick="openDeleteModal(this)" data-target="#DeleteShipVisitModal">
                                                                
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"></path>
                                                                            <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"></path>
                                                                        </svg>
                                                                    </button>
                                                                    </t>
                                                                    
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.name_of_ships" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.imo_no" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.name_of_ports_visited" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.date_of_visits" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.time_spent_on_ship" />
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.bridge == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.eng_room == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.cargo_area == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                            </tr>
                                                        </t>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <!-- Attendance  -->

                                        <!-- <div class="tab-pane fade" id="ex-with-icons-tabs-2" role="tabpanel" aria-labelledby="ex-with-icons-tab-2">
                                            <t t-if="batches.state == '6-done'">
                                            </t>
                                            <t t-else="">
                                                <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#AddAttendance" class="btn btn-primary btn_cta">Update</a>
                                            </t>
                                            <div>
                                                <h5 class="my-3">Whether Attendance record of the candidate comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC :

                                                    <t t-out="candidate.attendance_compliance_1" />
                                                </h5>
                                            </div>
                                            <div>
                                                <h5 class="my-3">Attendance record of the candidate not comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC and whether same has been informed to the DGS :
                                                    <t t-out="candidate.attendance_compliance_2" />
                                                </h5>
                                            </div>
                                            <div class="modal fade" id="AddAttendance" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/gpcandidate/addattendance" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <t t-set="institutes" t-value="env['bes.institute'].sudo().search([])"/>
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Add Attendance</h5>
                                                            </div>

                                                            <div class="modal-body">
                                                                <input type="hidden" id="candidate_id" t-attf-value="{{candidate.id}}" name="candidate_id"/>
                                                                <label for="attendance1">Whether Attendance record of the candidate comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC (YES/ NO):</label>

                                                                <select id="attendance1" name="attendance1">
                                                                    <option value="yes">Yes</option>
                                                                    <option value="no" t-att-selected="1">No</option>
                                                                </select>

                                                                <label for="attendance2">Attendance record of the candidate not comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC and whether same has been informed to the DGS (YES/ NO):</label>

                                                                <select id="attendance2" name="attendance2">
                                                                    <option value="yes">Yes</option>
                                                                    <option value="no" t-att-selected="1">No</option>
                                                                </select>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Update</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>


                                        </div> -->

                                        <div class="tab-pane fade" id="ex-with-icons-tabs-2" role="tabpanel" aria-labelledby="ex-with-icons-tab-2">
                                            <t t-if="batches.state == '6-done'">
                                            </t>
                                            <t t-else="">
                                                <form method="post" action="/my/gpcandidate/addattendance" enctype="multipart/form-data">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <div class="mb-3">
                                                        <button type="submit" class="btn btn-primary btn_cta">Update</button>
                                                    </div>
                                                    <div>
                                                     <input type="hidden" id="candidate_id" t-attf-value="{{candidate.id}}" name="candidate_id"/>
                                                        <h5 class="my-3">Whether Attendance record of the candidate comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for GP:
                                                            <select name="attendance1">
                                                                <option value="yes" t-att-selected="candidate.attendance_compliance_1 == 'yes'">Yes</option>
                                                                <option value="no"  t-att-selected="candidate.attendance_compliance_1 == 'no'">No</option>
                                                            </select>
                                                        </h5>
                                                    </div>
                                                    <div>
                                                        <h5 class="my-3">Attendance record of the candidate not comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for GP and whether same has been informed to the DGS:
                                                            <select name="attendance2">
                                                                <option value="yes" t-att-selected="candidate.attendance_compliance_2 == 'yes'">Yes</option>
                                                                <option value="no" t-att-selected="candidate.attendance_compliance_2 == 'no'">No</option>
                                                            </select>
                                                        </h5>
                                                    </div>
                                                </form>
                                            </t>
                                        </div>

                                        <div class="tab-pane fade" id="stcw_certificates" role="tabpanel" aria-labelledby="ex-with-icons-tab-3">

                                            <div class="modal fade" id="DeleteSTCW" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/stcw/delete" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Delete STCW</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                Are you sure you want to delete ?
                                                                <input type="hidden" id="stcw_id" name="stcw_id"/>
                                                                <input type="hidden" id="candidate_id" name="candidate_id" t-attf-value="{{candidate.id}}"/>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-danger">Delete</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                            <t t-if="batches.state == '6-done'">
                                            </t>
                                            <t t-else="">
                                                <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#AddStcw" class="btn btn-primary btn_cta">Add</a>
                                            </t>
                                            <div class="modal fade" id="AddStcw" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/gpcandidate/addstcw" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <t t-set="institutes" t-value="env['bes.institute'].sudo().search([])"/>
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Add STCW Certificate</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_name">Course</label>
                                                                            <select class="form-control" id="course_name" name="course_name">
                                                                                <option value="pst">PST</option>
                                                                                <option value="efa">EFA</option>
                                                                                <option value="fpff">FPFF</option>
                                                                                <option value="pssr">PSSR</option>
                                                                                <option value="stsdsd">STSDSD</option>
                                                                                <option value="bst">BST</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="institute_name">Institute Name</label>
                                                                            <!-- Assuming you have a list of institutes available -->
                                                                            <select class="form-control" id="institute_name" name="institute_name">
                                                                                <t t-foreach="institutes" t-as="institute">
                                                                                    <option t-attf-value="{{institute.id}}">
                                                                                        <t t-out="institute.name"/>
                                                                                    </option>
                                                                                </t>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="marine_training_inst_number">MTI Number</label>
                                                                            <input type="text" class="form-control" id="marine_training_inst_number" name="marine_training_inst_number"/>
                                                                            <input type="hidden" class="form-control" t-attf-value="{{candidate.id}}" id="candidate_id" name="candidate_id"/>

                                                                        </div>
                                                                    </div>

                                                                    <!-- <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="mti_indos_no">Indos No.</label>
                                                                            <input type="text" class="form-control" id="mti_indos_no" name="mti_indos_no"/>
                                                                        </div>
                                                                    </div> -->

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="candidate_cert_no">Candidate Certificate Number</label>
                                                                            <input type="text" class="form-control" id="candidate_cert_no" name="candidate_cert_no"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_start_date">Course Start Date</label>
                                                                            <input type="date" class="form-control" id="course_start_date" name="course_start_date"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_end_date">Course End Date</label>
                                                                            <input type="date" class="form-control" id="course_end_date" name="course_end_date"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="certificate_upload">Certificate Upload</label>
                                                                            <input type="file" class="form-control" id="certificate_upload" name="certificate_upload"/>
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Add</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="table-responsive border rounded border-top-0 ">
                                                <table class="table rounded mb-0 bg-white o_portal_my_doc_table">
                                                    <thead>
                                                        <tr>
                                                            <th>Action</th>
                                                            <th>Course</th>
                                                            <th>Institute Name</th>
                                                            <th>MTI Number</th>
                                                            <th>INDOS No.</th>
                                                            <th>Candidate Certificate Number</th>
                                                            <!-- <th>Certificate Docs</th> -->
                                                            <th>Start Date</th>
                                                            <th>End Date</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <t t-foreach="candidate.stcw_certificate" t-as="stcw_certificate">
                                                            <tr>
                                                                
                                                                <td>
                                                                    <t t-if="batches.state == '6-done'">
                                                                    </t>
                                                                    <t t-else="">
                                                                        <button type="button" class="btn btn-danger" t-attf-data-id="{{stcw_certificate.id}}" t-attf-candidate-id="{{candidate.id}}" data-toggle="modal" onclick="openSTCWDeleteModal(this)" data-target="#DeleteSTCW">
                                                                
                                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"></path>
                                                                                <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"></path>
                                                                            </svg>
                                                                        </button>
                                                                    </t>
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_name" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.institute_name.name" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.marine_training_inst_number" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.candidate_id.indos_no" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.candidate_cert_no" />
                                                                </td>
                                                                <!--   -->
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_start_date" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_end_date" />
                                                                </td>
                                                            </tr>
                                                        </t>

                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </t>
    </template>



    <template id="gp_candidate_form_view" name="GP Candidate Form">
        <style>
            body {
            background-color: #f8f9fa;
            }

            .container {
            max-width: 500px;
            margin: auto;
            margin-top: 20px;
            }

            .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .card-img-container {
            text-align: left;
            margin-bottom: 10px;
            }

            .card-img {
            width: 150px; /* Adjust the width as needed */
            height: 150px; /* Adjust the height as needed */
            object-fit: cover;
            border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
            }

            .form-title {
            text-align: center;
            color: #007bff;
            }

            .form-group {
            margin-bottom: 20px;
            }

            .form-label {
            font-weight: bold;
            }

            .btn-submit {
            background-color: #007bff;
            color: #ffffff;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            }
        </style>
        <script>
            function displayImage(input) {
                const cardImg = document.querySelector('.card-img');
                const file = input.files[0];

                if (file) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    cardImg.src = e.target.result;
                };

                reader.readAsDataURL(file);
                }
            }
        </script>
        <t t-call="portal.portal_layout">

            <div class="container">
                <div class="card">

                    <div class="card-body">
                        <h2 class="form-title mb-4">GP Candidate</h2>

                        <form method="post">
                            <div class="row">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                <input type="hidden" class="form-control" id="batch_id" name="batch_id" t-att-value="batch_id"/>
                                <!-- <div class="col-md-2">
                                    <div class="card-img-container">
                                        <img src="https://via.placeholder.com/150" class="card-img-top card-img" style="width: 150px;" alt="Candidate Photo" />
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label for="photo" class="form-label">Candidate Photo</label>
                                        <input type="file" class="form-control" id="photo" name="name" accept="image/*" onchange="displayImage(this)" />
                                    </div>
                                </div> -->
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="name">Full Name of Candidate as in INDOS</label>
                                        <input type="text" class="form-control" id="name" name="name" required="true" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="indos_no">Indos No.</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="indos_no" name="indos_no" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="candidate_code">GP Candidate Code No.</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="candidate_code" name="candidate_code" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="roll_no">Roll No.</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="roll_no" name="roll_no" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="dob">DOB</label>
                                        <input type="date" class="form-control" id="dob" name="dob" />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="street">Street</label>
                                        <input type="text" class="form-control" id="street" name="street"/>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="street2">Street2</label>
                                        <input type="text" class="form-control" id="street2" name="street2"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" id="city" name="city"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="zip">Zip</label>
                                        <input type="text" class="form-control" id="zip" name="zip"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="state_id">State</label>
                                        <select class="form-control" id="state_id" name="state_id">
                                            <t t-foreach="states" t-as="state">
                                                <option t-attf-value="{{state.id}}">
                                                    <t t-out="state.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="phone">Phone</label>
                                        <input type="text" class="form-control" id="phone" name="phone"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="mobile">Mobile</label>
                                        <input type="text" class="form-control" id="mobile" name="mobile"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control" id="email" name="email"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="tenth_percent">% Xth Std in Eng.</label>
                                        <input type="number" class="form-control" id="tenth_percent" name="tenth_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="twelve_percent">% 12th Std in Eng.</label>
                                        <input type="number" class="form-control" id="twelve_percent" name="twelve_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="iti_percent">% ITI</label>
                                        <input type="number" class="form-control" id="iti_percent" name="iti_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group form-check">
                                        <input type="checkbox" class="form-check-input" id="sc_st" name="sc_st"/>
                                        <label class="form-check-label" for="sc_st">To be mentioned if Candidate SC/ST</label>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-sm-10">
                                        <button type="submit" class="btn btn-primary">Create</button>
                                    </div>
                                </div>





                            </div>



                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>


    <template id="ccmc_candidate_form_view" name="CCMC Candidate Form">
        <style>
            body {
            background-color: #f8f9fa;
            }

            .container {
            max-width: 500px;
            margin: auto;
            margin-top: 20px;
            }

            .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .card-img-container {
            text-align: left;
            margin-bottom: 10px;
            }

            .card-img {
            width: 150px; /* Adjust the width as needed */
            height: 150px; /* Adjust the height as needed */
            object-fit: cover;
            border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
            }

            .form-title {
            text-align: center;
            color: #007bff;
            }

            .form-group {
            margin-bottom: 20px;
            }

            .form-label {
            font-weight: bold;
            }

            .btn-submit {
            background-color: #007bff;
            color: #ffffff;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            }
        </style>
        <script>
            function displayImage(input) {
                const cardImg = document.querySelector('.card-img');
                const file = input.files[0];

                if (file) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    cardImg.src = e.target.result;
                };

                reader.readAsDataURL(file);
                }
            }
        </script>
        <t t-call="portal.portal_layout">

            <!-- <div class="container">
                <div class="card">

                    <div class="card-body">
                        <h2 class="form-title mb-4">CCMC Candidate</h2>

                        <form method="post">
                            <div class="row">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                <input type="hidden" class="form-control" id="batch_id" name="batch_id" t-att-value="batch_id"/>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="name">Full Name of Candidate as in INDOS</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="name" name="name" required="true" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="indos_no">Indos No.</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="indos_no" name="indos_no" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="candidate_code">CCMC Candidate Code No.</label>
                                        <input t-att-disabled="1" type="text" class="form-control" id="candidate_code" name="candidate_code" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="roll_no">Roll No.</label>
                                        <input type="text" class="form-control" id="roll_no" name="roll_no" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="dob">DOB</label>
                                        <input type="date" class="form-control" id="dob" name="dob" />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="street">Street</label>
                                        <input type="text" class="form-control" id="street" name="street"/>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="street2">Street2</label>
                                        <input type="text" class="form-control" id="street2" name="street2"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" id="city" name="city"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="zip">Zip</label>
                                        <input type="text" class="form-control" id="zip" name="zip"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="state_id">State</label>
                                        <select class="form-control" id="state_id" name="state_id">
                                            <t t-foreach="states" t-as="state">
                                                <option t-attf-value="{{state.id}}">
                                                    <t t-out="state.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="phone">Phone</label>
                                        <input type="text" class="form-control" id="phone" name="phone"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="mobile">Mobile</label>
                                        <input type="text" class="form-control" id="mobile" name="mobile"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control" id="email" name="email"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="tenth_percent">% Xth Std in Eng.</label>
                                        <input type="number" class="form-control" id="tenth_percent" name="tenth_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="twelve_percent">% 12th Std in Eng.</label>
                                        <input type="number" class="form-control" id="twelve_percent" name="twelve_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="iti_percent">% ITI</label>
                                        <input type="number" class="form-control" id="iti_percent" name="iti_percent"/>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group form-check">
                                        <input type="checkbox" class="form-check-input" id="sc_st" name="sc_st"/>
                                        <label class="form-check-label" for="sc_st">To be mentioned if Candidate SC/ST</label>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-sm-10">
                                        <button type="submit" class="btn btn-primary">Create</button>
                                    </div>
                                </div>





                            </div>



                        </form>
                    </div>
                </div>
            </div> -->
        </t>
    </template>


    <template id="gp_faculty_form_view" name="Faculty Form">
        <style>
            body {
            background-color: #f8f9fa;
            }

            .container {
            max-width: 500px;
            margin: auto;
            margin-top: 20px;
            }

            .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }

            .card-img-container {
            text-align: left;
            margin-bottom: 10px;
            }

            .card-img {
            width: 150px; /* Adjust the width as needed */
            height: 150px; /* Adjust the height as needed */
            object-fit: cover;
            border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
            }

            .form-title {
            text-align: center;
            color: #007bff;
            }

            .form-group {
            margin-bottom: 20px;
            }

            .form-label {
            font-weight: bold;
            }

            .btn-submit {
            background-color: #007bff;
            color: #ffffff;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            }
            
        </style>
        <script>
            function displayImage(input) {
                const cardImg = document.querySelector('.card-img');
                const file = input.files[0];

                if (file) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    cardImg.src = e.target.result;
                };

                reader.readAsDataURL(file);
                }
            }
        </script>
        <t t-call="portal.portal_layout">

            <div class="container">
                <div class="card">

                    <div class="card-body">
                        <h2 class="form-title mb-4">Faculty</h2>

                        <form method="post" enctype="multipart/form-data">
                            <div class="row">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                <input type="hidden" class="form-control" id="batch_id" name="batch_id" t-att-value="batch_id"/>
                                <div class="col-md-2">
                                    <div class="card-img-container">
                                        <img src="https://via.placeholder.com/150" class="card-img-top card-img" style="width: 150px;" alt="Faculty Photo" />
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label for="faculty_photo" class="form-label">Faculties Photo</label>
                                        <input type="file" class="form-control" id="faculty_photo" name="faculty_photo" accept="image/*" onchange="displayImage(this)" />
                                    </div>
                                </div>
                            </div>
                            <t t-set="courses" t-value="env['course.master'].sudo().search([])"/>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="faculty_name">Full Name of Faculty</label>
                                        <input type="text" class="form-control" id="faculty_name" name="faculty_name" required="true" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="dob">DOB</label>
                                        <input type="date" class="form-control" id="dob" name="dob" />
                                    </div>
                                </div>

                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="course_name">Course Name</label>
                                        <!-- Assuming you have a list of courses available -->
                                        <select class="form-control" id="course_name" name="course_name">
                                            <t t-foreach="courses" t-as="course">
                                                <option t-attf-value="{{course.id}}">
                                                    <t t-out="course.name"/>
                                                </option>
                                            </t>
                                            <!-- Add more options as needed -->
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="designation">Designation</label>
                                        <input type="text" class="form-control" id="designation" name="designation" required="true" />
                                    </div>
                                </div>

                            </div>


                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="qualification">Qualification</label>
                                        <textarea type="text" class="form-control" id="qualification" name="qualification" required="true" />
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="contract_terms">Contract Terms</label>
                                        <textarea type="text" class="form-control" id="contract_terms" name="contract_terms" required="true" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="courses_taught">Courses Taught</label>
                                        <!-- Assuming you have a list of courses available -->
                                        <select class="form-control" id="courses_taught" name="courses_taught">
                                            <t t-foreach="courses" t-as="course">
                                                <option t-attf-value="{{course.id}}">
                                                    <t t-out="course.name"/>
                                                </option>
                                            </t>
                                            <!-- Add more options as needed -->
                                        </select>
                                    </div>
                                </div>
                            </div>



                            <div class="form-group row">
                                <div class="col-sm-10">
                                    <button type="submit" class="btn btn-primary">Create</button>
                                </div>
                            </div>




                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>


    <template id="gp_candidate_portal_list" name="GP Candidate">
        <script>                    

                                    <!-- $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    }); -->

                                    function onOpenDeleteCandidateModal(button){
                                        
                                        var dataId = button.getAttribute('candidate-id');
                                        console.log(dataId)
                                        document.getElementById('candidate_id').value = dataId;
                                        var batchId = button.getAttribute('batch-id');
                                        console.log(batchId)
                                        document.getElementById('candidate_batch_id').value = batchId;
                                    }

                                    function createUser(button) {
                                        debugger
                                        var dataId = button.getAttribute('candidate-id');
                                        console.log(dataId);
                                        document.getElementById('confirm_gp_candidate_id').value = dataId;
                                        var batchId = button.getAttribute('batch-id');
                                        console.log(batchId);
                                        document.getElementById('confirm_gp_candidate_batch_id').value = batchId;
                                    }

                                    function openUploadModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('batch-id');
                                    // Update the content of the modal with the retrieved data
                                    document.getElementById('batch_id').value = dataId;

                                    }

                                    function onOpenAddCandidateModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('batch-id');
                                    console.log(dataId)
                                    // Update the content of the modal with the retrieved data
                                    
                                    document.getElementById('batch_id').value = dataId;

                                     $.ajax({
                                            url: "/getcountrystate", // Update the URL with your actual route
                                            method: "GET",
                                            dataType: "json",
                                            success: function(data) {
                                            // Handle the successful response
                                            var selectField = $("#state_id");

                                            // Clear existing options
                                            selectField.empty();

                                            // Append new options based on the response
                                            $.each(data, function(index, state) {
                                                selectField.append(`<option value="${state.id}">${state.name}</option>`);
                                            });

                                            },
                                            error: function(xhr, status, error) {
                                            // Handle errors
                                            console.error("Error loading data:", status, error);
                                            }
                                        });

                                    
                                    }

                        function feesPaid(selectField) {

                                
                                var selectId = selectField.id;
                                let candidate_id = selectId.match(/\d+$/)[0];
                                let fees_paid = selectField.value;
                                var data = {
                                                "candidate_id": candidate_id,
                                                "fees_paid": fees_paid
                                        }


                                $.ajax({
                                type: "POST",
                                url: '/my/gpcandidate/updatefees2',
                                data: JSON.stringify(data),
                                contentType: 'application/json',
                                success: function (response) {
                                    <!-- debugger -->
                                    console.log("POST request successful:", response);

                                    // if response["status"]
                                    // Handle success response
                                },
                                    error: function (xhr, status, error) {
                                        debugger
                                        console.error("POST request failed:", error);
                                        
                                        // Handle error
                                    }
                                });
     

                        }

                        function attendanceCompliance1(selectField) {

                                
                                var selectId = selectField.id;
                                let candidate_id = selectId.match(/\d+$/)[0];
                                let attendance1 = selectField.value;
                                <!-- debugger -->
                                var data = {
                                                "candidate_id": candidate_id,
                                                "attendance_compliance_1": attendance1,
                                        }


                                $.ajax({
                                type: "POST",
                                url: '/my/gpcandidate/attendance_compliance_1',
                                data: JSON.stringify(data),
                                contentType: 'application/json',
                                success: function (response) {
                                    <!-- debugger -->
                                    console.log("POST request successful:", response);

                                    // if response["status"]
                                    // Handle success response
                                },
                                    error: function (xhr, status, error) {
                                        debugger
                                        console.error("POST request failed:", error);
                                        
                                        // Handle error
                                    }
                                });
     

                        }

                        function attendanceCompliance2(selectField) {

                                
                                var selectId = selectField.id;
                                let candidate_id = selectId.match(/\d+$/)[0];
                                let attendance2 = selectField.value;
                                <!-- debugger -->
                                var data = {
                                                "candidate_id": candidate_id,
                                                "attendance_compliance_2": attendance2,
                                        }


                                $.ajax({
                                type: "POST",
                                url: '/my/gpcandidate/attendance_compliance_2',
                                data: JSON.stringify(data),
                                contentType: 'application/json',
                                success: function (response) {
                                    <!-- debugger -->
                                    console.log("POST request successful:", response);

                                    // if response["status"]
                                    // Handle success response
                                },
                                    error: function (xhr, status, error) {
                                        debugger
                                        console.error("POST request failed:", error);
                                        
                                        // Handle error
                                    }
                                });
     

                        }
                                                                
                        

                                    
        </script>
        <!-- <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style> -->

        <t t-call="portal.portal_layout">
            <div class="container">
                <p class="text-warning">To Upload the candidate details in bulk 
                    <ol>
                        <li>
                            <span>Download the candidate format by clicking on the "Download Candidate Format" Button</span>
                        </li>
                        <li>
                            <span>Fill the candidate details and follow the instruction provide within the excel sheet named "Instructions"</span>
                        </li>
                        <li>
                            <span>Save your excel file and navigate back to this page and click on "Upload Bulk Candidate"</span>
                        </li>
                        
                    </ol>
                </p>
                <p class="text-warning">To Add a single Candidate you can use "Add Candidate" button" </p>
                <p class="text-warning">To View or Update the Details of the candidate scroll to the right and click on"View/Update" </p>
            </div>

            <t t-set="correct_data_count" t-value="env['gp.candidate'].sudo().search_count([('institute_batch_id','=',batch_id),('candidate_user_invoice_criteria','=',True)])" />
            <t t-set="not_correct_data_count" t-value="env['gp.candidate'].sudo().search_count([('institute_batch_id','=',batch_id),('candidate_user_invoice_criteria','=',False)])" />
            <t t-set="ins_batch" t-value="env['institute.gp.batches'].sudo().search([('id','=',batch_id)])" />
            <span >Number of Candidate Details Successfully Filled <strong class="text-success"><t t-out="correct_data_count" /></strong></span> /<strong class="text-warning"><t t-out="ins_batch.candidate_count"/></strong> (total no of candidate)<br/>
            <span>Number of Candidate Details Data Remaining <strong class="text-danger"><t t-out="not_correct_data_count" /></strong></span> <br/>
            <strong class="">To generate the invoice Indos No,Candidate Image and Signature also Fees Paid to be marked as yes must be filled for all the candidates</strong>
            <t t-if="ins_batch.candidate_user_invoice_criteria">
                <div class="alert alert-success" role="alert">You have successfully Filled all the candidate required details to generate invoice</div>
            </t>



            <t t-if="batches.state == '1-ongoing'">
                <div class="d-flex justify-content-between">
                    <div class="">
                        <a href="/my/gpbatch/candidates/download_format" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Download Candidate Format</a>
                        <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="openUploadModal(this)" data-target="#uploadCandidateModal" class="btn btn-primary btn_cta">Upload Bulk Candidate</a>
                        <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="onOpenAddCandidateModal(this)" data-target="#addCandidateModal" class="btn btn-primary btn_cta">Add Candidate</a>                    
                    </div>
                    <div class="">
                        <a href="/my/upload_instructions" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta ">Uploading instructions</a>
                    </div>
                </div>

            </t>
            <!-- <a href="https://drive.google.com/file/d/1agCDcYJvWhSroD0_zK9EqF1MpTl5M70W/view?usp=share_link" target="_blank" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Download Upload Format</a> -->

            <!-- <a href="" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Download instruction</a> -->


            <div class="modal fade" id="uploadCandidateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Upload Candidate</h5>

                        </div>
                        <div class="modal-body">
                            <!-- Modal content goes here -->
                            <div class="container mt-5">

                                <form method="post" action="/my/uploadgpcandidatedata" enctype="multipart/form-data">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                    <input type="hidden" id="batch_id" name="batch_id" />
                                    <div class="form-group">
                                        <label for="fileUpload">XLSX Upload</label>
                                        <input type="file" class="form-control-file" accept=".xlsx" name="fileUpload" id="fileUpload"/>
                                    </div>
                                    <button id="uploadBtn" type="submit" class="btn btn-primary">Upload</button>
                                    <!-- <div id="loader-overlay" style="display: none;">
                                        <div id="loader">
                                            Uploading
                                        </div>
                                    </div> -->

                                </form>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal fade" id="addCandidateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <form method="post" action="/my/creategpcandidateform">

                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Add Candidate</h5>

                        </div>
                        <div class="modal-body">
                            <!-- Modal content goes here -->
                            <div class="container mt-5">
                                <!-- <input type="text" id="batch_id" name="batch_id" /> -->

                          
                                    <div class="row">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <input type="hidden" class="form-control" id="batch_id" name="batch_id" t-att-value="batch_id"/>
                                        <!-- <div class="col-md-2">
                                    <div class="card-img-container">
                                        <img src="https://via.placeholder.com/150" class="card-img-top card-img" style="width: 150px;" alt="Candidate Photo" />
                                    </div>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label for="photo" class="form-label">Candidate Photo</label>
                                        <input type="file" class="form-control" id="photo" name="name" accept="image/*" onchange="displayImage(this)" />
                                    </div>
                                </div> -->
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="name">Full Name of Candidate as in INDOS</label>
                                                <input type="text" class="form-control" id="name" name="name" required="true" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="indos_no">Indos No.</label>
                                                <input type="text" class="form-control" id="indos_no" name="indos_no" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="candidate_code">GP Candidate Code No.</label>
                                                <input t-att-disabled="1" type="text" class="form-control" id="candidate_code" name="candidate_code" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="roll_no">Roll No.</label>
                                                <input t-att-disabled="1" type="text" class="form-control" id="roll_no" name="roll_no" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="dob">DOB</label>
                                                <input type="date" class="form-control" id="dob" name="dob" required="true"/>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="street">Street</label>
                                                <input type="text" class="form-control" id="street" name="street" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="street2">Street2</label>
                                                <input type="text" class="form-control" id="street2" name="street2"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="city">City</label>
                                                <input type="text" class="form-control" id="city" name="city" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="zip">Zip</label>
                                                <input type="text" class="form-control" id="zip" name="zip" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="state_id">State</label>
                                                <select class="form-control" id="state_id" name="state_id">

                                                        <option value="not_avai">
                                                            Not available
                                                        </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="phone">Phone</label>
                                                <input type="text" class="form-control" id="phone" name="phone"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="mobile">Mobile</label>
                                                <input type="text" class="form-control" id="mobile" name="mobile" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input type="email" class="form-control" id="email" name="email"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="tenth_percent">% Xth Std in Eng.</label>
                                                <input type="number" class="form-control" id="tenth_percent" name="tenth_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="twelve_percent">% 12th Std in Eng.</label>
                                                <input type="number" class="form-control" id="twelve_percent" name="twelve_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="iti_percent">% ITI</label>
                                                <input type="number" class="form-control" id="iti_percent" name="iti_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group form-check">
                                                <input type="checkbox" class="form-check-input" id="sc_st" name="sc_st"/>
                                                <label class="form-check-label" for="sc_st">To be mentioned if Candidate SC/ST</label>
                                            </div>
                                        </div>

                                        <!-- <div class="form-group row">
                                            <div class="col-sm-10">
                                                <button type="submit" class="btn btn-primary">Create</button>
                                            </div>
                                        </div> -->





                                    </div>



                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary">Create</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                       
                    </div>
                </div>
                </form>
            </div>

            <div class="modal fade" id="delete_candidate_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/my/deletegpcandidate" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Delete Candidate</h5>
                            </div>
                            <input type="hidden" id="candidate_id" name="candidate_id"/>
                            <input type="hidden" id="candidate_batch_id" name="candidate_batch_id"/>

                            
                            <div class="modal-body">

                                    Are you sure you want to delete this candidate ?

                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Yes</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal fade" id="attendance_compliance_1_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/confirmgpuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Attendance 1</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_gp_candidate_id" name="confirm_gp_candidate_id"/>
                            <input type="hidden" id="confirm_gp_candidate_batch_id" name="confirm_gp_candidate_batch_id"/>

                            
                            <div class="modal-body">
                                Whether Attendance record of the candidate comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for GP
                            </div>
                        
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal fade" id="attendance_compliance_2_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/confirmgpuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Attendance 2</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_gp_candidate_id" name="confirm_gp_candidate_id"/>
                            <input type="hidden" id="confirm_gp_candidate_batch_id" name="confirm_gp_candidate_batch_id"/>

                            
                            <div class="modal-body">
                            Attendance record of the candidate not comply with DGS Guidelines 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for GP and whether same has been informed to the DGS                            
                            </div>
                        
                        </div>
                    </form>
                </div>
            </div>

            

            <div class="modal fade" id="confirm_gp_candidate_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/confirmgpuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Confirm Candidate</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_gp_candidate_id" name="confirm_gp_candidate_id"/>
                            <input type="hidden" id="confirm_gp_candidate_batch_id" name="confirm_gp_candidate_batch_id"/>

                            
                            <div class="modal-body">

                                    Are you sure?

                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Yes</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            


            <t t-set="breadcrumbs_searchbar" t-value="True"/>
            <t t-call="portal.portal_searchbar">
                <t t-set="title">GP Candidate</t>
            </t>

            <!-- <t t-call="portal.portal_searchbar">
                <t t-set="title">GP Candidate</t>
            </t> -->

            <t t-call="portal.portal_table">
                <thead>
                    <tr>
                        <th>GP Candidate Name</th>
                        <th>Indos No.</th>
                        <th>Roll No.</th>
                        <th>Login Id</th>
                        <th>GP Candidate Code No.</th>
                        <th>Fees Paid</th>
                        <th style="text-align: center;">Attendance 1 <br/><a style="display: inline-block;font-size: smaller;" href="#" data-target="#attendance_compliance_1_modal"  data-toggle="modal">More Info</a></th>
                        <th style="text-align: center;">Attendance 2 <br/><a style="display: inline-block;font-size: smaller;" href="#" data-target="#attendance_compliance_2_modal"  data-toggle="modal">More Info</a></th>

                        <th>Image Status</th>
                        <th>Sign Status</th>
                        <!-- <th>Attendance</th> -->
                        <th>Ship Visis</th>
                        <th>STCW</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="candidates" t-as="candidate">
                        <tr>
                            <td class="text-center">
                                <t t-out="candidate.name" />
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.indos_no" />
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.roll_no" />
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.user_id">
                                    <span class="text-success">Confirmed</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.candidate_code" />
                            </td>
                            <td class="text-center">
                                <select t-attf-value="{{candidate.fees_paid}}"  t-att-disabled="candidate.invoice_generated == True" t-attf-id="fees_paid_{{candidate.id}}" onchange="feesPaid(this)"> 
                                    <option value="yes"  t-att-selected="candidate.fees_paid == 'yes'" >Yes</option>
                                    <option value="no"  t-att-selected="candidate.fees_paid == 'no'">No</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <select t-attf-id="attendance_compliance1_{{candidate.id}}" onchange="attendanceCompliance1(this)"> 
                                    <option value="yes"  t-att-selected="candidate.attendance_compliance_1 == 'yes'" >Yes</option>
                                    <option value="no" t-att-selected="candidate.attendance_compliance_1 == 'no'" >No</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <select t-attf-id="attendance_compliance2_{{candidate.id}}" onchange="attendanceCompliance2(this)"> 
                                    <option value="yes" t-att-selected="candidate.attendance_compliance_2 == 'yes'"  >Yes</option>
                                    <option value="no" t-att-selected="candidate.attendance_compliance_2 == 'no'" >No</option>
                                </select>
                            </td>

                            <td class="text-center">
                                <t t-if="candidate.candidate_image_status == 'done'">
                                    <span class="text-success">Done</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.candidate_signature_status == 'done'">
                                    <span class="text-success">Done</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <!-- <td class="text-center">
                                <t t-if="candidate.attendance_criteria == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td> -->
                            <td class="text-center">
                                <t t-if="candidate.ship_visit_criteria  == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.stcw_criteria  == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <a t-attf-href="/my/gpcandidateprofile/{{candidate.id}}" class="fa">View/Update</a>
                            </td>
                            
                            <t t-set="admit_card" t-value="env['gp.exam.schedule'].sudo().search([('gp_candidate','=',candidate.id),('attendance_criteria','=','passed')])"/>
                            
                            <t t-if='admit_card'>
                                <td class="text-center">
                                    <a t-attf-href="/my/gpcandidates/download_admit_card/{{candidate.id}}" class="fa">Download Admit Card</a>
                                </td>
                            </t>
                            <t t-set="exams_certificate" t-value="env['gp.exam.schedule'].sudo().search([('gp_candidate','=',candidate.id),('certificate_criteria','=','passed'),('state','=','3-certified')])"/>

                            <t t-if='exams_certificate'>
                                <td class="text-center">
                                    <a t-attf-href="/my/gpcandidates/download_gp_certificate/{{candidate.id}}" class="fa">Download Certificate</a>
                                </td>
                            </t>
                            <t t-if="not candidate.user_id">
                                <td class="text-center">
                                    <a href="" data-toggle="modal" t-attf-candidate-id="{{candidate.id}}" t-attf-batch-id="{{batch_id}}" onclick="onOpenDeleteCandidateModal(this)" data-target="#delete_candidate_modal" class="fa">Delete</a>
                                </td>
                            </t>
                            <t t-if="batches.state == '2-indos_pending' and not candidate.user_id">
                                <td class="text-center">
                                    <a href="#" data-toggle="modal" t-attf-candidate-id="{{candidate.id}}" t-attf-batch-id="{{batch_id}}" onclick="createUser(this)" data-target="#confirm_gp_candidate_modal" class="fa">Confirm Candidate</a>
                                </td>
                            </t>

                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>


    <template id="ccmc_candidate_portal_list" name="CCMC Candidate">
        <script>
                                    <!-- $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    }); -->

                                    function openccmcUploadModal(button) {
                                    <!-- debugger -->
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('batch-modal-id');
                                    // Update the content of the modal with the retrieved data
                                    document.getElementById('batch_ccmc_id').value = dataId;

                                    }

                                    function onOpenDeleteCandidateModal(button) {
                                        var dataId = button.getAttribute('candidate-id');
                                        console.log(dataId);
                                        document.getElementById('ccmc_candidate_id').value = dataId;
                                        var batchId = button.getAttribute('batch-id');
                                        console.log(batchId);
                                        document.getElementById('delete_ccmc_candidate_batch_id').value = batchId;
                                    }

                                    function createUser(button) {
                                        debugger
                                        var dataId = button.getAttribute('candidate-id');
                                        console.log(dataId);
                                        document.getElementById('confirm_ccmc_candidate_id').value = dataId;
                                        var batchId = button.getAttribute('batch-id');
                                        console.log(batchId);
                                        document.getElementById('confirm_ccmc_candidate_batch_id').value = batchId;
                                    }


                                    function onOpenAddCandidateModal(button) {
                                    // Retrieve the data-id attribute value from the clicked button
                                    var dataId = button.getAttribute('batch-id');
                                    console.log(dataId)
                                    // Update the content of the modal with the retrieved data
                                    
                                    document.getElementById('ccmc_candidate_batch_id').value = dataId;
                    
                                     $.ajax({
                                            url: "/getcountrystate", // Update the URL with your actual route
                                            method: "GET",
                                            dataType: "json",
                                            success: function(data) {
                                            // Handle the successful response
                                            var selectField = $("#state_id");

                                            // Clear existing options
                                            selectField.empty();

                                            // Append new options based on the response
                                            $.each(data, function(index, state) {
                                                selectField.append(`<option value="${state.id}">${state.name}</option>`);
                                            });

                                            },
                                            error: function(xhr, status, error) {
                                            // Handle errors
                                            console.error("Error loading data:", status, error);
                                            }
                                        });

                                    
                                    }   
                                    
                                    function feesPaid(selectField) {

                                
                                        var selectId = selectField.id;
                                        let candidate_id = selectId.match(/\d+$/)[0];
                                        let fees_paid = selectField.value;
                                        var data = {
                                                        "candidate_id": candidate_id,
                                                        "fees_paid": fees_paid
                                                }
        
        
                                        $.ajax({
                                        type: "POST",
                                        url: '/my/ccmccandidate/updatefees2',
                                        data: JSON.stringify(data),
                                        contentType: 'application/json',
                                        success: function (response) {
                                            <!-- debugger -->
                                            console.log("POST request successful:", response);
        
                                            // if response["status"]
                                            // Handle success response
                                        },
                                            error: function (xhr, status, error) {
                                                debugger
                                                console.error("POST request failed:", error);
                                                
                                                // Handle error
                                            }
                                        });
        
                                        
                                        <!-- $.ajax({
                                                    url: "/my/gpcandidate/updatefees2", // Update the URL with your actual route
                                                    method: "POST",
                                                    dataType: "json",
                                                    data: JSON.stringify(data),
                                                    success: function(data) {
                                                    // Handle the successful response
                                                    console.log(data)
                                                    },
                                                    error: function(xhr, status, error) {
                                                    // Handle errors
                                                    console.error("Error loading data:", status, error);
                                                    }
                                                }); -->
        
                                        
        
                                }

                                function attendanceCompliance1(selectField) {

                                
                                var selectId = selectField.id;
                                let candidate_id = selectId.match(/\d+$/)[0];
                                let attendance1 = selectField.value;
                                <!-- debugger -->
                                var data = {
                                                "candidate_id": candidate_id,
                                                "attendance_compliance_1": attendance1,
                                        }


                                $.ajax({
                                type: "POST",
                                url: '/my/ccmccandidate/attendance_compliance_1',
                                data: JSON.stringify(data),
                                contentType: 'application/json',
                                success: function (response) {
                                    <!-- debugger -->
                                    console.log("POST request successful:", response);

                                    // if response["status"]
                                    // Handle success response
                                },
                                    error: function (xhr, status, error) {
                                        debugger
                                        console.error("POST request failed:", error);
                                        
                                        // Handle error
                                    }
                                });
     

                        }

                        function attendanceCompliance2(selectField) {

                                
                                var selectId = selectField.id;
                                let candidate_id = selectId.match(/\d+$/)[0];
                                let attendance2 = selectField.value;
                                <!-- debugger -->
                                var data = {
                                                "candidate_id": candidate_id,
                                                "attendance_compliance_2": attendance2,
                                        }


                                $.ajax({
                                type: "POST",
                                url: '/my/ccmccandidate/attendance_compliance_2',
                                data: JSON.stringify(data),
                                contentType: 'application/json',
                                success: function (response) {
                                    <!-- debugger -->
                                    console.log("POST request successful:", response);

                                    // if response["status"]
                                    // Handle success response
                                },
                                    error: function (xhr, status, error) {
                                        debugger
                                        console.error("POST request failed:", error);
                                        
                                        // Handle error
                                    }
                                });
     

                        }

                                    

                                    
        </script>
        <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style>

        <t t-call="portal.portal_layout">


            <t t-if="batches.ccmc_state == '1-ongoing'">     
                <div class="d-flex justify-content-between">
                    <div class="">
                        <a href="/my/ccmcbatch/candidates/download_format" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Download Candidate Format</a>
                        <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-batch-modal-id="{{batch_id}}" data-target="#uploadCcmcCandidateModal" onclick="openccmcUploadModal(this)" class="btn btn-primary btn_cta">Upload Bulk Candidate</a>
                        <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-batch-id="{{batch_id}}" onclick="onOpenAddCandidateModal(this)" data-target="#addCandidateModal" class="btn btn-primary btn_cta">Add Candidate</a>
                    </div>
                    <div class="">
                        <a href="/my/upload_instructions" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta ">Uploading instructions</a>
                    </div>
                </div>
            </t>

            <div class="modal fade" id="uploadCcmcCandidateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Upload Candidate</h5>

                        </div>
                        <div class="modal-body">
                            <!-- Modal content goes here -->
                            <div class="container mt-5">

                                <form method="post" action="/my/uploadccmccandidatedata" enctype="multipart/form-data">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                    <input type="hidden" id="batch_ccmc_id" name="batch_ccmc_id" />
                                    <div class="form-group">
                                        <label for="ccmcfileUpload">XLSX Upload</label>
                                        <input type="file" class="form-control-file" accept=".xlsx" name="ccmcfileUpload" id="ccmcfileUpload"/>
                                    </div>
                                    <button id="ccmcuploadBtn" type="submit" class="btn btn-primary">Upload</button>
                                    <!-- <div id="loader-overlay" style="display: none;">
                                        <div id="loader">
                                            Uploading
                                        </div>
                                    </div> -->

                                </form>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="addCandidateModal" tabindex="-1" role="dailog" aria-labelledby="examplpeModalLabela" aria-hidden="true">
                <form method="post" action="/my/createccmccandidateform" >
                <!-- enctype="multipart/form-data" -->
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title" id="examplpeModalLabela">Add Candidate</h5>
                            </div>
                            <div class="modal-body">
                                <div class="container mt-5">
                                    <div class="row">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                        <input type="hidden" class="form-control" id="ccmc_candidate_batch_id" name="ccmc_candidate_batch_id" t-att-value="batch_id"/>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="name">Full Name of Candidate as in INDOS</label>
                                                <input type="text" class="form-control" id="name" name="name" required="true" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="indos_no">Indos No.</label>
                                                <input t-att-disabled="1" type="text" class="form-control" id="indos_no" name="indos_no" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="candidate_code">CCMC Candidate Code No.</label>
                                                <input t-att-disabled="1" type="text" class="form-control" id="candidate_code" name="candidate_code" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="roll_no">Roll No.</label>
                                                <input t-att-disabled="1" type="text" class="form-control" id="roll_no" name="roll_no" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="dob">DOB</label>
                                                <input type="date" class="form-control" id="dob" name="dob" required="true"/>
                                            </div>
                                    </div>

                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="street">Street</label>
                                                <input type="text" class="form-control" id="street" name="street" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="street2">Street2</label>
                                                <input type="text" class="form-control" id="street2" name="street2"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="city">City</label>
                                                <input type="text" class="form-control" id="city" name="city" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="zip">Zip</label>
                                                <input type="text" class="form-control" id="zip" name="zip" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="state_id">State</label>
                                                <select class="form-control" id="state_id" name="state_id">
                                                    <t t-foreach="states" t-as="state">
                                                        <option t-attf-value="{{state.id}}">
                                                            <t t-out="state.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="phone">Phone</label>
                                                <input type="text" class="form-control" id="phone" name="phone"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="mobile">Mobile</label>
                                                <input type="text" class="form-control" id="mobile" name="mobile" required="true"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input type="email" class="form-control" id="email" name="email"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="tenth_percent">% Xth Std in Eng.</label>
                                                <input type="number" class="form-control" id="tenth_percent" name="tenth_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="twelve_percent">% 12th Std in Eng.</label>
                                                <input type="number" class="form-control" id="twelve_percent" name="twelve_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="iti_percent">% ITI</label>
                                                <input type="number" class="form-control" id="iti_percent" name="iti_percent"/>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-group form-check">
                                                <input type="checkbox" class="form-check-input" id="sc_st" name="sc_st"/>
                                                <label class="form-check-label" for="sc_st">To be mentioned if Candidate SC/ST</label>
                                            </div>
                                        </div>
                                    </div>



                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Create</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal fade" id="attendance_compliance_1_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/confirmgpuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Attendance 1</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_gp_candidate_id" name="confirm_gp_candidate_id"/>
                            <input type="hidden" id="confirm_gp_candidate_batch_id" name="confirm_gp_candidate_batch_id"/>

                            
                            <div class="modal-body">
                                Whether Attendance record of the candidate comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC                           
                            </div>
                        
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal fade" id="attendance_compliance_2_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/confirmgpuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Attendance 2</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_gp_candidate_id" name="confirm_gp_candidate_id"/>
                            <input type="hidden" id="confirm_gp_candidate_batch_id" name="confirm_gp_candidate_batch_id"/>

                            
                            <div class="modal-body">
                            Attendance record of the candidate not comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC and whether same has been informed to the DGS           
                            </div>
                        
                        </div>
                    </form>
                </div>
            </div>



            <div class="modal fade" id="delete_ccmc_candidate_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/my/deleteccmccandidate" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Delete Candidate</h5>
                            </div>
                            
                            <input type="hidden" id="ccmc_candidate_id" name="ccmc_candidate_id"/>
                            <input type="hidden" id="delete_ccmc_candidate_batch_id" name="delete_ccmc_candidate_batch_id"/>

                            
                            <div class="modal-body">

                                    Are you sure you want to delete this candidate ?

                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Yes</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal fade" id="confirm_ccmc_candidate_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/my/confirmccmcuser" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Confirm Candidate</h5>
                            </div>
                            
                            <input type="hidden" id="confirm_ccmc_candidate_id" name="confirm_ccmc_candidate_id"/>
                            <input type="hidden" id="confirm_ccmc_candidate_batch_id" name="confirm_ccmc_candidate_batch_id"/>

                            
                            <div class="modal-body">

                                    Are you sure?

                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Yes</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <t t-set="breadcrumbs_searchbar" t-value="True"/>
            <t t-call="portal.portal_searchbar">
                <t t-set="title">CCMC Candidate</t>
            </t>

            <t t-call="portal.portal_table">
                <thead>
                    <tr>
                        <th>CCMC Candidate Name</th>
                        <th>Indos No.</th>
                        <th>Roll No.</th>
                        <th>Login Id.</th>
                        <th>CCMC Candidate Code No.</th>
                        <th>Fees Paid</th>
                        <th style="text-align: center;">Attendance 1 <br/><a style="display: inline-block;font-size: smaller;" href="#" data-target="#attendance_compliance_1_modal"  data-toggle="modal">More Info</a></th>
                        <th style="text-align: center;">Attendance 2 <br/><a style="display: inline-block;font-size: smaller;" href="#" data-target="#attendance_compliance_2_modal"  data-toggle="modal">More Info</a></th>
                        <th>Image Status</th>
                        <th>Sign Status</th>
                        <th>Ship Visis</th>
                        <th>STCW</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="candidates" t-as="candidate">
                        <tr>
                            <td class="text-center">
                                <t t-out="candidate.name" />
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.indos_no" />
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.roll_no" />
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.user_id">
                                    <span class="text-success">Confirmed</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-out="candidate.candidate_code" />
                            </td>
                            <td class="text-center">
                                <select t-attf-value="{{candidate.fees_paid}}"  t-att-disabled="candidate.invoice_generated == True" t-attf-id="fees_paid_{{candidate.id}}" onchange="feesPaid(this)"> 
                                    <option value="yes"  t-att-selected="candidate.fees_paid == 'yes'" >Yes</option>
                                    <option value="no"  t-att-selected="candidate.fees_paid == 'no'">No</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <select t-attf-id="attendance_compliance1_{{candidate.id}}" onchange="attendanceCompliance1(this)"> 
                                    <option value="yes"  t-att-selected="candidate.attendance_compliance_1 == 'yes'" >Yes</option>
                                    <option value="no" t-att-selected="candidate.attendance_compliance_1 == 'no'" >No</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <select t-attf-id="attendance_compliance2_{{candidate.id}}" onchange="attendanceCompliance2(this)"> 
                                    <option value="yes" t-att-selected="candidate.attendance_compliance_2 == 'yes'"  >Yes</option>
                                    <option value="no" t-att-selected="candidate.attendance_compliance_2 == 'no'" >No</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.candidate_image_status == 'done'">
                                    <span class="text-success">Done</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.candidate_signature_status == 'done'">
                                    <span class="text-success">Done</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <!-- <td class="text-center">
                                <t t-if="candidate.attendance_criteria == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td> -->
                            <td class="text-center">
                                <t t-if="candidate.ship_visit_criteria  == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <t t-if="candidate.stcw_criteria  == 'passed'">
                                    <span class="text-success">Complied</span>
                                </t>
                                <t t-else="">
                                    <span class="text-danger">Pending</span>
                                </t>
                            </td>
                            <td class="text-center">
                                <a t-attf-href="/my/ccmccandidateprofile/{{candidate.id}}" class="fa">View/Update</a>
                            </td>
                            <td class="text-center">
                                <a t-attf-href="/my/ccmccandidates/download_admit_card/{{candidate.id}}" class="fa">Download Admit Card</a>
                            </td>
                            <t t-set="exams_certificate" t-value="env['ccmc.exam.schedule'].sudo().search([('ccmc_candidate','=',candidate.id),('certificate_criteria','=','passed')])"/>

                            <t t-if='exams_certificate'>
                                <td class="text-center">
                                    <a t-attf-href="/my/ccmccandidates/download_ccmc_certificate/{{candidate.id}}" class="fa">Download Certificate</a>
                                </td>
                            </t>
                            <t t-if="not candidate.user_id">
                                <td class="text-center">
                                    <!-- <a href="" data-toggle="modal" t-attf-candidate-id="{{candidate.id}}" t-attf-batch-id="{{batch_id}}" onclick="onOpenDeleteandidateModal(this)" data-target="#delete_ccmc_candidate_modal" class="fa">Delete</a> -->
                                    <a href="#" data-toggle="modal" t-attf-candidate-id="{{candidate.id}}" t-attf-batch-id="{{batch_id}}" onclick="onOpenDeleteCandidateModal(this)" data-target="#delete_ccmc_candidate_modal" class="fa">Delete</a>

                                </td>
                            </t>
                            <t t-if="batches.ccmc_state == '2-indos_pending' and not candidate.user_id">
                                <td class="text-center">
                                    <a href="#" data-toggle="modal" t-attf-candidate-id="{{candidate.id}}" t-attf-batch-id="{{batch_id}}" onclick="createUser(this)" data-target="#confirm_ccmc_candidate_modal" class="fa">Confirm Candidate</a>
                                </td>
                            </t>

                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>

    <template id="gp_faculty_portal_list" name="Faculty">
        <script>
                                    $(document).ready(function () {
                                        $('#uploadBtn').on('click', function () {
                                            // Show the overlay and loader when the upload button is clicked
                                            $('#loader-overlay').show();
                                        });
                                    });

                                    <!-- function onOpenDeleteFacultyModal(button) {
                                        var dataId = button.getAttribute('faculty-id');
                                        console.log(dataId);
                                        document.getElementById('gp_faculty_id').value = dataId;
                                        var batchId = button.getAttribute('batch-id');
                                        console.log(batchId);
                                        document.getElementById('delete_gp_faculty_batch_id').value = batchId;
                                    } -->
        </script>
        <style>
                                /* CSS to style the loader and overlay */
                                    #loader-overlay {
                                        display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
                                        z-index: 9999; /* Adjust the z-index to appear over other elements */
                                    }

                                    #loader {
                                        position: absolute;
                                        top: 50%;
                                        left: 50%;
                                        transform: translate(-50%, -50%);
                                        /* Additional styling for the loader itself */
                                        /* Adjust as needed */
                                    }
        </style>

        <t t-call="portal.portal_layout">
            <!-- <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#uploadCandidateModal" class="btn btn-primary btn_cta">Upload Faculty</a> -->

            <a t-attf-href="/my/gpfacultiesform/view/{{batch_id}}" t-if="page_name == 'gp_faculty_list'" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Create</a>
            <a t-attf-href="/my/ccmcfacultiesform/view/{{batch_id}}" t-if="page_name == 'ccmc_faculty_list'" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Create</a>




            <!-- <div class="modal fade" id="uploadFacultyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Upload Faculty</h5>

                        </div>
                        <div class="modal-body">
                            <div class="container mt-5">

                                <form method="post" action="/my/uploadgpcandidatedata" enctype="multipart/form-data">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                    <div class="form-group">
                                        <label for="fileUpload">CSV Upload</label>
                                        <input type="file" class="form-control-file" accept=".csv" name="fileUpload" id="fileUpload"/>
                                    </div>
                                    <button id="uploadBtn" type="submit" class="btn btn-primary">Upload</button>


                                </form>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- <div class="modal fade" id="delete_faculty_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" action="/my/deleteccmccandidate" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Delete Candidate</h5>
                            </div>
                            
                            <input type="hidden" id="ccmc_candidate_id" name="ccmc_candidate_id"/>
                            <input type="hidden" id="delete_ccmc_candidate_batch_id" name="delete_ccmc_candidate_batch_id"/>

                            
                            <div class="modal-body">

                                    Are you sure you want to delete this candidate ?

                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary">Yes</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div> -->

            <t t-call="portal.portal_table">
                <thead>
                    <tr>
                        <th>Faculty Name</th>
                        <th>Designation</th>
                        <th>Qualification</th>
                        <th>Contract Terms</th>
                        <th>Courses Taught</th>

                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="faculties" t-as="faculty">
                        <tr>
                            <td class="text-left">
                                <a t-attf-href="/my/gpbatch/faculties/profile/{{batch_id}}/{{faculty.id}}" class="fa"> 
                                <t t-out="faculty.faculty_name" /></a>
                            </td>
                            <td class="text-left">
                                <t t-out="faculty.designation" />
                            </td>
                            <td class="text-left">
                                <t t-out="faculty.qualification" />
                            </td>
                            <td class="text-left">
                                <t t-out="faculty.contract_terms" />
                            </td>
                            <t t-set="courses" t-value="faculty.courses_taught"/>

                            <td class="text-left">
                                <t t-foreach="courses" t-as="course">
                                    <span class="badge badge-primary">
                                        <t t-out="course.name" />
                                    </span>
                                </t>
                            </td>
                            <!-- <td class="text-center">
                                <a href="" data-toggle="modal" t-attf-candidate-id="{{faculty.id}}" t-attf-batch-id="{{batch_id}}" onclick="onOpenDeleteCandidateModal(this)" data-target="#delete_faculty_modal" class="fa">Delete</a>
                            </td> -->

                            <!-- <td class="text-center">
                                 <a t-attf-href="/my/gpcandidateform/{{faculty.id}}" class="fa">View</a>
                            </td> -->
                        </tr>
                    </t>

                </tbody>
            </t>
        </t>
    </template>



    

    <template id="institute_document_list" name="Document">
        <t t-call="portal.portal_layout">
            <a href="/my/institute_document" style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Create</a>

            <t t-call="portal.portal_table">
                <thead>
                    <tr>
                        <th>Name of Document</th>
                        <th>Upload Date</th>
                        <!-- <th>Upload Document</th> -->
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="lods" t-as="lod">
                        <tr>
                            <td class="text-center">
                                <t t-out="lod.document_name" />
                            </td>
                            <td class="text-center">
                                <t t-out="lod.upload_date" />
                            </td>
                            <td class="text-center">
                                <a t-attf-href="/my/institute_document/download/{{lod.id}}" class="fa fa-download">Download</a>
                            </td>

                            <!-- <td class="text-center">
                                <t t-out="lod.candidate_code" />
                            </td> -->
                        </tr>
                    </t>
                </tbody>
            </t>
        </t>
    </template>

    <template id="institute_documents_form">

        <t t-call="portal.portal_layout">


            <div class="container mt-5">
                <form method="post" enctype="multipart/form-data">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                    <div class="form-group">
                        <label for="documentName">Name of Document</label>
                        <input type="text" class="form-control" id="documentName" name="documentName" placeholder="Enter document name"/>
                    </div>
                    <div class="form-group">
                        <label for="uploadDate">Upload Date</label>
                        <input type="date" class="form-control" name="uploadDate" id="uploadDate"/>
                    </div>
                    <div class="form-group">
                        <label for="fileUpload">File Upload</label>
                        <input type="file" class="form-control-file" accept=".xlsx, .csv, .pdf" name="fileUpload" id="fileUpload"/>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>

        </t>
    </template>



    <template id="institute_detail_form" name="Institute Detail">
        <script>
            function updateBatchApproval(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('course_id').value = dataId;

                                    }
        </script>
        <t t-call="portal.portal_layout">
            <!-- <t t-foreach="institutes" t-as="institute"> -->

            <div class="container">
                <h2>Edit Institute Details</h2>
                <form method="post">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                <label for="code">Institute Name</label>
                                <input type="text" class="form-control" id="institute_name" name="institute_name" t-att-value="institutes.name" t-att-readonly="'1'" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="code">MTI no.</label>
                                <input type="text" class="form-control" id="mti" name="mti" t-att-value="institutes.mti" t-att-readonly="'1'" />
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="name">Code</label>
                                <input type="text" class="form-control" id="code" name="code" t-att-value="institutes.code" t-att-readonly="'1'"/>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="name">Email</label>
                                <input type="text" class="form-control" id="email" name="email" t-att-value="institutes.email"/>
                            </div>
                        </div>


                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="street">Street</label>
                            <input type="text" class="form-control" id="street" name="street" t-att-value="institutes.street" placeholder="Enter Street"/>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="street2">Street2</label>
                            <input type="text" class="form-control" id="street2" name="street2" t-att-value="institutes.street2" placeholder="Enter Street2"/>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="city">City</label>
                            <input type="text" class="form-control" id="city" name="city" t-att-value="institutes.city" placeholder="Enter City" />
                        </div>
                        <div class="form-group col-md-6">
                            <label for="zip">Zip</label>
                            <input type="text" class="form-control" id="zip" name="zip" t-att-value="institutes.zip" placeholder="Enter Zip" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="principal_name">Name of Principal / Trustee of Training Institute</label>
                                <input type="text" class="form-control" id="principal_name" name="principal_name" t-att-value="institutes.principal_name" />
                            </div>
                        </div>
                        <!-- Principal Phone -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="principal_phone">Phone No. of Principal / Trustee of Training Institute</label>
                                <input type="text" class="form-control" id="principal_phone" name="principal_phone" t-att-value="institutes.principal_phone" />
                            </div>
                        </div>

                        <!-- Principal Mobile -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="principal_mobile">Mobile No. of Principal / Trustee of Training Institute</label>
                                <input type="text" class="form-control" id="principal_mobile" name="principal_mobile" t-att-value="institutes.principal_mobile" />
                            </div>
                        </div>

                        <!-- Principal Email -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="principal_email">E-mail of Principal / Trustee of Training Institute</label>
                                <input type="text" class="form-control" id="principal_email" name="principal_email" t-att-value="institutes.principal_email" />
                            </div>
                        </div>

                        <!-- Admin Phone -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="admin_phone">Phone No. of Admin Officer of Training Institute</label>
                                <input type="text" class="form-control" id="admin_phone" name="admin_phone" t-att-value="institutes.admin_phone" />
                            </div>
                        </div>

                        <!-- Admin Mobile -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="admin_mobile">Mobile No. of Admin Officer of Training Institute</label>
                                <input type="text" class="form-control" id="admin_mobile" name="admin_mobile" t-att-value="institutes.admin_mobile" />
                            </div>
                        </div>

                        <!-- Admin Email -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="admin_email">E-mail of Admin Officer of Training Institute</label>
                                <input type="text" class="form-control" id="admin_email" name="admin_email" t-att-value="institutes.admin_email" />
                            </div>
                        </div>

                        <!-- Second Authorized Person -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="second_authorized_person">Name of the second authorised person representing the Institute</label>
                                <input type="text" class="form-control" id="second_authorized_person" name="second_authorized_person" t-att-value="institutes.name_of_second_authorized_person" />
                            </div>
                        </div>

                        <!-- Computer Lab PC Count -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="computer_lab_pc_count">How many PCs does the computer lab have</label>
                                <input type="number" class="form-control" id="computer_lab_pc_count" name="computer_lab_pc_count" t-att-value="institutes.computer_lab_pc_count" />
                            </div>
                        </div>

                        <!-- Internet Strength -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="internet_strength">Strength of Internet connection</label>
                                <input required=""  type="text" class="form-control" id="internet_strength" name="internet_strength" t-att-value="institutes.internet_strength" />
                                <span class="text-warning">Minimum requirement: 500 megabits/s</span>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="ip_address">IP Address</label>
                                <input required=""  type="text" class="form-control" id="ip_address" name="ip_address" t-att-value="institutes.ip_address" />
                            </div>
                        </div>




                    </div>
                    <div class="container">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Course</th>
                                    <th>Upload Document</th>
                                    <th>Batches per Year</th>
                                    <th>Candidates per Batch</th>
                                    <th>Total Intake Capacity</th>
                                </tr>
                            </thead>

                            <t t-set="courses" t-value="institutes[0].courses" />
                            <tbody>
                                <t t-foreach="courses" t-as="course">
                                    <tr>
                                        <td>
                                            <t t-esc="course.course.name"/>
                                            
                                        </td>
                                        <t t-if="course.dgs_document">
                                            <td>
                                                <a href="/my/download/{{ course.id }}">
                                                    <!-- <t t-esc="course.dgs_document"/> -->
                                                    <t t-esc="course.dgs_document_name"/>
                                                </a>
                                            </td>
                                        </t>
                                        <t t-else="">
                                            <td>
                                            </td>
                                        </t>
                                        <!-- <td>
                                                <t t-esc="course.dgs_document"/>
                                        </td> -->
                                        <td>
                                                <t t-esc="course.batcher_per_year"/>
                                        </td>
                                        <td>
                                                <t t-esc="course.intake_capacity"/>
                                        </td>
                                        <td>
                                                <t t-esc="course.total"/>
                                        </td>
                                        <td>
                                            <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{course.id}}" data-target="#updateBatchApproval" onclick="updateBatchApproval(this)">Edit</a>
                                            <!-- <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-data-id="{{registered_exam.id}}" onclick="openTokenModal(this)" data-target="#updateBatchApproval" class="btn btn-primary btn_cta">Start Exam</a> -->

                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>


                    </div>

                    
                    <div class="form-group row">
                        <div class="col-sm-10">
                            <button type="submit" class="btn btn-primary">Update</button>
                        </div>
                    </div>


                </form>

                <div class="modal fade" id="updateBatchApproval" tabindex="-1" role="dialog" aria-labelledby="exampleCcmcModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/update/inscap" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleCcmcModalLabel">Update Batch Details</h5>
                                </div>
                                <div class="modal-body">
                                    <div class="container mt-5">

                                        <input type="hidden" id="course_id" name="course_id"/>

                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="approvaldocument">Upload Document</label>
                                                <input required="0" type="file" class="form-control-file" accept=".xlsx, .csv, .pdf" name="approvaldocument" id="approvaldocument"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="capacity">Batch Per Year</label>
                                                <input required="" type="number" class="form-control" id="batch_per_year" name="batch_per_year" min="0" />
                                            </div>
                                            <div class="form-group">
                                                <label for="capacity">Candidate Per Batch</label>
                                                <input required="" type="number" class="form-control" id="candidate_per_batch" name="candidate_per_batch" min="0" />
                                            </div>
                                            <!-- <div class="form-group">
                                                <label for="capacity">Total Intake</label>
                                                <input required="" type="number" class="form-control" id="total_intake" name="total_intake" min="0" />
                                            </div> -->
                                        </div>



                                    </div>

                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Update</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- </t> -->
        </t>
    </template>





    <template id="ccmc_candidate_profile_view" name="CCMC Candidate">
        <t t-call="portal.portal_layout">
            <script>
                
                function displayImage(input) {
                    const cardImg = document.querySelector('.card-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }

                function displaySignImage(input) {
                    const cardImg = document.querySelector('.sign-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }



                        function openDeleteModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                var candidate_id = button.getAttribute('candidate-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('visit_id').value = dataId;
                document.getElementById('candidate_id').value = candidate_id;

                }

                
            </script>
            <style>
                    .o_portal_my_doc_table {
                        width: 60%; /* You can adjust the percentage as needed */
                        margin: 0 auto; /* Centers the table horizontally */
                    }

                    /* Optionally, you can set specific widths for individual columns */
                    .o_portal_my_doc_table th,
                    .o_portal_my_doc_table td {
                        width: auto; /* Adjust as needed */
                    }
                        .card-img-container {
                        text-align: left;
                        margin-bottom: 10px;
                        }

                        .card-img {
                        width: 150px; /* Adjust the width as needed */
                        height: 150px; /* Adjust the height as needed */
                        object-fit: cover;
                        border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
                        }
            </style>

            <div class="container py-5">

                <!-- <a style="margin-top: 10px; margin-bottom: 20px;" class="btn btn-primary btn_cta">Update Image and Indos</a> -->
                <t t-if="batches.ccmc_state == '1-ongoing'">
                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#updateCcmcCandidateIndos" class="btn btn-primary btn_cta">Update Candidate</a>
                </t>
                <div class="modal fade" id="updateCcmcCandidateIndos" tabindex="-1" role="dialog" aria-labelledby="exampleCcmcModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/updateccmccandidate" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" class="form-control" id="canidate_id" name="canidate_id" t-attf-value="{{candidate.id}}" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleCcmcModalLabel">Update Details</h5>
                                </div>
                                <div class="modal-body">
                                    <!-- Modal content goes here -->
                                    <div class="container mt-5">
                                        <div class="row">
                                            <div class="col-md-5">
                                                <div class="card-img-container">
                                                    <img src="https://via.placeholder.com/150" class="card-img-top card-img" style="width: 150px;" alt="Candidate Photo" />
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label for="candidate_photo" class="form-label">Candidate Photo</label>
                                                    <input type="file" class="form-control" id="candidate_photo" name="candidate_photo" accept="image/*" onchange="displayImage(this)" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Indos No.</label>
                                                    <input type="text" class="form-control" id="indos_no" name="indos_no" />
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="card-img-container">
                                                    <img src="https://via.placeholder.com/150" class="card-img-top card-img sign-img" style="width: 150px;" alt="Signature" />
                                                </div>
                                            </div>
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label for="signature_photo" class="form-label">Signature Photo</label>
                                                    <input type="file" class="form-control" id="signature_photo" name="signature_photo" accept="image/*" onchange="displaySignImage(this)" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Full Name</label>
                                                    <input type="text" class="form-control" id="full_name" name="full_name" />
                                                </div>
                                            </div>
                                             <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Date of Birth</label>
                                                    <input type="date" class="form-control" id="dob" name="dob" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">E-mail</label>
                                                    <input type="text" class="form-control" id="e_mail" name="e_mail" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Phone</label>
                                                    <input type="text" class="form-control" id="phone" name="phone" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Mobile</label>
                                                    <input type="text" class="form-control" id="mobile" name="mobile" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Address</label>
                                                    <input type="text" class="form-control mb-3" id="street" name="street" />
                                                    <input type="text" class="form-control" id="street2" name="street2" />
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Update</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>




                <div class="row">
                    <div class="col-lg-4">
                        <div class="card mb-4">
                            <div class="card-body text-center">
                                <t t-if="candidate.candidate_image">
                                    <img t-attf-src="data:image/png; base64, {{candidate.candidate_image}}" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;"/>
                                </t>
                                <t t-else="">
                                    <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;"/>
                                </t>
                                <h5 class="my-3">
                                    <t t-out="candidate.name" />
                                </h5>
                                <p class="text-muted mb-1">
                                    <t t-out="candidate.street" />
                                </p>
                                <span class="text-muted mb-4">
                                    <t t-out="candidate.street2"/>
                                </span>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.city"/>
                                </span>
                                <span class="text-muted mb-0">
                                    <t t-out="candidate.state_id.name"/>
                                </span>
                                <p class="text-muted mb-0">
                                    <t t-out="candidate.zip"/>
                                </p>
                                <t t-if="candidate.candidate_signature">
                                    <img t-attf-src="data:image/png; base64, {{candidate.candidate_signature}}" alt="avatar" class="rounded-circle img-fluid" style="width: 150px;"/>
                                </t>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="card mb-4">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Full Name</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.name"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">E-mail</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.email"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Indos</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.indos_no"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Phone</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.phone"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Mobile</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">
                                            <t t-out="candidate.mobile"/>
                                        </p>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <p class="mb-0">Address</p>
                                    </div>
                                    <div class="col-sm-9">
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.street"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.street2"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.city"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.state_id.name"/>
                                        </span>
                                        <span class="text-muted mb-0">
                                            <t t-out="candidate.zip"/>
                                        </span>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label for="fees_paid">Fees Paid</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="text-muted mb-0">

                                            <t t-if="candidate.fees_paid == 'yes'">
                                            Yes
                                            </t>
                                            <t t-else="">
                                            No
                                            </t>


                                            <!-- <select id="fees_paid" name="fees_paid" t-att-disabled="1">
                                                <option value="yes">Yes</option>
                                                <option value="no" t-att-selected="1">No</option>
                                            </select> -->
                                        </p>

                                        <p class="text-muted mb-0">
                                            <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#updateCcmcFeesPaid" class="btn btn-primary btn_cta">Update</a>
                                        </p>
                                        <div class="modal fade" id="updateCcmcFeesPaid" tabindex="-1" role="dialog" aria-labelledby="exampleCcmcModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <form method="post" action="/my/ccmccandidate/updatefees" enctype="multipart/form-data">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="exampleCcmcModalLabel">Update Fees Paid</h5>
                                                        </div>
                                                        <div class="modal-body">
                                                            <input type="hidden" id="candidate_id" t-attf-value="{{candidate.id}}" name="candidate_id"/>
                                                            <label for="fees_paid">Fees Paid:</label>

                                                            <select id="fees_paid" name="fees_paid">
                                                                <option value="yes">Yes</option>
                                                                <option value="no" t-att-selected="1">No</option>
                                                            </select>

                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="submit" class="btn btn-primary">Update</button>
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <t t-if="candidate.fees_paid == 'yes'">
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <label for="invoice_no">Invoice No.</label>
                                        </div>
                                        <div class="col-sm-9">
                                            <t t-out="candidate.invoice_no"/>
                                        </div>
                                    </div>
                                </t>


                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">

                                <div class="container">
                                    <ul class="nav nav-tabs mb-3" id="ex-with-icons" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link active" id="ex-with-icons-tab-1" data-toggle="tab" href="#ex-with-icons-tabs-1" role="tab" aria-controls="ex-with-icons-tabs-1" aria-selected="true">
                                                <i class="fas fa-chart-pie fa-fw me-2"></i>Ship Visits</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="ex-with-icons-tab-2" data-toggle="tab" href="#ex-with-icons-tabs-2" role="tab" aria-controls="ex-with-icons-tabs-2" aria-selected="false">
                                                <i class="fas fa-chart-line fa-fw me-2"></i>Attendance</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="ex-with-icons-tab-3" data-toggle="tab" href="#stcw_certificates" role="tab" aria-controls="ex-with-icons-tabs-3" aria-selected="false">
                                                <i class="fas fa-chart-pie fa-fw me-2"></i>STCW Certificate</a>
                                        </li>
                                    </ul>




                                    <div class="tab-content" id="ex-with-icons-content">

                                        <div class="tab-pane fade show active" id="ex-with-icons-tabs-1" role="tabpanel" aria-labelledby="ex-with-icons-tab-1">

                                            <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" t-attf-candidate-id="{{candidate_id}}" data-target="#AddCcmcShipVisit" class="btn btn-primary btn_cta">Add</a>

                                            <div class="modal fade" id="DeleteCcmcShipVisitModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/ccmcshipvisit/delete" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Delete Ship Visit</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                Are you sure you want to delete ?
                                                                <input type="hidden" id="visit_id" name="visit_id"/>
                                                                <input type="hidden" id="candidate_id" name="candidate_id" t-attf-value="{{candidate.id}}"/>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-danger">Delete</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                            <div class="modal fade" id="AddCcmcShipVisit" tabindex="-1" role="dialog" aria-labelledby="exampleCcmcModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/addccmcshipvisit" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleCcmcModalLabel">Add Ship Visit</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                <!-- Modal content goes here -->
                                                                <div class="container mt-5">
                                                                    <div class="row">

                                                                        <div class="col-md-6">
                                                                            <input type="hidden" class="form-control" id="candidate_id" name="candidate_id" t-attf-value="{{candidate.id}}" />
                                                                            <div class="form-group">
                                                                                <label for="name_of_ships">Name of the Ship Visited / Ship in Campus</label>
                                                                                <input type="text" class="form-control" id="name_of_ships" name="name_of_ships"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="imo_no">Ship IMO Number</label>
                                                                                <input type="text" class="form-control" id="imo_no" name="imo_no"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="name_of_ports_visited">Name of the Port Visited / Place of SIC</label>
                                                                                <input type="text" class="form-control" id="name_of_ports_visited" name="name_of_ports_visited"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="date_of_visits">Date Of Visit</label>
                                                                                <input type="date" class="form-control" id="date_of_visits" name="date_of_visits"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label for="time_spent_on_ship">Hours Spent on Ship</label>
                                                                                <input type="number" class="form-control" id="time_spent_on_ship" name="time_spent_on_ship"/>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="bridge" name="bridge"/>
                                                                                <label class="form-check-label" for="bridge">Bridge</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="eng_room" name="eng_room"/>
                                                                                <label class="form-check-label" for="eng_room">Eng. Room</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" class="form-check-input" id="cargo_area" name="cargo_area"/>
                                                                                <label class="form-check-label" for="cargo_area">Cargo Area</label>
                                                                            </div>
                                                                        </div>


                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Add</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                            <div class="table-responsive border rounded border-top-0 ">
                                                <table class="table rounded mb-0 bg-white o_portal_my_doc_table">
                                                    <thead>
                                                        <tr>
                                                            <th>Action</th>
                                                            <th>Name of the Ship Visited / Ship in Campus</th>
                                                            <th>Ship IMO Number</th>
                                                            <th>Name of Ports</th>
                                                            <th>Date Of Visit</th>
                                                            <th>Hours</th>
                                                            <th>Bridge</th>
                                                            <th>Eng. Room</th>
                                                            <th>Cargo Area</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <t t-foreach="candidate.ship_visits" t-as="ship_visit">
                                                            <tr>
                                                                <td>
                                                                    <button type="button" class="btn btn-danger" t-attf-data-id="{{ship_visit.id}}" t-attf-candidate-id="{{candidate.id}}" data-toggle="modal" onclick="openDeleteModal(this)" data-target="#DeleteCcmcShipVisitModal">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                                                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"></path>
                                                                            <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"></path>
                                                                        </svg>
                                                                    </button>
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.name_of_ships" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.imo_no" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.name_of_ports_visited" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.date_of_visits" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="ship_visit.time_spent_on_ship" />
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.bridge == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.eng_room == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                                <td>
                                                                    <t t-if="ship_visit.cargo_area == True">Yes</t>
                                                                    <t t-else="">No</t>
                                                                </td>
                                                            </tr>
                                                        </t>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <!-- Attendance  -->

                                        <div class="tab-pane fade" id="ex-with-icons-tabs-2" role="tabpanel" aria-labelledby="ex-with-icons-tab-2">

                                            <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#AddAttendance" class="btn btn-primary btn_cta">Update</a>
                                            <div>
                                                <h5 class="my-3">Whether Attendance record of the candidate comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC :

                                                    <t t-out="candidate.attendance_compliance_1" />
                                                </h5>
                                            </div>
                                            <div>
                                                <h5 class="my-3">Attendance record of the candidate not comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC and whether same has been informed to the DGS :
                                                    <t t-out="candidate.attendance_compliance_2" />
                                                </h5>
                                            </div>
                                            <div class="modal fade" id="AddAttendance" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/ccmccandidate/addattendance" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <t t-set="institutes" t-value="env['bes.institute'].sudo().search([])"/>
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Add Attendance</h5>
                                                            </div>

                                                            <div class="modal-body">
                                                                <input type="hidden" id="candidate_id" t-attf-value="{{candidate.id}}" name="candidate_id"/>
                                                                <label for="attendance1">Whether Attendance record of the candidate comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC (YES/ NO):</label>

                                                                <select id="attendance1" name="attendance1">
                                                                    <option value="yes">Yes</option>
                                                                    <option value="no" t-att-selected="1">No</option>
                                                                </select>

                                                                <label for="attendance2">Attendance record of the candidate not comply with DGS training circular 1 of 2018 as per para 3.2 for GP / 7 of 2010 as per para 3.3 for CCMC and whether same has been informed to the DGS (YES/ NO):</label>

                                                                <select id="attendance2" name="attendance2">
                                                                    <option value="yes">Yes</option>
                                                                    <option value="no" t-att-selected="1">No</option>
                                                                </select>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Update</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>



                                        </div>
                                        <div class="tab-pane fade" id="stcw_certificates" role="tabpanel" aria-labelledby="ex-with-icons-tab-3">

                                            <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#AddCcmcStcw" class="btn btn-primary btn_cta">Add</a>
                                            <div class="modal fade" id="AddCcmcStcw" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <form method="post" action="/my/ccmccandidate/addstcw" enctype="multipart/form-data">
                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                                        <t t-set="institutes" t-value="env['bes.institute'].sudo().search([])"/>
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Add STCW Certificate</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_name">Course</label>
                                                                            <select class="form-control" id="course_name" name="course_name">
                                                                                <option value="pst">PST</option>
                                                                                <option value="efa">EFA</option>
                                                                                <option value="fpff">FPFF</option>
                                                                                <option value="pssr">PSSR</option>
                                                                                <option value="stsdsd">STSDSD</option>
                                                                                <option value="bst">BST</option>

                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="institute_name">Institute Name</label>
                                                                            <!-- Assuming you have a list of institutes available -->
                                                                            <select class="form-control" id="institute_name" name="institute_name">
                                                                                <t t-foreach="institutes" t-as="institute">
                                                                                    <option t-attf-value="{{institute.id}}">
                                                                                        <t t-out="institute.name"/>
                                                                                    </option>
                                                                                </t>
                                                                                <!-- Add more options as needed -->
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="marine_training_inst_number">MTI Number</label>
                                                                            <input type="text" class="form-control" id="marine_training_inst_number" name="marine_training_inst_number"/>
                                                                            <input type="hidden" class="form-control" t-attf-value="{{candidate.id}}" id="candidate_id" name="candidate_id"/>

                                                                        </div>
                                                                    </div>

                                                                    <!-- <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="mti_indos_no">Indos No.</label>
                                                                            <input type="text" class="form-control" id="mti_indos_no" name="mti_indos_no"/>
                                                                        </div>
                                                                    </div> -->

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="candidate_cert_no">Candidate Certificate Number</label>
                                                                            <input type="text" class="form-control" id="candidate_cert_no" name="candidate_cert_no"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_start_date">Course Start Date</label>
                                                                            <input type="date" class="form-control" id="course_start_date" name="course_start_date"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="course_end_date">Course End Date</label>
                                                                            <input type="date" class="form-control" id="course_end_date" name="course_end_date"/>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-6">
                                                                        <div class="form-group">
                                                                            <label for="certificate_upload">Certificate Upload</label>
                                                                            <input type="file" class="form-control" id="certificate_upload" name="certificate_upload"/>
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Add</button>
                                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="table-responsive border rounded border-top-0 ">
                                                <table class="table rounded mb-0 bg-white o_portal_my_doc_table">
                                                    <thead>
                                                        <tr>
                                                            <th>Course</th>
                                                            <th>Institute Name</th>
                                                            <th>MTI Number</th>
                                                            <th>INDOS No.</th>
                                                            <th>Candidate Certificate Number</th>
                                                            <th>Certificate Docs</th>
                                                            <th>Start Date</th>
                                                            <th>End Date</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <t t-foreach="candidate.stcw_certificate" t-as="stcw_certificate">
                                                            <tr>
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_name" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.institute_name.name" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.marine_training_inst_number" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.candidate_id.indos_no" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.candidate_cert_no" />
                                                                </td>
                                                                <td>
                                                                        Download
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_start_date" />
                                                                </td>
                                                                <td>
                                                                    <t t-out="stcw_certificate.course_end_date" />
                                                                </td>
                                                            </tr>
                                                        </t>

                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                </div>


            </div>
        </t>
    </template>

    <template id="gp_faculty_profile_view" name="GP Faculty">
        <t t-call="portal.portal_layout">
            <script>
                
                function displayImage(input) {
                    const cardImg = document.querySelector('.card-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }

                function displaySignImage(input) {
                    const cardImg = document.querySelector('.sign-img');
                    const file = input.files[0];

                    if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        cardImg.src = e.target.result;
                    };

                    reader.readAsDataURL(file);
                    }
                }



                        function openDeleteModal(button) {
                // Retrieve the data-id attribute value from the clicked button
                var dataId = button.getAttribute('data-id');
                var candidate_id = button.getAttribute('candidate-id');
                // Update the content of the modal with the retrieved data
                document.getElementById('visit_id').value = dataId;
                document.getElementById('candidate_id').value = candidate_id;

                }

                
            </script>
            <style>
                    .o_portal_my_doc_table {
                        width: 60%; /* You can adjust the percentage as needed */
                        margin: 0 auto; /* Centers the table horizontally */
                    }

                    /* Optionally, you can set specific widths for individual columns */
                    .o_portal_my_doc_table th,
                    .o_portal_my_doc_table td {
                        width: auto; /* Adjust as needed */
                    }
                        .card-img-container {
                        text-align: left;
                        margin-bottom: 10px;
                        }

                        .card-img {
                        width: 150px; /* Adjust the width as needed */
                        height: 150px; /* Adjust the height as needed */
                        object-fit: cover;
                        border-radius: 10px; /* Make it square by setting border-radius to half of the width/height */
                        }
            </style>
            
            <t t-foreach="faculties" t-as="faculty">
                <t t-if="batches.state == '1-ongoing'">
                    <a href="" style="margin-top: 10px; margin-bottom: 20px;" data-toggle="modal" data-target="#updateFacultyDetails" class="btn btn-primary btn_cta">Update Details</a>
                </t>
                <div class="modal fade" id="updateFacultyDetails" tabindex="-1" role="dialog" aria-labelledby="exampleFacultyModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <form method="post" action="/my/updatefacultydetails" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <input type="hidden" class="form-control" id="faculty_id" name="faculty_id" t-attf-value="{{faculty.id}}" />
                            <input type="hidden" class="form-control" id="batch_id" name="batch_id" t-attf-value="{{batch_id}}" />
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleFacultyModalLabel">Update Details</h5>
                                </div>
                                <div class="modal-body">
                                    <div class="container mt-5">
                                        <div class="row">
                                        
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label for="candidate_photo" class="form-label">Photo</label>
                                                    <input type="file" class="form-control" id="photo" name="photo" accept="image/*" onchange="displayImage(this)" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Full Name</label>
                                                    <input type="text" class="form-control" id="full_name" name="full_name" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Date Of Birth</label>
                                                    <input type="date" class="form-control" id="dob" name="dob" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Designation of the Faculty</label>
                                                    <input type="text" class="form-control" id="designation" name="designation" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Qualification of Faculty</label>
                                                    <input type="text" class="form-control" id="qualification" name="qualification" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="indos_no">Contract Terms</label>
                                                    <input type="text" class="form-control" id="contract" name="contract" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="courses_taught">Courses Taught</label>
                                                    <!-- Assuming you have a list of courses available -->
                                                    <select class="form-control" id="courses_taught" name="courses_taught">
                                                        <t t-foreach="courses" t-as="course">
                                                            <option t-attf-value="{{course.id}}">
                                                                <t t-out="course.name"/>
                                                            </option>
                                                        </t>
                                                        <!-- Add more options as needed -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary">Update</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="container py-5">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card mb-4">
                                <div class="card-body text-center">
                                    <t t-if="faculty.faculty_photo">
                                        <img t-attf-src="data:image/png; base64, {{faculty.faculty_photo}}" alt="avatar" class="rounded img-fluid" style="width: 150px;"/>
                                    </t>
                                    <t t-else="">
                                        <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" alt="avatar" class="rounded img-fluid" style="width: 150px;"/>
                                    </t>
                                </div>

                            </div>
                        </div>
                        
                        <div class="col-lg-8">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Full Name</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-out="faculty.faculty_name"/>
                                            </p>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Date Of Birth</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-out="faculty.dob"/>
                                            </p>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Designation of the Faculty</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-out="faculty.designation"/>
                                            </p>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Qualification of Faculty</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-out="faculty.qualification"/>
                                            </p>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Contract Terms</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-out="faculty.contract_terms"/>
                                            </p>
                                        </div>
                                    </div>
                                    <hr/>
                                    <t t-set="courses" t-value="faculty.courses_taught"/>
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <p class="mb-0">Courses Being Taught</p>
                                        </div>
                                        <div class="col-sm-9">
                                            <p class="text-muted mb-0">
                                                <t t-foreach="courses" t-as="course">
                                                    <span class="badge badge-primary">
                                                        <t t-out="course.name" />
                                                    </span>
                                                </t>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                
            </t>
        </t>
    </template>

    

</odoo>
