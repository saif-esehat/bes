<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <record id="ship_visit_report_actions" model="ir.actions.report">
        <field name="name">Ship Visit Report</field>
        <field name="model">dgs.batches</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">bes.candidate_ship_visit_reports</field>
        <field name="report_file">bes.candidate_ship_visit_reports</field>
        <field name="paperformat_id" ref="bes.dgs_report_landscape"/>
    </record>



    <template id="dgs_report_custom_header_footer_summarise">
        <style>
            @font-face {
                font-family: 'TimesNewRomanBold';
                src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                font-weight: 900;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'TimesNewRoman';
                src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                font-weight: normal;
                font-style: normal;
            }
        
            .header.article {
                margin-bottom: 5px;
                position: relative;
            }
        
            .header .row {
                text-align: center;
                font-size: 25px;
                font-family: 'TimesNewRomanBold';
                font-weight: 900;
            }
        
            .header .col-12 {
                font-family: 'TimesNewRomanBold';
                font-weight: 900;
                position: relative;
            }
        
            .header .encla {
                position: absolute;
                right: 0;
                top: 0;
                font-family: 'TimesNewRomanBold';
            }
        </style>
        
        <div class="container-fluid header article" style="font-family: 'TimesNewRomanBold';">
            <div class="row" style="font-family: 'TimesNewRomanBold';">
                <div class="col-12 " style="font-family: 'TimesNewRomanBold';">
                    <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';"><t t-if="course == 'GP'">ENCL.2a</t><t t-if="course == 'CCMC'">ENCL.2b</t></span>
                    <span style="display:block; text-align:center; font-size:25px; font-family: 'TimesNewRomanBold'; font-weight:900;">
                        <span t-esc="exam_sequence"/> All India Exit Examination Result for
                        <br></br>
                        <t t-if="course == 'GP'">
                            <strong style="font-family: 'Times New Roman', Times, serif; font-weight:900; text-align:center;">
                                GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                            </strong>
                        </t>
                        <t t-if="course == 'CCMC'">
                            <strong style="font-family: 'TimesNewRomanBold'; font-weight:900;text-align:center;">
                                CCMC RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                            </strong>
                        </t>
                    </span>
                </div>
            </div>
        </div>
        
        
        <div t-attf-class="article" t-att-style="report_header_style">
            <t t-out="0" />
        </div>
         <!-- o_standard_footer -->
        <div t-attf-class="footer">
            <div class="row">
                <div class="col-12 pull-left">
                    <small>
                        <span>Page</span>
                        <span class="page" />
                        of
                        <span class="topage" />
                    </small>
                </div>
            </div>
        </div>
    </template>
    
    <template id="summarised_gp_report">
        <t t-call="web.basic_layout">
            <style>
                @font-face {
                    font-family: 'TimesNewRomanBold';
                    src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                    font-weight: 900;
                    font-style: normal;
                }
                
                @font-face {
                    font-family: 'TimesNewRoman';
                    src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                    font-weight: normal;
                    font-style: normal;
                }
                .black-bordered-table {
                    width: 100%;
                    border: 1px solid black;
                    border-collapse: collapse;
                    margin-top: 30px;
                    font-family: 'TimesNewRoman';
                }
                th, td, tr {
                    border: 1px solid black;
                    text-align: center;
                    padding: 10px;
                    border-collapse: collapse;
                }
                thead {
                    padding-bottom: 0px;
                    font-family: 'TimesNewRomanBold';
                }
                td{
                    font-family: 'TimesNewRoman';
                }
                th {
                    vertical-align: bottom;
                }
            </style>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/> All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead style="font-family: 'TimesNewRomanBold';">
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="15" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="2">GSK (P.O.J)</th>
                        <th colspan="2">MEK (P.O.J)</th>
                        <th colspan="2">GSK Online</th>
                        <th colspan="2">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead>
                <tbody style="font-family: 'TimesNewRomanBold';">
                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_regions"/>
                    <t t-set="region_length" t-value="len(exam_regions)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_pass" t-value="0" />

                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="institutes" t-value="env['summarised.gp.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(institutes)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="institutes" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>

                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left" ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>
                                    <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.gsk_online_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_online_pass"/></td>
                                    <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />
                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />
                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>
                                        <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_gsk_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_mek_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_gsk_online_pass"/></td>
                                        <td><span t-esc="round((region_gsk_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_online_pass"/></td>
                                        <td><span t-esc="round((region_mek_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_overall_pass"/></td>
                                        <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>


                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />
                                        <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />
                                    </tr>
                                </t>

                            </t>

                            <t t-if="region_index == region_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td>All India Results</td>
                                        <td><span t-esc="nation_applied"/></td>
                                        <td><span t-esc="nation_candidate_appeared"/></td>
                                        <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round((nation_mek_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_gsk_online_pass"/></td>
                                        <td><span t-esc="round((nation_gsk_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_mek_online_pass"/></td>
                                        <td><span t-esc="round((nation_mek_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_overall_pass"/></td>
                                        <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                    </tr>
                            </t>
                    </t>

                    
                </tbody> 
            </table>
        </t>
    </template>


    <template id="summarised_gp_repeater_report">
        <t t-call="web.basic_layout">
            <style>
                @font-face {
                    font-family: 'TimesNewRomanBold';
                    src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                    font-weight: 900;
                    font-style: normal;
                }
                
                @font-face {
                    font-family: 'TimesNewRoman';
                    src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                    font-weight: normal;
                    font-style: normal;
                }
                .black-bordered-table {
                    width: 100%;
                    border: 1px solid black;
                    border-collapse: collapse;
                    margin-top: 30px;
                }
                th, td, tr {
                    border: 1px solid black;
                    text-align: center;
                    padding: 10px;
                    border-collapse: collapse;
                }
                thead {
                    padding-bottom: 0px;
                    font-family: 'TimesNewRomanBold';
                }
                td{
                    font-family: 'TimesNewRoman';
                }
                th {
                    vertical-align: bottom;
                }
            </style>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/> - All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead style="font-family: 'TimesNewRomanBold';">
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="19" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="3">GSK (P.O.J)</th>
                        <th colspan="3">MEK (P.O.J)</th>
                        <th colspan="3">GSK Online</th>
                        <th colspan="3">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead>
                <tbody style="font-family: 'TimesNewRomanBold';">
                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_regions"/>
                    <t t-set="region_length" t-value="len(exam_regions)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />

                    
                    <t t-set="nation_gsk_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />

                    <t t-set="nation_mek_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_appeared" t-value="0" />
                    <t t-set="nation_gsk_online_pass" t-value="0" />
                    
                    <t t-set="nation_mek_online_appeared" t-value="0" />
                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="institutes" t-value="env['summarised.gp.repeater.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(institutes)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            
                            <t t-set="region_gsk_prac_oral_appeared" t-value="0" />
                            <t t-set="region_mek_prac_oral_appeared" t-value="0" />
                            <t t-set="region_gsk_online_appeared" t-value="0" />
                            <t t-set="region_mek_online_appeared" t-value="0" />
                            
                            
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="institutes" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>
                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left" ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>

                                    <t t-if="institute.gsk_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.gsk_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    </t>

                                    <t t-if="institute.mek_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.mek_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>

                                    </t>


                                    <t t-if="institute.gsk_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.gsk_online_appeared"/></td>
                                        <td><span t-esc="institute.gsk_online_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>

                                    </t>

                                        <t t-if="institute.mek_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.mek_online_appeared"/></td>
                                        <td><span t-esc="institute.mek_online_pass"/></td>
                                        <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    </t>

                                    


                                    
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>
                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />

                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    
                                    <t t-set="region_gsk_prac_oral_appeared" t-value="region_gsk_prac_oral_appeared + institute.gsk_prac_oral_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />

                                    <t t-set="region_mek_prac_oral_appeared" t-value="region_mek_prac_oral_appeared + institute.mek_prac_oral_appeared" />                                        
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />

                                    <t t-set="region_gsk_online_appeared" t-value="region_gsk_online_appeared + institute.gsk_online_appeared" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />

                                    <t t-set="region_mek_online_appeared" t-value="region_mek_online_appeared + institute.mek_online_appeared" />                                        
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />

                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>



                                        <t t-if="region_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">                                
                                            <td><span t-esc="region_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_gsk_prac_oral_pass/region_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="region_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_mek_prac_oral_pass/region_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_gsk_online_appeared"/></td>
                                            <td><span t-esc="region_gsk_online_pass"/></td>
                                            <td><span t-esc="round((region_gsk_online_pass/region_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_online_appeared"/></td>
                                            <td><span t-esc="region_mek_online_pass"/></td>
                                            <td><span t-esc="round((region_mek_online_pass/region_mek_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_candidate_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>

                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_overall_pass"/></td>
                                            <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        </t>

                                        
                                       


                                        
                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />

                                        <t t-set="nation_gsk_prac_oral_appeared" t-value="nation_gsk_prac_oral_appeared + region_gsk_prac_oral_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        
                                        <t t-set="nation_mek_prac_oral_appeared" t-value="nation_mek_prac_oral_appeared + region_mek_prac_oral_appeared" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />

                                        <t t-set="nation_gsk_online_appeared" t-value="nation_gsk_online_appeared + region_gsk_online_appeared" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />

                                        <t t-set="nation_mek_online_appeared" t-value="nation_mek_online_appeared + region_mek_online_appeared" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />


                                        <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />
                                    </tr>
                                </t>
                            </t>
                            <t t-if="region_index == region_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td>All India Results</td>
                                        <td><span t-esc="nation_applied"/></td>
                                        <td><span t-esc="nation_candidate_appeared"/></td>
                                        

                                        <t t-if="nation_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_mek_prac_oral_pass/nation_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_online_appeared"/></td>
                                            <td><span t-esc="nation_gsk_online_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_online_pass/nation_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_online_appeared"/></td>
                                            <td><span t-esc="nation_mek_online_pass"/></td>
                                            <td><span t-esc="round((nation_mek_online_pass/nation_mek_online_appeared)*100,2)"/>%</td>
                                        </t>
                                        
                                        
                                        <td><span t-esc="nation_overall_pass"/></td>
                                        <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                    </tr>
                            </t>
                    </t>
                </tbody> 
            </table>
        </t>
    </template>

    
    <template id="summarised_ccmc_report">
        <t t-call="web.html_container">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <t t-call="bes.dgs_report_custom_header_footer_summarise">
                    <style>
                        @font-face {
                            font-family: 'TimesNewRomanBold';
                            src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                            font-weight: 900;
                            font-style: normal;
                        }
                        
                        @font-face {
                            font-family: 'TimesNewRoman';
                            src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                            font-weight: normal;
                            font-style: normal;
                        }
                        .black-bordered-table {
                            width: 100%;
                            border: 1px solid black;
                            border-collapse: collapse;
                            margin-top: 30px;
                        }
                        th, td, tr {
                            border: 1px solid black;
                            text-align: left;
                            padding: 10px;
                            border-collapse: collapse;
                            font-family: 'TimesNewRomanBold';
                        }
                        thead {
                            padding-bottom: 0px;
                        }
                        th {
                            vertical-align: bottom;
                        }
                    </style>
                    <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                        <thead style="font-family: 'TimesNewRomanBold';">
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th colspan="16" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th rowspan="2">Sr. No.</th>
                                <th rowspan="2">Code No.</th>
                                <th rowspan="2" style="text-align:left">Name of the Institute</th>
                                <th rowspan="2">Applied</th>
                                <th rowspan="2">Candidate Appear</th>
                                <th colspan="3">Practical</th>
                                <th colspan="3">Oral</th>
                                <th colspan="3">Online</th>
                                <th rowspan="2">Overall Pass</th>
                                <th rowspan="2">Overall Pass %</th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                            </tr>
                        </thead>
                        <tbody style="font-family: 'TimesNewRomanBold';">
                            <!-- sa
                            <span t-esc="regions"/> -->
                            <t t-set="nation_applied" t-value="0" />
                            <t t-set="region_index" t-value="0"/>
                            <t t-set="nation_candidate_appeared" t-value="0" />
                            <t t-set="region_length" t-value="len(exam_regions)"/>
                            <t t-set="nation_practical_pass_appeared" t-value="0" />
                            <t t-set="nation_practical_pass" t-value="0" />
                            <t t-set="nation_oral_pass_appeared" t-value="0" />
                            <t t-set="nation_oral_pass" t-value="0" />
                            <t t-set="nation_online_pass_appeared" t-value="0" />
                            <t t-set="nation_online_passs" t-value="0" />
                            <t t-set="nation_overall_pass" t-value="0" />


                            <t t-set="index" t-value="0"/>
                            <t t-foreach="exam_regions" t-as="center">

                                    <t t-set="region_index" t-value="region_index + 1"/>
                                    <t t-set="institutes" t-value="env['summarised.ccmc.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                                        
                                    <t t-set="institutes_length" t-value="len(institutes)" />

                                    <t t-set="region_applied" t-value="0" />
                                    <t t-set="region_candidate_appeared" t-value="0" />
                                    <t t-set="region_practical_pass_appeared" t-value="0" />
                                    <t t-set="region_practical_pass" t-value="0" />
                                    <t t-set="region_oral_pass_appeared" t-value="0" />
                                    <t t-set="region_oral_pass" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_online_passs" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_overall_pass" t-value="0" />


                                    




                                    <t t-set="institutes_index" t-value="0"/>

                                    <t t-foreach="institutes" t-as="institute">
                                        <tr style="font-family: 'TimesNewRomanBold';">
                                            <t t-set="institutes_index" t-value="institutes_index + 1"/>

                                            <t t-set="index" t-value="index + 1"/>
                                            <td><span t-esc="index"/></td>
                                            <td><span t-esc="institute.institute.code"/></td>
                                            <td style="text-align:left"><span t-esc="institute.institute.name"/></td>
                                            <td><span t-esc="institute.applied"/></td>
                                            <td><span t-esc="institute.candidate_appeared"/></td>
                                            <t t-if="institute.practical_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.practical_pass_appeared"/></td>
                                                <td><span t-esc="institute.practical_pass"/></td>
                                                <td><span t-esc="round(institute.practical_pass_per,2)"/>%</td>
                                            </t>
                                            
                                            <t t-if="institute.oral_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.oral_pass_appeared"/></td>
                                                <td><span t-esc="institute.oral_pass"/></td>
                                                <td><span t-esc="round(institute.oral_pass_per,2)"/>%</td>
                                            </t>

                                            <t t-if="institute.online_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.online_pass_appeared"/></td>
                                                <td><span t-esc="institute.online_pass"/></td>
                                                <td><span t-esc="round(institute.online_pass_per,2)"/>%</td>
                                            </t>

                                            


                                            

                                            <td><span t-esc="institute.overall_pass"/></td>
                                            <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                            <t t-set="region_applied" t-value="region_applied + institute.applied" />
                                            <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                            <t t-set="region_practical_pass_appeared" t-value="region_practical_pass_appeared + institute.practical_pass_appeared" />
                                            <t t-set="region_practical_pass" t-value="region_practical_pass + institute.practical_pass" />
                                            <t t-set="region_oral_pass_appeared" t-value="region_oral_pass_appeared + institute.oral_pass_appeared" />
                                            <t t-set="region_oral_pass" t-value="region_oral_pass + institute.oral_pass" />
                                            <t t-set="region_online_pass_appeared" t-value="region_online_pass_appeared + institute.online_pass_appeared" />
                                            <t t-set="region_online_passs" t-value="region_online_passs + institute.online_pass" />
                                            <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />



                                        </tr>
                                        <t t-if="institutes_index == institutes_length">

                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">
                                                <!-- <td colspan="15" style="text-align: center;"><strong>All India Exit</strong></td> -->
                                                <td></td>
                                                <td></td>
                                                <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                                <td><span t-esc="region_applied"/></td>
                                                <td><span t-esc="region_candidate_appeared"/></td>
                                             

                                                <t t-if="region_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_practical_pass_appeared"/></td>
                                                    <td><span t-esc="region_practical_pass"/></td>
                                                    <td><span t-esc="round((region_practical_pass/region_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                
                                                <t t-if="region_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_oral_pass_appeared"/></td>
                                                    <td><span t-esc="region_oral_pass"/></td>
                                                    <td><span t-esc="round((region_oral_pass/region_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="region_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_online_pass_appeared"/></td>
                                                    <td><span t-esc="region_online_passs"/></td>
                                                    <td><span t-esc="round((region_online_passs/region_online_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                <td><span t-esc="region_overall_pass"/></td>
                                                <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>
                                                <!-- <td><span t-esc="institute.oral_pass_appeared"/></td>
                                                <td><span t-esc="institute.oral_pass"/></td>
                                                <td><span t-esc="round(institute.oral_pass_per,2)"/>%</td>
                                                <td><span t-esc="institute.online_pass_appeared"/></td>
                                                <td><span t-esc="institute.online_pass"/></td>
                                                <td><span t-esc="round(institute.online_pass_per,2)"/>%</td>
                                                <td><span t-esc="institute.overall_pass"/></td>
                                                <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td> -->

                                                <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                                <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                                <t t-set="nation_practical_pass_appeared" t-value="nation_practical_pass_appeared + region_practical_pass_appeared" />
                                                <t t-set="nation_practical_pass" t-value="nation_practical_pass + region_practical_pass" />
                                                <t t-set="nation_oral_pass_appeared" t-value="nation_oral_pass_appeared + region_oral_pass_appeared" />
                                                <t t-set="nation_oral_pass" t-value="nation_oral_pass + region_oral_pass" />
                                                <t t-set="nation_online_pass_appeared" t-value="nation_online_pass_appeared + region_online_pass_appeared" />
                                                <t t-set="nation_online_passs" t-value="nation_online_passs + region_online_passs" />
                                                <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />

                                            </tr>
                                        
                                        </t>
                                        
                                    </t>

                                    <t t-if="region_index == region_length">
                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">
                                                <!-- <td colspan="15" style="text-align: center;"><strong>All India Exit</strong></td> -->

                                         
                                                <td colspan="3" style="font-family: 'TimesNewRomanBold';">All India Results</td>
                                                <td><span t-esc="nation_applied"/></td>
                                                <td><span t-esc="nation_candidate_appeared"/></td>
                                                <t t-if="nation_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_practical_pass_appeared"/></td>
                                                    <td><span t-esc="nation_practical_pass"/></td>
                                                    <td><span t-esc="round((nation_practical_pass/nation_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="nation_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_oral_pass_appeared"/></td>
                                                    <td><span t-esc="nation_oral_pass"/></td>
                                                    <td><span t-esc="round((nation_oral_pass/nation_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                 <t t-if="nation_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_online_pass_appeared"/></td>
                                                    <td><span t-esc="nation_online_passs"/></td>
                                                    <td><span t-esc="round((nation_online_passs/nation_online_pass_appeared)*100,2)"/>%</td>
                                                </t>
                                                
                                                
                                           
                                                <td><span t-esc="nation_overall_pass"/></td>
                                                <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>

                                                <!-- <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                                <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                                <td><span t-esc="round((nation_mek_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_gsk_online_pass"/></td>
                                                <td><span t-esc="round((nation_gsk_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_mek_online_pass"/></td>
                                                <td><span t-esc="round((nation_mek_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_overall_pass"/></td>
                                                <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td> -->
                                            </tr>
                                    </t>
                            
                            </t>
                        </tbody>
                    </table>
            </t>
        </t>
    </template>

    <template id="ship_visit_header" >
        <div class="container" t-attf-class="header article" t-att-style="report_header_style">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <style>
                .row {
                    position: relative;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
                .col-12 {
                    text-align: center;
                    position: relative;
                }
            </style>
            <div class="row" style="text-align:center; font-size:20px; font-family: 'TimesNewRomanBold'; font-weight:900;">
            </div >
            <div class="container-fluid">
                <div class="row" style="text-align:center; font-size:18px; font-family:'TimesNewRomanBold'; font-weight:900; position: relative;">
                    <t t-foreach="docs" t-as="doc">
                        <div class="col-12">  
                            <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL. 5</span>              
                            <strong>
                            All India Exit Examination for Ratings - 
                                <span style="margin-left:5px"/>
                                <t t-set="formatted_date" t-value="doc.to_date.strftime('%B %Y')" />
                                <t t-esc="formatted_date" />
                            </strong>

                        </div>
                        <div>
                            <strong>Summary of Ship Visit Record for GP and CCMC Fresh Candidate
                            </strong>
                        </div>
                    </t>
                </div>
            </div>
            <div t-attf-class="article" t-att-style="report_header_style">
                <t t-out="0" />
            </div>
            <div t-attf-class="footer">
                <div class="row">
                    <div class="col-12 pull-left">
                        <small>
                            <span>Page</span>
                            <span class="page" />
                            of
                            <span class="topage" />
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </template>






    <template id="candidate_ship_visit_reports">
        <t t-call="web.html_container">
    
            <div class="container">
                <table class="black-bordered-table" style="" border="1">
                    <thead>
                        <tr>GP INSTITUTES</tr>
                        <tr>
                            <th>Sr.No.</th>
                            <th>Code No.</th>
                            <th>Name of the Institute</th>
                            <th>No of Candidate</th>
                            <th>No of Ship Visit</th>
                            <th>Name of tne Ship Visited/Ship in Campus</th>
                            <th>IMO No.</th>
                            <th>Name of the Port Visited Place of SIC</th>
                            <th>Date of Visit</th>
                            <th>Time Spend on Ship(Hrs)</th>
                            <th>Provided Evidence</th>
                            <th>Remrk</th>
                            <th>Center</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-set="index" t-value="0"/>
                        
                        <t t-foreach="institutes_data" t-as="institute_id">
                            <t t-set="institute_object" t-value="env['bes.institute'].sudo().search([('id','=',institute_id)])"/>
                            <t t-set="candidate_count" t-value="env['gp.candidate'].sudo().search_count([('dgs_batch','=',docs.id),('institute_id','=',institute_id)])"/>
                            <t t-set="ships" t-value="env['gp.candidate.ship.visits'].sudo().search([('dgs_batch','=',docs.id),('institute','=',institute_id)])"/>
                            <t t-set="unique_ships" t-value="set((ship.name_of_ships, ship.imo_no,ship.name_of_ports_visited,ship.date_of_visits,ship.time_spent_on_ship) for ship in ships)"/>
                            
                            <t t-set="unique_ships_sorted" t-value="sorted(unique_ships, key=lambda x: x[2])"/>
                            <t t-set="unique_ships_count" t-value="len(unique_ships)"/>
                            <!-- <t t-foreach="unique_ships" t-as="unique_ship"> -->
                            <t t-set="unique_ships_index" t-value="1"/>
                            <t t-set="index" t-value="index + 1"/>
                            
                            <t t-set="previous_port" t-value="''"/>
                            <t t-set="rowspan_dict" t-value="{}"/>
                            <t t-set="current_port_count" t-value="0"/>
                            
                            <tr  t-foreach="unique_ships_sorted" t-as="unique_ship">
                                    <t t-if="unique_ships_index == 1">
                                        <t t-esc="rowspan_dict.update({unique_ship[2]:sum(1 for item in unique_ships_sorted if item[2] == unique_ship[2])})"/>
                                        <!-- <span t-esc="rowspan_dict"/> -->
                                        <!-- <t t-set="rowspan_dict[unique_ship[2]]" t-value="sum(1 for item in unique_ships if item[2] == unique_ship[2])"/> -->
                                        <td  t-att-rowspan="unique_ships_count"><span t-esc="index"/></td>
                                        <td t-att-rowspan="unique_ships_count" ><span t-esc="institute_object.code"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="institute_object.name"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="candidate_count"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="unique_ships_count"/></td>
                                    </t>
                                    <t t-set="current_port_count" t-value="rowspan_dict.get(unique_ship[2], 0)"/>
                                    <t t-set="unique_ships_index" t-value="unique_ships_index+1"/>
                                    <td><span t-esc="unique_ship[0]"/></td> <!-- name_of_ships -->
                                    <td><span t-esc="unique_ship[1]"/></td> <!-- imo_no -->
                                    <td><span t-esc="unique_ship[2]"/></td>
                                    <!-- <t t-if="unique_ship[2] != previous_port">
                                        <td t-att-rowspan="current_port_count"><span t-esc="unique_ship[2]"/></td>
                                        <t t-set="previous_port" t-value="unique_ship[2]"/>
                                    </t> -->
                                    <!-- <td><span t-esc="unique_ship[3]"/></td> -->

                                    <!-- <t t-else="" >
                                        <td><span t-esc="unique_ship[2]"/></td>
                                        </t> -->
                                    <!-- <td><span t-esc="unique_ship[2]"/></td> -->
                                    <!-- <td><span t-esc="unique_ship[3]"/></td>
                                    <td><span t-esc="unique_ship[4]"/></td> -->
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
    </template>


    <template id="bar_graph_report_header">
        <div class="container" t-attf-class="header article" t-att-style="report_header_style" style=" margin-botton:5px;">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <div class="row" style="text-align:center; font-size:25px; font-family: 'TimesNewRomanBold'; font-weight:900;">
                <div class="col-12" style="font-family: 'TimesNewRomanBold';">
                    <t t-if="docs.course == 'gp'">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2a</span>
                    </t>
                    <t t-if="docs.course == 'ccmc'">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2b</span>
                    </t>
                    BEST - ALL INDIA EXIT EXAMINATIONS FOR SEAFARERS  <span style="margin-left:5px; margin-right:5px;font-family: 'TimesNewRomanBold';"/> <br></br>
                    <t t-if="docs.course == 'gp'">
                        <strong>GP RATING <span t-field="docs.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                    </t>
                    <t t-if="docs.course == 'ccmc'">
                        <strong>CCMC RATING <span t-field="docs.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                    </t>
                   
                </div>
            </div >
        </div>
        <div t-attf-class="article" t-att-style="report_header_style">
            <t t-out="0" />
        </div>
         <!-- o_standard_footer -->
        <!-- <div t-attf-class="footer">
            <div class="row">
                <div class="col-12 pull-left">
                    <small>
                        <span>Page</span>
                        <span class="page" />
                        of
                        <span class="topage" />
                    </small>
                </div>
            </div>
        </div> -->
    </template>

    <template id="bar_graph_report">
        <t t-call="web.html_container">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <t t-call="bes.bar_graph_report_header">
                <style>
                    @font-face {
                        font-family: 'TimesNewRomanBold';
                        src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                        font-weight: 900;
                        font-style: normal;
                    }
                    
                    .institute-list {
                        display: flex;
                        flex-wrap: wrap;
                        font-family: 'TimesNewRomanBold';
                    }
                    .institute-item {
                        flex: 0 0 50%; /* Each item takes 50% of the width of the container */
                        box-sizing: border-box; /* Ensure padding and borders are included in the width */
                        padding: 5px;
                    }
        
            
                 .image-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    text-align: center;
                    margin-top: 5px;
                }
                img.centered-image {
                    margin: auto;
                }

                .my-table {
                    border-collapse: collapse;
                    width: 80%; /* Reduced width */
                    margin: 20px auto; /* Center align and add margin */
                    font-size: 12px;
                }




                </style>
                <t t-foreach="docs" t-as="doc">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 image-container">
                                <t t-if="doc.course == 'gp'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.gp_plot_image}}" alt="Image" class="img img-fluid" style="width:95%;height:550px; margin-top:2px;"/>
                                </t>
                                <t t-elif="doc.course == 'ccmc'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.ccmc_plot_image}}" alt="Image" class="img img-responsive" style="width:95%;height:550px; margin-top:2px;"/>
                                </t>
                            </div>
                        </div>
                        <div class="row">
                           <div class="col-12">
                            <table class="my-table" >
                                 <tbody>

                                     <!-- <tr t-foreach="range(0, int(47/3 + 0.5 - 1e-10))" t-as="i">
                                        <td t-if="i * 3 &lt;  47"><span t-esc="i * 3"/></td>
                                        <td t-if="i * 3 + 1 &lt;  47"><span t-esc="i * 3 + 1"/></td>
                                        <td t-if="i * 3 + 2 &lt;  47"><span t-esc="i * 3 + 2"/></td>
                                    </tr> -->

                                

                                    <tr t-foreach="range(0,int(len(institutes_data)/3 + 0.5 - 1e-10))" t-as="i" style="font-family: 'TimesNewRomanBold';font-size: 12px;">
                                        <td t-if="i * 3 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 12px"><span t-esc="institutes_data[i * 3]['code']"/> - <span t-esc="institutes_data[i * 3]['name']"/></td>
                                        <td t-if="i * 3 + 1 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 12px"><span t-esc="institutes_data[i * 3 + 1]['code']"/> - <span t-esc="institutes_data[i * 3 + 1]['name']"/></td>
                                        <td t-if="i * 3 + 2 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 12px"><span t-esc="institutes_data[i * 3 + 2]['code']"/> - <span t-esc="institutes_data[i * 3 + 2]['name']"/></td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                       </div> 
                    </div>
                </t>
            </t>
        </t>
    </template>

    <template id="report_comparative">
        <t t-call="web.html_container">
            <!-- <t t-foreach="docs" t-as="doc"> -->
                <h2>Comparative Report</h2>
                <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold'; width: 100%;text-align: center;" border="1">
                      <thead>
                 
                          <tr >
                      
                            <td rowspan="2" style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; vertical-align: middle;">Month Of Examination conducted  For GP Rating</td>
                            <td colspan="2" style="border: 1px solid black; text-align: center; font-weight: bold; vertical-align: middle;">FRESH CANDIDATES </td>
                            <td colspan="2" style="border: 1px solid black; text-align: center; font-weight: bold; vertical-align: middle;">REPEATER CANDIDATES </td>
                            </tr>
                            <tr >
                                <td style="border: 1px solid black; text-align: center; font-weight: bold;  vertical-align: middle;">Appeared</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold;  vertical-align: middle;">% Pass</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold;  vertical-align: middle;">Appeared</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold;  vertical-align: middle;">% Pass</td>
                            </tr>
                        
                        </thead>
                    <tbody>
                
                        <tr>
                            <td><span t-esc="sequence_report"/> Exam <span t-esc="sequence_report"/></td>
                            <td><span t-esc="fresh_candidate_appeared"/></td>
                            <td><span t-esc="fresh_overall_pass_percentage"/>%</td>
                            <td><span t-esc="repeater_candidate_appeared"/></td>
                           <td><span t-esc="repeater_overall_pass_percentage"/>%</td>
                        </tr>
                 
                    </tbody>
                </table>
            <!-- </t> -->
        </t>
    </template>

   <template id="combined_report">
        <t t-call="web.basic_layout">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <div class="page">
                <!-- Header with Logo and Title -->
                                    <style>
                    @font-face {
                        font-family: 'TimesNewRomanBold';
                        src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                        font-weight: 900;
                        font-style: normal;
                    }
                    
                    @font-face {
                        font-family: 'TimesNewRoman';
                        src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                        font-weight: normal;
                        font-style: normal;
                    }
                    .black-bordered-table {
                        width: 100%;
                        border: 1px solid black;
                        border-collapse: collapse;
                        margin-top: 30px;
                        font-family: 'TimesNewRoman';
                    }
                    th, td, tr {
                        border: 1px solid black;
                        text-align: left;
                        padding: 10px;
                        border-collapse: collapse;
                    }
                    thead {
                        padding-bottom: 0px;
                        font-family: 'TimesNewRomanBold';
                    }
                    td{
                        font-family: 'TimesNewRoman';
                    }
                    th {
                        vertical-align: bottom;
                    }
                </style>
                
                    <div style="text-align: center;">
                        <img class="img img-responsive img-top" src="/bes/static/src/img/logo_bes.jpg"
                            style="width: 300px; height: 300px; margin-bottom: 20px;" alt="BES Logo" />
                    </div>
                    <p style="text-align: center; font-size: 30px; font-weight: 900; font-family: 'TimesNewRomanBold'; margin: 0 0 5px 0">Board of Examinations for Seafarers Trust</p>
                    <p style="text-align: center; font-size: 30px; font-weight: 900; font-family: 'TimesNewRomanBold'; margin: 0 0 5px 0">Summarized Report</p>
                    <p style="text-align: center; font-size: 30px; font-weight: 900; font-family: 'TimesNewRomanBold'; margin: 0 0 5px 0">on</p>
                    <p style="text-align: center; font-size: 30px; font-weight: 900; font-family: 'TimesNewRomanBold'; margin: 0 0 5px 0">All India Exit Examination for Ratings</p>
                    <p style="text-align: center; font-size: 30px; font-weight: 900; font-family: 'TimesNewRomanBold'; margin: 0 0 5px 0"><span t-esc="docs.examination_batch.to_date.strftime('%B %Y')"/> Examinations</p>
            
                <!-- Table of Enclosures -->
                <table  class="black-bordered-table" style="text-align: left; font-size: 20px; font-family: 'TimesNewRoman';" border="1">
                    <tbody>
                        <tr>
                            <td>Enclosure 1</td>
                            <td>Summarized report</td>
                            <td>Pages 1-5</td>
                        </tr>
                        <tr>
                            <td>Enclosure 2</td>
                            <td>Summary of results - GP &amp; CCMC</td>
                            <td>Pages 6-13</td>
                        </tr>
                        <tr>
                            <td>Enclosure 3</td>
                            <td>Comparative performance of institutes</td>
                            <td>Pages 14-15</td>
                        </tr>
                        <tr>
                            <td>Enclosure 4</td>
                            <td>Institute wise result analysis</td>
                            <td>Pages 16-19</td>
                        </tr>
                        <tr>
                            <td>Enclosure 5</td>
                            <td>Summary of ship visit (GP &amp; CCMC)</td>
                            <td>Pages 20-25</td>
                        </tr>
                    </tbody>
                </table>

                <p style="margin-top:35px; text-align: center; font-size: 20px; font-weight: 900; font-family: 'TimesNewRomanBold';">Date: <t t-esc="current_date"/></p>

            </div>


            <div class="page" style="page-break-before: always;">
                <!-- Header Section -->
                <h1 style="text-align: center; font-weight: bold; font-family: 'TimesNewRomanBold'; text-decoration: underline; font-size: 34px; margin-bottom: 20px; padding-top: 80px;">
                    Board of Examinations for Seafarers Trust
                </h1>
                <h1 style="text-align: center; font-weight: bold; font-family: 'TimesNewRomanBold'; text-decoration: underline; font-size: 28px; margin-bottom: 30px;">
                    All India Exit Examination for Ratings - <span t-esc="docs.examination_batch.to_date.strftime('%B %Y')"/>
                </h1>

                <table style="width: 100%; margin-bottom: 20px; padding: 0; border: none;">
                    <tr style="border: none;">
                        <td style="border: none; font-family: 'TimesNewRomanBold'; font-weight: bold; text-decoration: underline; font-size: 28px; text-align: left;">
                            Summarized Report
                        </td>
                        <td style="border: none; font-family: 'TimesNewRomanBold'; font-size: 18px; text-align: right; margin: 0; padding: 0;">
                            <b style="font-family: 'TimesNewRomanBold';">Date:</b> <t t-esc="current_date"/>
                        </td>
                    </tr>
                </table>

                <!-- Section 1 -->
                <h3 style="font-family: 'TimesNewRomanBold'; font-weight: bold; font-size: 20px; margin-left: 10px; margin-bottom: 10px;">
                    1. Report on the All India Exit Examination
                </h3>
                <p style="margin-bottom: 20px; margin-left: 10px; text-align: justify; line-height: 1.5; font-family: 'TimesNewRoman'; font-size: 18px;">
                    <b style="font-family: 'TimesNewRomanBold';">1.1 Online test Venues/ Invigilators:</b>
                    The online test for all candidates was conducted at the respective institutes. 
                    In all cases, either BES or empaneled invigilators supervised the process. 
                    The test had a full coverage of the syllabus in both GP and CCMC. GP online test consists of 45 minutes for GSK and 45 minutes for MEK. 
                    CCMC online test is of 60 minutes duration.
                </p>
                <p style="margin-bottom: 30px; margin-left: 10px; text-align: justify; line-height: 1.5; font-family: 'TimesNewRomanBold';">
                    <b style="font-family: 'TimesNewRomanBold';">1.2 Incidents of unfair means in the online test:</b><br/>
                    <t t-esc="docs.incident_report or 'NIL'"/>
                </p>

                <!-- Section 2 -->
                <h3 style="font-weight: bold; margin-left: 10px; margin-bottom: 15px; font-size: 20px; font-family: 'TimesNewRomanBold';">
                    2. Performance of G.P. Rating (Fresh candidates)
                </h3>
                <p style="margin-bottom: 10px; font-family: 'TimesNewRoman'; font-size: 18px;">
                    (Figures in parentheses are for <span t-esc="docs.examination_batch.to_date.strftime('%b %Y')"/> Examination)
                </p>
                <p style="margin-bottom: 20px; text-align: justify; line-height: 1.5; font-family: 'TimesNewRoman'; font-size: 18px;">
                    In all, <t t-esc="current_gp_candidate_applied"/>(<t t-esc="previous_gp_candidate_applied"/>) candidates applied, 
                    of which <t t-esc="current_gp_candidate_appeared"/>(<t t-esc="previous_gp_candidate_appeared"/>) candidates appeared. 
                    <t t-esc="current_gp_candidate_passed"/>(<t t-esc="previous_gp_candidate_passed"/>) candidates passed. 
                    The overall result is <t t-esc="'{:.1f}'.format(current_gp_pass_percentage )"/>% (<t t-esc="'{:.1f}'.format(previous_gp_pass_percentage )"/>%).
                </p>

                <!-- Table Section -->
                <p style="margin-bottom: 20px; font-weight: bold; font-size: 18px; font-family: 'TimesNewRoman';">
                    Subject wise pass percentage of GP rating examination for 50 institutes is as follows:
                </p>
                <table style="width: 100%; border-collapse: collapse; font-size: 18px; text-align: left; font-family: 'TimesNewRoman'; margin-bottom: 30px;" border="1">
                    <thead>
                        <tr>
                            <th style="padding: 5px;">Subject</th>
                            <th style="text-align: center; padding: 5px;">Passed (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="subject_pass_data" t-as="subject">
                            <tr>
                                <td style="padding: 5px;">
                                    <!-- Display value instead of the key -->
                                    <t t-esc="dict(subject._fields['subject'].selection).get(subject.subject)"/> 
                                </td>
                                <td style="text-align: center; padding: 5px;">
                                    <t t-esc="'{:.1f}'.format(subject.percentage)"/>%
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>

            <div class="page" style="page-break-before: always;">

                <!-- Section Title -->
                <div>
                    <p style="font-weight: bold; font-family: 'TimesNewRomanBold; text-align: center; font-size: 18px; margin-top: 60px;">
                        The Passing Percentage of the Candidates for the Following Institutes is Below 80%.
                    </p>
                </div>

                <!-- Institutes Table -->
                <div style="text-align: center;">
                    <table class="black-bordered-table" style="font-family: 'TimesNewRoman'; width: 90%; text-align: center; border-collapse: collapse; margin: 20px auto;" border="1">
                        <thead>
                            <tr>
                                <td rowspan="2" style="border: 1px solid black; text-align: left; font-weight: bold; width: 50%; vertical-align: middle; padding: 5px;">Name of the Institutes</td>
                                <td colspan="3" style="border: 1px solid black; text-align: center; font-weight: bold; vertical-align: middle; padding: 5px;">
                                    <span t-esc="docs.examination_batch.to_date.strftime('%b %y')"/> - Exam Held for <span t-esc="docs.examination_batch.from_date.strftime('%b')"/> to <span t-esc="docs.examination_batch.to_date.strftime('%b %y')"/> Batch
                                </td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 15%; padding: 5px;">Appeared</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 15%; padding: 5px;">Passed</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 15%; padding: 5px;">%</td>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="low_percentage_data" t-as="record">
                                <tr>
                                    <td style="border: 1px solid black; text-align: left; vertical-align: middle; padding: 5px;" t-esc="record.institute_id.name"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="record.appeared"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="record.passed"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="'{:.1f}'.format(record.percentage)"></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>

                <!-- GP Repeater Candidates Section -->
                <div>
                    <p style="font-weight: bold; margin-left: 50px; margin-top: 30px; font-size: 18px;">
                        2A GP Repeater Candidates:
                    </p>
                    <p style="margin-left: 50px; font-size: 16px;">
                        (Figures in parentheses are for Jun' 2023 Examination)
                    </p>
                    <p style="margin-left: 50px; font-size: 16px;">
                         <t t-esc="current_gp_candidate_repeater_applied"/> (417) candidates applied, 
                         of which <t t-esc="current_gp_candidate_repeater_appeared"/> (378) appeared, 
                         <t t-esc="current_gp_candidate_repeater_passed"/> (184) candidates passed giving a success rate of 
                         <t t-esc="current_gp_pass_repeater_percentage"/>% (48.7%).

                    </p>
                </div>

                <!-- Repeater Table -->
                <div style="text-align: center;">
                    <table class="black-bordered-table" style="font-family: 'TimesNewRoman'; width: 90%; text-align: center; border-collapse: collapse; margin: 20px auto;" border="1">
                        <thead>
                            <tr>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 25%; padding: 5px;">Attempt Number</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 25%; padding: 5px;">Appeared</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 25%; padding: 5px;">Passed</td>
                                <td style="border: 1px solid black; text-align: center; font-weight: bold; width: 25%; padding: 5px;">%</td>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="gp_repeater_data" t-as="repeater">
                                <tr>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="repeater.attempt_number"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="repeater.appeared"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="repeater.passed"></td>
                                    <td style="border: 1px solid black; text-align: center; vertical-align: middle; padding: 5px;" t-esc="'{:.1f}'.format(repeater.pass_percentage)"></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>

            
            <!-- Header Section -->
            <div class="page" style="page-break-before: always;">
                <h3 style="font-weight: bold; margin-left: 10px; margin-bottom: 15px; font-size: 20px; font-family: 'TimesNewRomanBold';">
                    3. Performance of Certificate Course in Maritime Catering (CCMC)
                </h3>
                <p style="margin-bottom: 10px; font-family: 'TimesNewRoman'; font-size: 18px;">
                    (Figures in parentheses are for <span t-esc="subject_pass_data.examination_batch.to_date.strftime('%b %y')"/> Examination)
                </p>
                <p style="margin-bottom: 20px; text-align: justify; line-height: 1.5; font-family: 'TimesNewRoman'; font-size: 18px;">In all,  
                    <span t-esc="total_ccmc_applied"/>() candidates applied 
                    and <span t-esc="total_ccmc_appeared"/>()  candidates appeared. 
                    <span t-esc="total_ccmc_passed"/>() candidates passed. 
                    The overall result is <span t-esc="'{:.1f}%'.format(overall_ccmc_percentage)"/>%()
                </p>

                <p style="font-weight: bold; font-family: 'TimesNewRomanBold; text-align: center; font-size: 18px; margin-top: 60px;">
                    CCMC Dec '23 Fresh Candidates - The Passing Percentage of the Institutes is as follows:
                </p>
                <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';text-align: center;" border="1">
                    <thead>
                        <tr >
                            <td colspan="6" style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 40%; vertical-align: middle;">
                                CCMC <span t-esc="subject_pass_data.examination_batch.to_date.strftime('%b %y')"/> Fresh candidates - The passing percentage of the Institutes is as follows:
                            </td>
                        </tr>
                        <tr>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 5%; vertical-align: middle;">Sr. No.</th>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 60%; vertical-align: middle;">Name of the Institute</th>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 10%; vertical-align: middle;">Applied</th>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 10%; vertical-align: middle;">Appeared</th>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 10%; vertical-align: middle;">Passed</th>
                            <th style="border: 1px solid black; border-bottom:none; text-align: center; font-weight: bold; width: 10%; vertical-align: middle;">%</th>
                        </tr>
                    </thead>
                    <tbody>
                    <t t-set="index" t-value="0" />
                    <t t-foreach="ccmc_percentage_data" t-as="ccmc">
                        <t t-set="index" t-value="index + 1" />
                        <tr>
                            <td colspan="1" style="border: 1px solid black; padding:6px; text-align: center;">
                                <span t-esc="index" />
                            </td>
                            <td style="border: 1px solid black; text-align: left; vertical-align: middle;" t-esc="ccmc.institute_id.name"/> 
                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="ccmc.applied"/>
                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="ccmc.appeared"/> 
                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="ccmc.passed"/> 
                            <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="'{:.2f}'.format(ccmc.percentage)"/> 
                        </tr>
                    </t>
                    </tbody>
                </table>

                
            </div>

            <div class="page" style="page-break-before: always;">
                <h4 style="font-weight: bold; margin: 20px 0;">3A CCMC Repeaters</h4>
                <p>
                    <span t-esc="ccmc_r_total_appeared"/> appeared, 
                    <span t-esc="ccmc_r_total_passed"/> passed. 
                    The overall result is<span t-esc="'{:.1f}%'.format(ccmc_r_overall_percentage)"/>%
                </p>
                <table border="1" style="width: 60%; margin: auto; text-align: center; font-family: 'TimesNewRomanBold';">
                    <thead>
                        <tr>
                            <th>Attempt Number</th>
                            <th>Appeared</th>
                            <th>Passed</th>
                            <th>% Pass</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="ccmc_repeater_data" t-as="ccmc_repeater">
                            <tr>
                                <td style="border: 1px solid black; text-align: left; vertical-align: middle;" t-esc="ccmc_repeater.attempt_number"/>  
                                <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="ccmc_repeater.appeared"/>  
                                <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="ccmc_repeater.passed"/>  
                                <td style="border: 1px solid black; text-align: center; vertical-align: middle;" t-esc="'{:.2f}'.format(ccmc_repeater.pass_percentage)"/> 
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>

            <div>
                <h4 style="font-weight: bold; margin: 20px 0;">4 Examinations were conducted as follows:</h4>
                <ul style="margin-left: 40px;">
                    <li>Oral and Practical were conducted at 50 training institutes for GP and 18 training institutes for CCMC between 2nd Dec 2023 to 29th Dec 2023.</li>
                    <li>Online Examination was conducted at respective institutes between 5th Dec 2023 to 29th Dec 2023.</li>
                </ul>
            </div>

            <div>
                <h4 style="font-weight: bold; margin: 20px 0;">5 Concluding Remarks</h4>
                <p>BES has been continuously striving to improve the process of examinations and encouraging institutes to improve their infrastructure and training.</p>
                <p>BES wishes "Thank you" to The Directorate General of Shipping for continuing support and guidance.</p>
                <div style="margin-top: 50px;">
                    <p>Ravindra Nath Tripathi</p>
                    <p>Chief Examinations Controller</p>
                    <h5 style="font-weight: bold;">For Board of Examinations for Seafarers Trust</h5>
                </div>
            </div>

            <div class="page" style="page-break-before: always; margin-top: 20px;">
                <div class="container" style="margin-top: 20px;">
                    <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
                    <div class="row" style="text-align: center; font-size: 20px; font-family: 'TimesNewRomanBold'; font-weight: 900;">
                        <div class="col-12" style="font-family: 'TimesNewRomanBold';">
                            <t t-if="docs[0].course == 'gp'">
                                <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2a</span>
                            </t>
                            <t t-if="docs[0].course == 'ccmc'">
                                <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2b</span>
                            </t>
                            BEST - ALL INDIA EXIT EXAMINATIONS FOR SEAFARERS  
                            <br></br>
                            <t t-if="docs[0].course == 'gp'">
                                <strong>GP RATING <span t-field="docs[0].exam_type"/> - <span t-esc="docs[0].examination_batch.to_date.strftime('%b-%y')"/> </strong>
                            </t>
                            <t t-if="docs[0].course == 'ccmc'">
                                <strong>CCMC RATING <span t-field="docs[0].exam_type"/> - <span t-esc="docs[0].examination_batch.to_date.strftime('%b-%y')"/> </strong>
                            </t>
                        </div>
                    </div>
                </div>

                <t t-foreach="docs" t-as="doc">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 image-container">
                                <t t-if="doc.course == 'gp'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.gp_plot_image}}" alt="Image" class="img img-fluid" style="width: 95%; height: auto; margin-top: 5px;"/>
                                </t>
                                <t t-elif="doc.course == 'ccmc'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.ccmc_plot_image}}" alt="Image" class="img img-responsive" style="width: 95%; height: auto; margin-top: 5px;"/>
                                </t>
                            </div>
                        </div>

                        <div class="row" style="">
                            <div class="col-12">
                                <table class="my-table" style="width: 100%; font-size: 12px; text-align: left; border:none;">
                                    <tbody>
                                        <tr t-foreach="range(0, (len(institutes_data) + 1) // 2)" t-as="i" style="font-family: 'TimesNewRomanBold'; border:none;">
                                            <td t-if="i * 2 &lt; len(institutes_data)" style="padding: 4px; border:none;">
                                                <span t-esc="institutes_data[i * 2]['code']"/> - <span t-esc="institutes_data[i * 2]['name']"/>
                                            </td>
                                            <td t-if="i * 2 + 1 &lt; len(institutes_data)" style="padding: 4px; border:none;">
                                                <span t-esc="institutes_data[i * 2 + 1]['code']"/> - <span t-esc="institutes_data[i * 2 + 1]['name']"/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </t>
            </div>
            

            <t t-if="repeater_institutes_data">
                <div class="page" style="page-break-before: always; margin-top: 20px;">
                    <div class="container" style="margin-top: 20px;">
                        <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
                        <div class="row" style="text-align: center; font-size: 20px; font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            <div class="col-12" style="font-family: 'TimesNewRomanBold';">
                                <t t-if="repeater_doc.course == 'gp'">
                                    <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2a</span>
                                </t>
                                <t t-if="repeater_doc.course == 'ccmc'">
                                    <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2b</span>
                                </t>
                                BEST - ALL INDIA EXIT EXAMINATIONS FOR SEAFARERS  
                                <br></br>
                                <t t-if="repeater_doc.course == 'gp'">
                                    <strong>GP RATING <span t-field="repeater_doc.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                                </t>
                                <t t-if="repeater_doc.course == 'ccmc'">
                                    <strong>CCMC RATING <span t-field="repeater_doc.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                                </t>
                            </div>
                        </div>
                    </div>

                    <t t-foreach="repeater_doc" t-as="doc">
                        <div class="container">
                            <div class="row">
                                <div class="col-12 image-container">
                                    <t t-if="doc.course == 'gp'">
                                        <img t-attf-src="data:image/png;base64,{{doc.examination_batch.gp_plot_image}}" alt="Image" class="img img-fluid" style="width: 95%; height: auto; margin-top: 5px;"/>
                                    </t>
                                    <t t-elif="doc.course == 'ccmc'">
                                        <img t-attf-src="data:image/png;base64,{{doc.examination_batch.ccmc_plot_image}}" alt="Image" class="img img-responsive" style="width: 95%; height: auto; margin-top: 5px;"/>
                                    </t>
                                </div>
                            </div>

                            <div class="row" style="">
                                <div class="col-12">
                                    <table class="my-table" style="width: 100%; font-size: 12px; text-align: left; border:none;">
                                        <tbody>
                                            <tr t-foreach="range(0, (len(repeater_institutes_data) + 1) // 2)" t-as="i" style="font-family: 'TimesNewRomanBold'; border:none;">
                                                <td t-if="i * 2 &lt; len(repeater_institutes_data)" style="padding: 4px; border:none;">
                                                    <span t-esc="repeater_institutes_data[i * 2]['code']"/> - <span t-esc="repeater_institutes_data[i * 2]['name']"/>
                                                </td>
                                                <td t-if="i * 2 + 1 &lt; len(repeater_institutes_data)" style="padding: 4px; border:none;">
                                                    <span t-esc="repeater_institutes_data[i * 2 + 1]['code']"/> - <span t-esc="repeater_institutes_data[i * 2 + 1]['name']"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </t>

      
        <!-- <div class="page" style="page-break-before: always;" t-if="course == 'gp' ">
             <div class="container-fluid">
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/> 70th All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            <span t-field="examination_report.course"/> RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead  style="font-family: 'TimesNewRomanBold';" >
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="15" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left;width: 60%; ">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="2">GSK (P.O.J)</th>
                        <th colspan="2">MEK (P.O.J)</th>
                        <th colspan="2">GSK Online</th>
                        <th colspan="2">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead>
                <tbody style="font-family: 'TimesNewRomanBold';">
                 

                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_region"/>
                    <t t-set="region_length" t-value="len(exam_region)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_pass" t-value="0" />

                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="institutes" t-value="env['summarised.gp.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(institutes)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="institutes" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>

                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left;width: 60%; " ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>
                                    <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.gsk_online_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_online_pass"/></td>
                                    <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />
                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />
                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>
                                        <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_gsk_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_mek_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_gsk_online_pass"/></td>
                                        <td><span t-esc="round((region_gsk_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_online_pass"/></td>
                                        <td><span t-esc="round((region_mek_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_overall_pass"/></td>
                                        <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>


                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />
                                        <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />
                                    </tr>
                                </t>

                            </t>

                            <t t-if="region_index == region_length">
                                <tr style="background-color: #f2f2f2;">
                                    <td></td>
                                    <td></td>
                                    <td>All India Results</td>
                                    <td><span t-esc="nation_applied"/></td>
                                    <td><span t-esc="nation_candidate_appeared"/></td>
                                    <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                    <td><span t-esc="round((gp_fresh_gsk_prac_oral_pass/gp_fresh_candidate_appeared)*100,2)"/>%</td>
                                    <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                    <td><span t-esc="round((gp_fresh_mek_prac_oral_pass/gp_fresh_candidate_appeared)*100,2)"/>%</td>
                                    <td><span t-esc="nation_gsk_online_pass"/></td>
                                    <td><span t-esc="round((gp_fresh_gsk_online_pass/gp_fresh_candidate_appeared)*100,2)"/>%</td>
                                    <td><span t-esc="nation_mek_online_pass"/></td>
                                    <td><span t-esc="round((gp_fresh_mek_online_pass/gp_fresh_candidate_appeared)*100,2)"/>%</td>
                                    <td><span t-esc="nation_overall_pass"/></td>
                                    <td><span t-esc="round((gp_fresh_overall_pass/gp_fresh_candidate_appeared)*100,2)"/>%</td>
                                </tr>
                            </t>
                       </t>
                </tbody> 
            </table> 
        </div>
 -->


        </t>


    </template>
</odoo>  


<!-- 


            <div class="container-fluid"  style="margin-top: 50px" >
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/>70th - All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            <span t-field="examination_report.course"/> RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead style="font-family: 'TimesNewRomanBold';">
                     <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="19" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left; ">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="3">GSK (P.O.J)</th>
                        <th colspan="3">MEK (P.O.J)</th>
                        <th colspan="3">GSK Online</th>
                        <th colspan="3">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead> 
              
                 <tbody style="font-family: 'TimesNewRomanBold';">
                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_region"/>
                    <t t-set="region_length" t-value="len(exam_region)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />

                    
                    <t t-set="nation_gsk_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />

                    <t t-set="nation_mek_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_appeared" t-value="0" />
                    <t t-set="nation_gsk_online_pass" t-value="0" />
                    
                    <t t-set="nation_mek_online_appeared" t-value="0" />
                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="gp_sumraise_repeater_data" t-value="env['summarised.gp.repeater.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(gp_sumraise_repeater_data)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            
                            <t t-set="region_gsk_prac_oral_appeared" t-value="0" />
                            <t t-set="region_mek_prac_oral_appeared" t-value="0" />
                            <t t-set="region_gsk_online_appeared" t-value="0" />
                            <t t-set="region_mek_online_appeared" t-value="0" />
                            
                            
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="gp_sumraise_repeater_data" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>
                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left; " ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>

                                    <t t-if="institute.gsk_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.gsk_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    </t>

                                    <t t-if="institute.mek_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.mek_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>

                                    </t>


                                    <t t-if="institute.gsk_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.gsk_online_appeared"/></td>
                                        <td><span t-esc="institute.gsk_online_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>

                                    </t>

                                        <t t-if="institute.mek_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.mek_online_appeared"/></td>
                                        <td><span t-esc="institute.mek_online_pass"/></td>
                                        <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    </t>

                                    


                                    
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>
                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />

                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    
                                    <t t-set="region_gsk_prac_oral_appeared" t-value="region_gsk_prac_oral_appeared + institute.gsk_prac_oral_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />

                                    <t t-set="region_mek_prac_oral_appeared" t-value="region_mek_prac_oral_appeared + institute.mek_prac_oral_appeared" />                                        
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />

                                    <t t-set="region_gsk_online_appeared" t-value="region_gsk_online_appeared + institute.gsk_online_appeared" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />

                                    <t t-set="region_mek_online_appeared" t-value="region_mek_online_appeared + institute.mek_online_appeared" />                                        
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />

                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>



                                        <t t-if="region_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">                                
                                            <td><span t-esc="region_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_gsk_prac_oral_pass/region_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="region_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_mek_prac_oral_pass/region_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_gsk_online_appeared"/></td>
                                            <td><span t-esc="region_gsk_online_pass"/></td>
                                            <td><span t-esc="round((region_gsk_online_pass/region_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_online_appeared"/></td>
                                            <td><span t-esc="region_mek_online_pass"/></td>
                                            <td><span t-esc="round((region_mek_online_pass/region_mek_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_candidate_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>

                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_overall_pass"/></td>
                                            <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        </t>

                                        
                                       


                                        
                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />

                                        <t t-set="nation_gsk_prac_oral_appeared" t-value="nation_gsk_prac_oral_appeared + region_gsk_prac_oral_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        
                                        <t t-set="nation_mek_prac_oral_appeared" t-value="nation_mek_prac_oral_appeared + region_mek_prac_oral_appeared" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />

                                        <t t-set="nation_gsk_online_appeared" t-value="nation_gsk_online_appeared + region_gsk_online_appeared" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />

                                        <t t-set="nation_mek_online_appeared" t-value="nation_mek_online_appeared + region_mek_online_appeared" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />


                                    </tr>
                                </t>
                            </t>
                            <t t-if="region_index == region_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td>All India Results</td>
                                        <td><span t-esc="nation_applied"/></td>
                                        <td><span t-esc="nation_candidate_appeared"/></td>
                                        

                                        <t t-if="nation_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_mek_prac_oral_pass/nation_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_online_appeared"/></td>
                                            <td><span t-esc="nation_gsk_online_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_online_pass/nation_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_online_appeared"/></td>
                                            <td><span t-esc="nation_mek_online_pass"/></td>
                                            <td><span t-esc="round((nation_mek_online_pass/nation_mek_online_appeared)*100,2)"/>%</td>
                                        </t> 
                                        

                                        <td><span t-esc="gp_repeater_overall_pass"/></td>
                                        <td><span t-esc="round((gp_repeater_overall_pass/gp_repeater_candidate_appeared)*100,2)"/>%</td>
                                    </tr>
                            </t>
                    </t>
                </tbody> 
            </table> 



            <div class="page" style="page-break-before: always;margin-top: 50px"  t-if="course == 'ccmc' ">

             <div class="container-fluid"  style="margin-top: 50px" >
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2b</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/>63 rd   All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            <span t-field="examination_report.course"/> RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                        <thead style="font-family: 'TimesNewRomanBold';">
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th colspan="16" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th rowspan="2">Sr. No.</th>
                                <th rowspan="2">Code No.</th>
                                <th rowspan="2" style="text-align:left">Name of the Institute</th>
                                <th rowspan="2">Applied</th>
                                <th rowspan="2">Candidate Appear</th>
                                <th colspan="3">Practical</th>
                                <th colspan="3">Oral</th>
                                <th colspan="3">Online</th>
                                <th rowspan="2">Overall Pass</th>
                                <th rowspan="2">Overall Pass %</th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass Institutes Wise</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass Institutes Wise</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass  Institutes Wise</th>
                            </tr>
                        </thead>
                        <tbody style="font-family: 'TimesNewRomanBold';">

                            <t t-set="nation_applied" t-value="0" />
                            <t t-set="region_index" t-value="0"/>
                            <t t-set="nation_candidate_appeared" t-value="0" />
                            <t t-set="region_length" t-value="len(exam_region)"/>
                            <t t-set="nation_practical_pass_appeared" t-value="0" />
                            <t t-set="nation_practical_pass" t-value="0" />
                            <t t-set="nation_oral_pass_appeared" t-value="0" />
                            <t t-set="nation_oral_pass" t-value="0" />
                            <t t-set="nation_online_pass_appeared" t-value="0" />
                            <t t-set="nation_online_passs" t-value="0" />
                            <t t-set="nation_overall_pass" t-value="0" />


                            <t t-set="index" t-value="0"/>
                            <t t-foreach="exam_region" t-as="center">

                                    <t t-set="region_index" t-value="region_index + 1"/>
                                    <t t-set="ccmc_sumraise_fresh_data" t-value="env['summarised.ccmc.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                                        
                                    <t t-set="institutes_length" t-value="len(ccmc_sumraise_fresh_data)" />

                                    <t t-set="region_applied" t-value="0" />
                                    <t t-set="region_candidate_appeared" t-value="0" />
                                    <t t-set="region_practical_pass_appeared" t-value="0" />
                                    <t t-set="region_practical_pass" t-value="0" />
                                    <t t-set="region_oral_pass_appeared" t-value="0" />
                                    <t t-set="region_oral_pass" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_online_passs" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_overall_pass" t-value="0" />


                                    




                                    <t t-set="institutes_index" t-value="0"/>

                                    <t t-foreach="ccmc_sumraise_fresh_data" t-as="institute">
                                        <tr style="font-family: 'TimesNewRomanBold';">
                                            <t t-set="institutes_index" t-value="institutes_index + 1"/>

                                            <t t-set="index" t-value="index + 1"/>
                                            <td><span t-esc="index"/></td>
                                            <td><span t-esc="institute.institute.code"/></td>
                                            <td style="text-align:left"><span t-esc="institute.institute.name"/></td>
                                            <td><span t-esc="institute.applied"/></td>
                                            <td><span t-esc="institute.candidate_appeared"/></td>
                                            <t t-if="institute.practical_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.practical_pass_appeared"/></td>
                                                <td><span t-esc="institute.practical_pass"/></td>
                                                <td><span t-esc="round(institute.practical_pass_per,2)"/>%</td>
                                            </t>
                                            
                                            <t t-if="institute.oral_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.oral_pass_appeared"/></td>
                                                <td><span t-esc="institute.oral_pass"/></td>
                                                <td><span t-esc="round(institute.oral_pass_per,2)"/>%</td>
                                            </t>

                                            <t t-if="institute.online_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.online_pass_appeared"/></td>
                                                <td><span t-esc="institute.online_pass"/></td>
                                                <td><span t-esc="round(institute.online_pass_per,2)"/>%</td>
                                            </t>

                                            


                                            

                                            <td><span t-esc="institute.overall_pass"/></td>
                                            <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                            <t t-set="region_applied" t-value="region_applied + institute.applied" />
                                            <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                            <t t-set="region_practical_pass_appeared" t-value="region_practical_pass_appeared + institute.practical_pass_appeared" />
                                            <t t-set="region_practical_pass" t-value="region_practical_pass + institute.practical_pass" />
                                            <t t-set="region_oral_pass_appeared" t-value="region_oral_pass_appeared + institute.oral_pass_appeared" />
                                            <t t-set="region_oral_pass" t-value="region_oral_pass + institute.oral_pass" />
                                            <t t-set="region_online_pass_appeared" t-value="region_online_pass_appeared + institute.online_pass_appeared" />
                                            <t t-set="region_online_passs" t-value="region_online_passs + institute.online_pass" />
                                            <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />



                                        </tr>
                                        <t t-if="institutes_index == institutes_length">

                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">
                                                <td></td>
                                                <td></td>
                                                <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                                <td><span t-esc="region_applied"/></td>
                                                <td><span t-esc="region_candidate_appeared"/></td>
                                             

                                                <t t-if="region_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_practical_pass_appeared"/></td>
                                                    <td><span t-esc="region_practical_pass"/></td>
                                                    <td><span t-esc="round((region_practical_pass/region_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                
                                                <t t-if="region_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_oral_pass_appeared"/></td>
                                                    <td><span t-esc="region_oral_pass"/></td>
                                                    <td><span t-esc="round((region_oral_pass/region_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="region_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_online_pass_appeared"/></td>
                                                    <td><span t-esc="region_online_passs"/></td>
                                                    <td><span t-esc="round((region_online_passs/region_online_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                <td><span t-esc="region_overall_pass"/></td>
                                                <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>

                                                <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                                <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                                <t t-set="nation_practical_pass_appeared" t-value="nation_practical_pass_appeared + region_practical_pass_appeared" />
                                                <t t-set="nation_practical_pass" t-value="nation_practical_pass + region_practical_pass" />
                                                <t t-set="nation_oral_pass_appeared" t-value="nation_oral_pass_appeared + region_oral_pass_appeared" />
                                                <t t-set="nation_oral_pass" t-value="nation_oral_pass + region_oral_pass" />
                                                <t t-set="nation_online_pass_appeared" t-value="nation_online_pass_appeared + region_online_pass_appeared" />
                                                <t t-set="nation_online_passs" t-value="nation_online_passs + region_online_passs" />
                                                <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />

                                            </tr>
                                        
                                        </t>
                                        
                                    </t>

                                    <t t-if="region_index == region_length">
                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">

                                         
                                                <td colspan="3" style="font-family: 'TimesNewRomanBold';">All India Results</td>
                                                <td><span t-esc="nation_applied"/></td>
                                                <td><span t-esc="nation_candidate_appeared"/></td>
                                                <t t-if="nation_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_practical_pass_appeared"/></td>
                                                    <td><span t-esc="nation_practical_pass"/></td>
                                                    <td><span t-esc="round((nation_practical_pass/nation_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="nation_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_oral_pass_appeared"/></td>
                                                    <td><span t-esc="nation_oral_pass"/></td>
                                                    <td><span t-esc="round((nation_oral_pass/nation_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                 <t t-if="nation_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_online_pass_appeared"/></td>
                                                    <td><span t-esc="nation_online_passs"/></td>
                                                    <td><span t-esc="round((nation_online_passs/nation_online_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                             <td><span t-esc="nation_overall_pass"/></td>
                                               <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>

                                            </tr>
                                    </t>
                            
                            </t>
                        </tbody>
                    </table>
                 </div>
                </div>
               </div>
              </div>
             </div>
            </div>
            </t> 
        </template>
    


</odoo>  -->