<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <record id="ship_visit_report_actions" model="ir.actions.report">
        <field name="name">Ship Visit Report</field>
        <field name="model">dgs.batches</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">bes.candidate_ship_visit_reports</field>
        <field name="report_file">bes.candidate_ship_visit_reports</field>
        <field name="paperformat_id" ref="bes.dgs_report_landscape"/>
    </record>

    <template id="dgs_report_custom_header_footer_summarise">
        <style>
            @font-face {
                font-family: 'TimesNewRomanBold';
                src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                font-weight: 900;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'TimesNewRoman';
                src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                font-weight: normal;
                font-style: normal;
            }
        
            .header.article {
                margin-bottom: 5px;
                position: relative;
            }
        
            .header .row {
                text-align: center;
                font-size: 25px;
                font-family: 'TimesNewRomanBold';
                font-weight: 900;
            }
        
            .header .col-12 {
                font-family: 'TimesNewRomanBold';
                font-weight: 900;
                position: relative;
            }
        
            .header .encla {
                position: absolute;
                right: 0;
                top: 0;
                font-family: 'TimesNewRomanBold';
            }
        </style>
        
        <div class="container-fluid header article" style="font-family: 'TimesNewRomanBold';">
            <div class="row" style="font-family: 'TimesNewRomanBold';">
                <div class="col-12 " style="font-family: 'TimesNewRomanBold';">
                    <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';"><t t-if="course == 'GP'">ENCL.2a</t><t t-if="course == 'CCMC'">ENCL.2b</t></span>
                    <span style="display:block; text-align:center; font-size:25px; font-family: 'TimesNewRomanBold'; font-weight:900;">
                        65th All India Exit Examination Result for
                        <br></br>
                        <t t-if="course == 'GP'">
                            <strong style="font-family: 'Times New Roman', Times, serif; font-weight:900; text-align:center;">
                                GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                            </strong>
                        </t>
                        <t t-if="course == 'CCMC'">
                            <strong style="font-family: 'TimesNewRomanBold'; font-weight:900;text-align:center;">
                                CCMC RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                            </strong>
                        </t>
                    </span>
                </div>
            </div>
        </div>
        
        
        <div t-attf-class="article" t-att-style="report_header_style">
            <t t-out="0" />
        </div>
         <!-- o_standard_footer -->
        <div t-attf-class="footer">
            <div class="row">
                <div class="col-12 pull-left">
                    <small>
                        <span>Page</span>
                        <span class="page" />
                        of
                        <span class="topage" />
                    </small>
                </div>
            </div>
        </div>
    </template>
    
    <template id="summarised_gp_report">
        <t t-call="web.basic_layout">
            <style>
                @font-face {
                    font-family: 'TimesNewRomanBold';
                    src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                    font-weight: 900;
                    font-style: normal;
                }
                
                @font-face {
                    font-family: 'TimesNewRoman';
                    src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                    font-weight: normal;
                    font-style: normal;
                }
                .black-bordered-table {
                    width: 100%;
                    border: 1px solid black;
                    border-collapse: collapse;
                    margin-top: 30px;
                    font-family: 'TimesNewRoman';
                }
                th, td, tr {
                    border: 1px solid black;
                    text-align: center;
                    padding: 10px;
                    border-collapse: collapse;
                }
                thead {
                    padding-bottom: 0px;
                    font-family: 'TimesNewRomanBold';
                }
                td{
                    font-family: 'TimesNewRoman';
                }
                th {
                    vertical-align: bottom;
                }
            </style>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/> All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead style="font-family: 'TimesNewRomanBold';">
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="15" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="2">GSK (P.O.J)</th>
                        <th colspan="2">MEK (P.O.J)</th>
                        <th colspan="2">GSK Online</th>
                        <th colspan="2">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead>
                <tbody style="font-family: 'TimesNewRomanBold';">
                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_regions"/>
                    <t t-set="region_length" t-value="len(exam_regions)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_pass" t-value="0" />

                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="institutes" t-value="env['summarised.gp.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(institutes)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="institutes" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>

                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left" ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>
                                    <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                    <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.gsk_online_pass"/></td>
                                    <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.mek_online_pass"/></td>
                                    <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />
                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />
                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>
                                        <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_gsk_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round((region_mek_prac_oral_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_gsk_online_pass"/></td>
                                        <td><span t-esc="round((region_gsk_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_mek_online_pass"/></td>
                                        <td><span t-esc="round((region_mek_online_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="region_overall_pass"/></td>
                                        <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>


                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />
                                        <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />
                                    </tr>
                                </t>

                            </t>

                            <t t-if="region_index == region_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td>All India Results</td>
                                        <td><span t-esc="nation_applied"/></td>
                                        <td><span t-esc="nation_candidate_appeared"/></td>
                                        <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round((nation_mek_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_gsk_online_pass"/></td>
                                        <td><span t-esc="round((nation_gsk_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_mek_online_pass"/></td>
                                        <td><span t-esc="round((nation_mek_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                        <td><span t-esc="nation_overall_pass"/></td>
                                        <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                    </tr>
                            </t>
                    </t>

                    
                </tbody> 
            </table>
        </t>
    </template>


<template id="summarised_gp_repeater_report">
        <t t-call="web.basic_layout">
            <style>
                @font-face {
                    font-family: 'TimesNewRomanBold';
                    src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                    font-weight: 900;
                    font-style: normal;
                }
                
                @font-face {
                    font-family: 'TimesNewRoman';
                    src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                    font-weight: normal;
                    font-style: normal;
                }
                .black-bordered-table {
                    width: 100%;
                    border: 1px solid black;
                    border-collapse: collapse;
                    margin-top: 30px;
                }
                th, td, tr {
                    border: 1px solid black;
                    text-align: center;
                    padding: 10px;
                    border-collapse: collapse;
                }
                thead {
                    padding-bottom: 0px;
                    font-family: 'TimesNewRomanBold';
                }
                td{
                    font-family: 'TimesNewRoman';
                }
                th {
                    vertical-align: bottom;
                }
            </style>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12" style="text-align:center;">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold'; ">ENCL.2a</span>
                        <h2 style="font-family: 'TimesNewRomanBold'; font-weight: 900;"> <span t-esc="exam_sequence"/> - All India Exit Examination Result for</h2>
                        <h1 style="font-family: 'TimesNewRomanBold'; font-weight: 900;">
                            GP RATING <span t-esc="report_type"/> - <span t-esc="examination_report.examination_batch.to_date.strftime('%b %y')"/>
                        </h1>
                    </div>
                </div>
            </div>
            <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                <thead style="font-family: 'TimesNewRomanBold';">
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th colspan="19" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th rowspan="2">Sr. No.</th>
                        <th rowspan="2">Code No.</th>
                        <th rowspan="2" style="text-align:left">Name of the Institute</th>
                        <th rowspan="2">Applied</th>
                        <th rowspan="2">Candidate Appeard</th>
                        <th colspan="3">GSK (P.O.J)</th>
                        <th colspan="3">MEK (P.O.J)</th>
                        <th colspan="3">GSK Online</th>
                        <th colspan="3">MEK Online</th>
                        <th rowspan="2">Overall Passed</th>
                        <th rowspan="2">Overall Passed %</th>
                    </tr>
                    <tr style="font-family: 'TimesNewRomanBold';">
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                        <th>Appeared</th>
                        <th>Passed</th>
                        <th>% pass Institute wise</th>
                    </tr>
                </thead>
                <tbody style="font-family: 'TimesNewRomanBold';">
                    <t t-set="index" t-value="0"/>
                    <t t-set="region_index" t-value="0"/>
                    <t t-set="regions" t-value="exam_regions"/>
                    <t t-set="region_length" t-value="len(exam_regions)"/>

                    <t t-set="nation_applied" t-value="0" />
                    <t t-set="nation_candidate_appeared" t-value="0" />

                    
                    <t t-set="nation_gsk_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_gsk_prac_oral_pass" t-value="0" />

                    <t t-set="nation_mek_prac_oral_appeared" t-value="0" />
                    <t t-set="nation_mek_prac_oral_pass" t-value="0" />

                    <t t-set="nation_gsk_online_appeared" t-value="0" />
                    <t t-set="nation_gsk_online_pass" t-value="0" />
                    
                    <t t-set="nation_mek_online_appeared" t-value="0" />
                    <t t-set="nation_mek_online_pass" t-value="0" />
                    
                    
                    <t t-set="nation_overall_pass" t-value="0" />
                    
                    <t t-foreach="regions" t-as="center">
                            <t t-set="region_index" t-value="region_index + 1"/>
                                    
                    
                            <t t-set="institutes" t-value="env['summarised.gp.repeater.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                            <t t-set="institutes_length" t-value="len(institutes)" />
                            
                            <t t-set="region_applied" t-value="0" />
                            <t t-set="region_candidate_appeared" t-value="0" />
                            
                            <t t-set="region_gsk_prac_oral_appeared" t-value="0" />
                            <t t-set="region_mek_prac_oral_appeared" t-value="0" />
                            <t t-set="region_gsk_online_appeared" t-value="0" />
                            <t t-set="region_mek_online_appeared" t-value="0" />
                            
                            
                            <t t-set="region_gsk_prac_oral_pass" t-value="0" />
                            <t t-set="region_mek_prac_oral_pass" t-value="0" />
                            <t t-set="region_gsk_online_pass" t-value="0" />
                            <t t-set="region_mek_online_pass" t-value="0" />
                            <t t-set="region_overall_pass" t-value="0" />

                            <t t-set="institutes_index" t-value="0"/>
                            <t t-foreach="institutes" t-as="institute">
                                <tr>
                                    <t t-set="institutes_index" t-value="institutes_index + 1"/>
                                    <t t-set="index" t-value="index + 1"/>
                                    <td><span t-esc="index"/></td>
                                    <td><span t-esc="institute.institute.code"/></td>
                                    <td style="text-align:left" ><span t-esc="institute.institute.name"/></td>
                                    <td><span t-esc="institute.applied"/></td>
                                    <td><span t-esc="institute.candidate_appeared"/></td>

                                    <t t-if="institute.gsk_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.gsk_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.gsk_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_prac_oral_pass_per,2)"/>%</td>
                                    </t>

                                    <t t-if="institute.mek_prac_oral_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.mek_prac_oral_appeared"/></td>
                                        <td><span t-esc="institute.mek_prac_oral_pass"/></td>
                                        <td><span t-esc="round(institute.mek_prac_oral_pass_per,2)"/>%</td>

                                    </t>


                                    <t t-if="institute.gsk_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        
                                        <td><span t-esc="institute.gsk_online_appeared"/></td>
                                        <td><span t-esc="institute.gsk_online_pass"/></td>
                                        <td><span t-esc="round(institute.gsk_online_pass_per,2)"/>%</td>

                                    </t>

                                        <t t-if="institute.mek_online_appeared == 0">
                                        <td>-</td>
                                        <td>-</td>
                                        <td>-</td>
                                    </t>
                                    <t t-else="">
                                        <td><span t-esc="institute.mek_online_appeared"/></td>
                                        <td><span t-esc="institute.mek_online_pass"/></td>
                                        <td><span t-esc="round(institute.mek_online_pass_per,2)"/>%</td>
                                    </t>

                                    


                                    
                                    <td><span t-esc="institute.overall_pass"/></td>
                                    <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>
                                    <t t-set="region_applied" t-value="region_applied+institute.applied" />

                                    <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                    
                                    <t t-set="region_gsk_prac_oral_appeared" t-value="region_gsk_prac_oral_appeared + institute.gsk_prac_oral_appeared" />
                                    <t t-set="region_gsk_prac_oral_pass" t-value="region_gsk_prac_oral_pass + institute.gsk_prac_oral_pass" />

                                    <t t-set="region_mek_prac_oral_appeared" t-value="region_mek_prac_oral_appeared + institute.mek_prac_oral_appeared" />                                        
                                    <t t-set="region_mek_prac_oral_pass" t-value="region_mek_prac_oral_pass + institute.mek_prac_oral_pass" />

                                    <t t-set="region_gsk_online_appeared" t-value="region_gsk_online_appeared + institute.gsk_online_appeared" />
                                    <t t-set="region_gsk_online_pass" t-value="region_gsk_online_pass + institute.gsk_online_pass" />

                                    <t t-set="region_mek_online_appeared" t-value="region_mek_online_appeared + institute.mek_online_appeared" />                                        
                                    <t t-set="region_mek_online_pass" t-value="region_mek_online_pass + institute.mek_online_pass" />

                                    <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />

                                </tr>

                                <t t-if="institutes_index == institutes_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                        <td><span t-esc="region_applied"/></td>
                                        <td><span t-esc="region_candidate_appeared"/></td>



                                        <t t-if="region_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">                                
                                            <td><span t-esc="region_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_gsk_prac_oral_pass/region_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="region_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="region_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((region_mek_prac_oral_pass/region_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_gsk_online_appeared"/></td>
                                            <td><span t-esc="region_gsk_online_pass"/></td>
                                            <td><span t-esc="round((region_gsk_online_pass/region_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_mek_online_appeared"/></td>
                                            <td><span t-esc="region_mek_online_pass"/></td>
                                            <td><span t-esc="round((region_mek_online_pass/region_mek_online_appeared)*100,2)"/>%</td>
                                        </t>


                                        <t t-if="region_candidate_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>

                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="region_overall_pass"/></td>
                                            <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>
                                        </t>

                                        
                                       


                                        
                                        <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                        <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />

                                        <t t-set="nation_gsk_prac_oral_appeared" t-value="nation_gsk_prac_oral_appeared + region_gsk_prac_oral_appeared" />
                                        <t t-set="nation_gsk_prac_oral_pass" t-value="nation_gsk_prac_oral_pass + region_gsk_prac_oral_pass" />
                                        
                                        <t t-set="nation_mek_prac_oral_appeared" t-value="nation_mek_prac_oral_appeared + region_mek_prac_oral_appeared" />
                                        <t t-set="nation_mek_prac_oral_pass" t-value="nation_mek_prac_oral_pass + region_mek_prac_oral_pass" />

                                        <t t-set="nation_gsk_online_appeared" t-value="nation_gsk_online_appeared + region_gsk_online_appeared" />
                                        <t t-set="nation_gsk_online_pass" t-value="nation_gsk_online_pass + region_gsk_online_pass" />

                                        <t t-set="nation_mek_online_appeared" t-value="nation_mek_online_appeared + region_mek_online_appeared" />
                                        <t t-set="nation_mek_online_pass" t-value="nation_mek_online_pass + region_mek_online_pass" />


                                        <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />
                                    </tr>
                                </t>
                            </t>
                            <t t-if="region_index == region_length">
                                    <tr style="background-color: #f2f2f2;">
                                        <td></td>
                                        <td></td>
                                        <td>All India Results</td>
                                        <td><span t-esc="nation_applied"/></td>
                                        <td><span t-esc="nation_candidate_appeared"/></td>
                                        

                                        <t t-if="nation_gsk_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_gsk_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_prac_oral_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_prac_oral_appeared"/></td>
                                            <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                            <td><span t-esc="round((nation_mek_prac_oral_pass/nation_mek_prac_oral_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_gsk_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_gsk_online_appeared"/></td>
                                            <td><span t-esc="nation_gsk_online_pass"/></td>
                                            <td><span t-esc="round((nation_gsk_online_pass/nation_gsk_online_appeared)*100,2)"/>%</td>
                                        </t>

                                        <t t-if="nation_mek_online_appeared == 0">
                                            <td>-</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </t>
                                        <t t-else="">
                                            <td><span t-esc="nation_mek_online_appeared"/></td>
                                            <td><span t-esc="nation_mek_online_pass"/></td>
                                            <td><span t-esc="round((nation_mek_online_pass/nation_mek_online_appeared)*100,2)"/>%</td>
                                        </t>
                                        
                                        
                                        <td><span t-esc="nation_overall_pass"/></td>
                                        <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                    </tr>
                            </t>
                    </t>
                </tbody> 
            </table>
        </t>
    </template>

    
    <template id="summarised_ccmc_report">
        <t t-call="web.html_container">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <t t-call="bes.dgs_report_custom_header_footer_summarise">
                    <style>
                        @font-face {
                            font-family: 'TimesNewRomanBold';
                            src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                            font-weight: 900;
                            font-style: normal;
                        }
                        
                        @font-face {
                            font-family: 'TimesNewRoman';
                            src: url('/bes/static/src/fonts/times.ttf') format('truetype');  
                            font-weight: normal;
                            font-style: normal;
                        }
                        .black-bordered-table {
                            width: 100%;
                            border: 1px solid black;
                            border-collapse: collapse;
                            margin-top: 30px;
                        }
                        th, td, tr {
                            border: 1px solid black;
                            text-align: left;
                            padding: 10px;
                            border-collapse: collapse;
                            font-family: 'TimesNewRomanBold';
                        }
                        thead {
                            padding-bottom: 0px;
                        }
                        th {
                            vertical-align: bottom;
                        }
                    </style>
                    <table class="black-bordered-table" style="font-family: 'TimesNewRomanBold';" border="1">
                        <thead style="font-family: 'TimesNewRomanBold';">
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th colspan="16" style="text-align:center; font-size:25px; margin:0; padding:0; ">Summary of Result of <span t-esc="report_type"/> Candidates </th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th rowspan="2">Sr. No.</th>
                                <th rowspan="2">Code No.</th>
                                <th rowspan="2" style="text-align:left">Name of the Institute</th>
                                <th rowspan="2">Applied</th>
                                <th rowspan="2">Candidate Appear</th>
                                <th colspan="3">Practical</th>
                                <th colspan="3">Oral</th>
                                <th colspan="3">Online</th>
                                <th rowspan="2">Overall Pass</th>
                                <th rowspan="2">Overall Pass %</th>
                            </tr>
                            <tr style="font-family: 'TimesNewRomanBold';">
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                                <th>Appeared</th>
                                <th>Pass</th>
                                <th>% Pass</th>
                            </tr>
                        </thead>
                        <tbody style="font-family: 'TimesNewRomanBold';">
                            <!-- sa
                            <span t-esc="regions"/> -->
                            <t t-set="nation_applied" t-value="0" />
                            <t t-set="region_index" t-value="0"/>
                            <t t-set="nation_candidate_appeared" t-value="0" />
                            <t t-set="nation_practical_pass_appeared" t-value="0" />
                            <t t-set="nation_practical_pass" t-value="0" />
                            <t t-set="nation_oral_pass_appeared" t-value="0" />
                            <t t-set="nation_oral_pass" t-value="0" />
                            <t t-set="nation_online_pass_appeared" t-value="0" />
                            <t t-set="nation_online_passs" t-value="0" />
                            <t t-set="nation_overall_pass" t-value="0" />


                            <t t-set="index" t-value="0"/>
                            <t t-foreach="exam_regions" t-as="center">

                                    <t t-set="region_index" t-value="region_index + 1"/>
                                    <t t-set="institutes" t-value="env['summarised.ccmc.report'].sudo().search([('examination_report_batch','=',docids),('exam_region','=',center)]).sorted(key=lambda r: r.institute_code)" />
                                        
                                    <t t-set="institutes_length" t-value="len(institutes)" />

                                    <t t-set="region_applied" t-value="0" />
                                    <t t-set="region_candidate_appeared" t-value="0" />
                                    <t t-set="region_practical_pass_appeared" t-value="0" />
                                    <t t-set="region_practical_pass" t-value="0" />
                                    <t t-set="region_oral_pass_appeared" t-value="0" />
                                    <t t-set="region_oral_pass" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_online_passs" t-value="0" />
                                    <t t-set="region_online_pass_appeared" t-value="0" />
                                    <t t-set="region_overall_pass" t-value="0" />


                                    




                                    <t t-set="institutes_index" t-value="0"/>

                                    <t t-foreach="institutes" t-as="institute">
                                        <tr style="font-family: 'TimesNewRomanBold';">
                                            <t t-set="institutes_index" t-value="institutes_index + 1"/>

                                            <t t-set="index" t-value="index + 1"/>
                                            <td><span t-esc="index"/></td>
                                            <td><span t-esc="institute.institute.code"/></td>
                                            <td style="text-align:left"><span t-esc="institute.institute.name"/></td>
                                            <td><span t-esc="institute.applied"/></td>
                                            <td><span t-esc="institute.candidate_appeared"/></td>
                                            <t t-if="institute.practical_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.practical_pass_appeared"/></td>
                                                <td><span t-esc="institute.practical_pass"/></td>
                                                <td><span t-esc="round(institute.practical_pass_per,2)"/>%</td>
                                            </t>
                                            
                                            <t t-if="institute.oral_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.oral_pass_appeared"/></td>
                                                <td><span t-esc="institute.oral_pass"/></td>
                                                <td><span t-esc="round(institute.oral_pass_per,2)"/>%</td>
                                            </t>

                                            <t t-if="institute.online_pass_appeared == 0" >
                                                <td>-</td>
                                                <td>-</td>
                                                <td>-</td>
                                            </t>
                                            <t t-else="">
                                                <td><span t-esc="institute.online_pass_appeared"/></td>
                                                <td><span t-esc="institute.online_pass"/></td>
                                                <td><span t-esc="round(institute.online_pass_per,2)"/>%</td>
                                            </t>

                                            


                                            

                                            <td><span t-esc="institute.overall_pass"/></td>
                                            <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td>

                                            <t t-set="region_applied" t-value="region_applied + institute.applied" />
                                            <t t-set="region_candidate_appeared" t-value="region_candidate_appeared + institute.candidate_appeared" />
                                            <t t-set="region_practical_pass_appeared" t-value="region_practical_pass_appeared + institute.practical_pass_appeared" />
                                            <t t-set="region_practical_pass" t-value="region_practical_pass + institute.practical_pass" />
                                            <t t-set="region_oral_pass_appeared" t-value="region_oral_pass_appeared + institute.oral_pass_appeared" />
                                            <t t-set="region_oral_pass" t-value="region_oral_pass + institute.oral_pass" />
                                            <t t-set="region_online_pass_appeared" t-value="region_online_pass_appeared + institute.online_pass_appeared" />
                                            <t t-set="region_online_passs" t-value="region_online_passs + institute.online_pass" />
                                            <t t-set="region_overall_pass" t-value="region_overall_pass + institute.overall_pass" />



                                        </tr>
                                        <t t-if="institutes_index == institutes_length">

                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">
                                                <!-- <td colspan="15" style="text-align: center;"><strong>All India Exit</strong></td> -->
                                                <td></td>
                                                <td></td>
                                                <td><span t-esc="institute.exam_region.name"/> REGION</td>
                                                <td><span t-esc="region_applied"/></td>
                                                <td><span t-esc="region_candidate_appeared"/></td>
                                             

                                                <t t-if="region_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_practical_pass_appeared"/></td>
                                                    <td><span t-esc="region_practical_pass"/></td>
                                                    <td><span t-esc="round((region_practical_pass/region_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                
                                                <t t-if="region_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_oral_pass_appeared"/></td>
                                                    <td><span t-esc="region_oral_pass"/></td>
                                                    <td><span t-esc="round((region_oral_pass/region_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="region_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="region_online_pass_appeared"/></td>
                                                    <td><span t-esc="region_online_passs"/></td>
                                                    <td><span t-esc="round((region_online_passs/region_online_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                
                                                <td><span t-esc="region_overall_pass"/></td>
                                                <td><span t-esc="round((region_overall_pass/region_candidate_appeared)*100,2)"/>%</td>
                                                <!-- <td><span t-esc="institute.oral_pass_appeared"/></td>
                                                <td><span t-esc="institute.oral_pass"/></td>
                                                <td><span t-esc="round(institute.oral_pass_per,2)"/>%</td>
                                                <td><span t-esc="institute.online_pass_appeared"/></td>
                                                <td><span t-esc="institute.online_pass"/></td>
                                                <td><span t-esc="round(institute.online_pass_per,2)"/>%</td>
                                                <td><span t-esc="institute.overall_pass"/></td>
                                                <td><span t-esc="round(institute.overall_pass_per,2)"/>%</td> -->

                                                <t t-set="nation_applied" t-value="nation_applied + region_applied" />
                                                <t t-set="nation_candidate_appeared" t-value="nation_candidate_appeared + region_candidate_appeared" />
                                                <t t-set="nation_practical_pass_appeared" t-value="nation_practical_pass_appeared + region_practical_pass_appeared" />
                                                <t t-set="nation_practical_pass" t-value="nation_practical_pass + region_practical_pass" />
                                                <t t-set="nation_oral_pass_appeared" t-value="nation_oral_pass_appeared + region_oral_pass_appeared" />
                                                <t t-set="nation_oral_pass" t-value="nation_oral_pass + region_oral_pass" />
                                                <t t-set="nation_online_pass_appeared" t-value="nation_online_pass_appeared + region_online_pass_appeared" />
                                                <t t-set="nation_online_passs" t-value="nation_online_passs + region_online_passs" />
                                                <t t-set="nation_overall_pass" t-value="nation_overall_pass + region_overall_pass" />

                                            </tr>
                                        
                                        </t>
                                        
                                    </t>

                                    <t t-if="region_index == region_length">
                                            <tr style="background-color: #f2f2f2; font-family: 'TimesNewRomanBold';">
                                                <!-- <td colspan="15" style="text-align: center;"><strong>All India Exit</strong></td> -->

                                         
                                                <td colspan="3" style="font-family: 'TimesNewRomanBold';">All India Results</td>
                                                <td><span t-esc="nation_applied"/></td>
                                                <td><span t-esc="nation_candidate_appeared"/></td>
                                                <t t-if="nation_practical_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_practical_pass_appeared"/></td>
                                                    <td><span t-esc="nation_practical_pass"/></td>
                                                    <td><span t-esc="round((nation_practical_pass/nation_practical_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                <t t-if="nation_oral_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_oral_pass_appeared"/></td>
                                                    <td><span t-esc="nation_oral_pass"/></td>
                                                    <td><span t-esc="round((nation_oral_pass/nation_oral_pass_appeared)*100,2)"/>%</td>
                                                </t>

                                                 <t t-if="nation_online_pass_appeared == 0">
                                                    <td>-</td>
                                                    <td>-</td>
                                                    <td>-</td>
                                                </t>
                                                <t t-else="">
                                                    <td><span t-esc="nation_online_pass_appeared"/></td>
                                                    <td><span t-esc="nation_online_passs"/></td>
                                                    <td><span t-esc="round((nation_online_passs/nation_online_pass_appeared)*100,2)"/>%</td>
                                                </t>
                                                
                                                
                                           
                                                <td><span t-esc="nation_overall_pass"/></td>
                                                <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td>

                                                <!-- <td><span t-esc="nation_gsk_prac_oral_pass"/></td>
                                                <td><span t-esc="round((nation_gsk_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_mek_prac_oral_pass"/></td>
                                                <td><span t-esc="round((nation_mek_prac_oral_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_gsk_online_pass"/></td>
                                                <td><span t-esc="round((nation_gsk_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_mek_online_pass"/></td>
                                                <td><span t-esc="round((nation_mek_online_pass/nation_candidate_appeared)*100,2)"/>%</td>
                                                <td><span t-esc="nation_overall_pass"/></td>
                                                <td><span t-esc="round((nation_overall_pass/nation_candidate_appeared)*100,2)"/>%</td> -->
                                            </tr>
                                    </t>
                            
                            </t>
                        </tbody>
                    </table>
            </t>
        </t>
    </template>

    <template id="ship_visit_header" >
        <div class="container" t-attf-class="header article" t-att-style="report_header_style">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <style>
                .row {
                    position: relative;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
                .col-12 {
                    text-align: center;
                    position: relative;
                }
            </style>
            <div class="row" style="text-align:center; font-size:20px; font-family: 'TimesNewRomanBold'; font-weight:900;">
            </div >
            <div class="container-fluid">
                <div class="row" style="text-align:center; font-size:18px; font-family:'TimesNewRomanBold'; font-weight:900; position: relative;">
                    <t t-foreach="docs" t-as="doc">
                        <div class="col-12">  
                            <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL. 5</span>              
                            <strong>
                            All India Exit Examination for Ratings - 
                                <span style="margin-left:5px"/>
                                <t t-set="formatted_date" t-value="doc.to_date.strftime('%B %Y')" />
                                <t t-esc="formatted_date" />
                            </strong>

                        </div>
                        <div>
                            <strong>Summary of Ship Visit Record for GP and CCMC Fresh Candidate
                            </strong>
                        </div>
                    </t>
                </div>
            </div>
            <div t-attf-class="article" t-att-style="report_header_style">
                <t t-out="0" />
            </div>
            <div t-attf-class="footer">
                <div class="row">
                    <div class="col-12 pull-left">
                        <small>
                            <span>Page</span>
                            <span class="page" />
                            of
                            <span class="topage" />
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </template>






    <template id="candidate_ship_visit_reports">
        <t t-call="web.html_container">
    
            <div class="container">
                <table class="black-bordered-table" style="" border="1">
                    <thead>
                        <tr>GP INSTITUTES</tr>
                        <tr>
                            <th>Sr.No.</th>
                            <th>Code No.</th>
                            <th>Name of the Institute</th>
                            <th>No of Candidate</th>
                            <th>No of Ship Visit</th>
                            <th>Name of tne Ship Visited/Ship in Campus</th>
                            <th>IMO No.</th>
                            <th>Name of the Port Visited Place of SIC</th>
                            <th>Date of Visit</th>
                            <th>Time Spend on Ship(Hrs)</th>
                            <th>Provided Evidence</th>
                            <th>Remrk</th>
                            <th>Center</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-set="index" t-value="0"/>
                        
                        <t t-foreach="institutes_data" t-as="institute_id">
                            <t t-set="institute_object" t-value="env['bes.institute'].sudo().search([('id','=',institute_id)])"/>
                            <t t-set="candidate_count" t-value="env['gp.candidate'].sudo().search_count([('dgs_batch','=',docs.id),('institute_id','=',institute_id)])"/>
                            <t t-set="ships" t-value="env['gp.candidate.ship.visits'].sudo().search([('dgs_batch','=',docs.id),('institute','=',institute_id)])"/>
                            <t t-set="unique_ships" t-value="set((ship.name_of_ships, ship.imo_no,ship.name_of_ports_visited,ship.date_of_visits,ship.time_spent_on_ship) for ship in ships)"/>
                            
                            <t t-set="unique_ships_sorted" t-value="sorted(unique_ships, key=lambda x: x[2])"/>
                            <t t-set="unique_ships_count" t-value="len(unique_ships)"/>
                            <!-- <t t-foreach="unique_ships" t-as="unique_ship"> -->
                            <t t-set="unique_ships_index" t-value="1"/>
                            <t t-set="index" t-value="index + 1"/>
                            
                            <t t-set="previous_port" t-value="''"/>
                            <t t-set="rowspan_dict" t-value="{}"/>
                            <t t-set="current_port_count" t-value="0"/>
                            
                            <tr  t-foreach="unique_ships_sorted" t-as="unique_ship">
                                    <t t-if="unique_ships_index == 1">
                                        <t t-esc="rowspan_dict.update({unique_ship[2]:sum(1 for item in unique_ships_sorted if item[2] == unique_ship[2])})"/>
                                        <!-- <span t-esc="rowspan_dict"/> -->
                                        <!-- <t t-set="rowspan_dict[unique_ship[2]]" t-value="sum(1 for item in unique_ships if item[2] == unique_ship[2])"/> -->
                                        <td  t-att-rowspan="unique_ships_count"><span t-esc="index"/></td>
                                        <td t-att-rowspan="unique_ships_count" ><span t-esc="institute_object.code"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="institute_object.name"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="candidate_count"/></td>
                                        <td t-att-rowspan="unique_ships_count"><span t-esc="unique_ships_count"/></td>
                                    </t>
                                    <t t-set="current_port_count" t-value="rowspan_dict.get(unique_ship[2], 0)"/>
                                    <t t-set="unique_ships_index" t-value="unique_ships_index+1"/>
                                    <td><span t-esc="unique_ship[0]"/></td> <!-- name_of_ships -->
                                    <td><span t-esc="unique_ship[1]"/></td> <!-- imo_no -->
                                    <td><span t-esc="unique_ship[2]"/></td>
                                    <!-- <t t-if="unique_ship[2] != previous_port">
                                        <td t-att-rowspan="current_port_count"><span t-esc="unique_ship[2]"/></td>
                                        <t t-set="previous_port" t-value="unique_ship[2]"/>
                                    </t> -->
                                    <!-- <td><span t-esc="unique_ship[3]"/></td> -->

                                    <!-- <t t-else="" >
                                        <td><span t-esc="unique_ship[2]"/></td>
                                        </t> -->
                                    <!-- <td><span t-esc="unique_ship[2]"/></td> -->
                                    <!-- <td><span t-esc="unique_ship[3]"/></td>
                                    <td><span t-esc="unique_ship[4]"/></td> -->
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
    </template>


    <template id="bar_graph_report_header">
        <div class="container" t-attf-class="header article" t-att-style="report_header_style" style=" margin-botton:5px;">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <div class="row" style="text-align:center; font-size:25px; font-family: 'TimesNewRomanBold'; font-weight:900;">
                <div class="col-12" style="font-family: 'TimesNewRomanBold';">
                    <t t-if="docs.course == 'gp'">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2a</span>
                    </t>
                    <t t-if="docs.course == 'ccmc'">
                        <span class="encla" style="position: absolute; right: 0; top: 0; font-family: 'TimesNewRomanBold';">ENCL.2b</span>
                    </t>
                    BEST - ALL INDIA EXIT EXAMINATIONS FOR SEAFARERS  <span style="margin-left:5px; margin-right:5px;font-family: 'TimesNewRomanBold';"/> <br></br>
                    <t t-if="docs.course == 'gp'">
                        <strong>GP RATING <span t-field="docs.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                    </t>
                    <t t-if="docs.course == 'ccmc'">
                        <strong>CCMC RATING <span t-field="docs.exam_type"/> - <span t-esc="docs.examination_batch.to_date.strftime('%b-%y')"/> </strong>
                    </t>
                   
                </div>
            </div >
        </div>
        <div t-attf-class="article" t-att-style="report_header_style">
            <t t-out="0" />
        </div>
         <!-- o_standard_footer -->
        <!-- <div t-attf-class="footer">
            <div class="row">
                <div class="col-12 pull-left">
                    <small>
                        <span>Page</span>
                        <span class="page" />
                        of
                        <span class="topage" />
                    </small>
                </div>
            </div>
        </div> -->
    </template>

    <template id="bar_graph_report">
        <t t-call="web.html_container">
            <link rel="stylesheet" href="/bes/static/src/css/style_gp.css"/>
            <t t-call="bes.bar_graph_report_header">
                <style>
                    @font-face {
                        font-family: 'TimesNewRomanBold';
                        src: url('/bes/static/src/fonts/Times New Roman Bold.ttf') format('truetype');
                        font-weight: 900;
                        font-style: normal;
                    }
                    
                    .institute-list {
                        display: flex;
                        flex-wrap: wrap;
                        font-family: 'TimesNewRomanBold';
                    }
                    .institute-item {
                        flex: 0 0 50%; /* Each item takes 50% of the width of the container */
                        box-sizing: border-box; /* Ensure padding and borders are included in the width */
                        padding: 5px;
                    }
        
            
                 .image-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    text-align: center;
                    margin-top: 5px;
                }
                img.centered-image {
                    margin: auto;
                }

                .my-table {
                    border-collapse: collapse;
                    width: 80%; /* Reduced width */
                    margin: 20px auto; /* Center align and add margin */
                    font-size: 12px;
                }




                </style>
                <t t-foreach="docs" t-as="doc">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 image-container">
                                <t t-if="doc.course == 'gp'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.gp_plot_image}}" alt="Image" class="img img-fluid" style="width:95%;height:550px; margin-top:2px;"/>
                                </t>
                                <t t-elif="doc.course == 'ccmc'">
                                    <img t-attf-src="data:image/png;base64,{{doc.examination_batch.ccmc_plot_image}}" alt="Image" class="img img-responsive" style="width:95%;height:550px; margin-top:2px;"/>
                                </t>
                            </div>
                        </div>
                        <div class="row">
                           <div class="col-12">
                            <table class="my-table" >
                                 <tbody>

                                     <!-- <tr t-foreach="range(0, int(47/3 + 0.5 - 1e-10))" t-as="i">
                                        <td t-if="i * 3 &lt;  47"><span t-esc="i * 3"/></td>
                                        <td t-if="i * 3 + 1 &lt;  47"><span t-esc="i * 3 + 1"/></td>
                                        <td t-if="i * 3 + 2 &lt;  47"><span t-esc="i * 3 + 2"/></td>
                                    </tr> -->

                                

                                    <tr t-foreach="range(0,int(len(institutes_data)/3 + 0.5 - 1e-10))" t-as="i" style="font-family: 'TimesNewRomanBold';font-size: 8px;">
                                        <td t-if="i * 3 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 8px"><span t-esc="institutes_data[i * 3]['code']"/> - <span t-esc="institutes_data[i * 3]['name']"/></td>
                                        <td t-if="i * 3 + 1 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 8px"><span t-esc="institutes_data[i * 3 + 1]['code']"/> - <span t-esc="institutes_data[i * 3 + 1]['name']"/></td>
                                        <td t-if="i * 3 + 2 &lt; len(institutes_data)" style="font-family: 'TimesNewRomanBold';font-size: 8px"><span t-esc="institutes_data[i * 3 + 2]['code']"/> - <span t-esc="institutes_data[i * 3 + 2]['name']"/></td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                       </div> 
                    </div>
                </t>
            </t>
        </t>
    </template>

    


</odoo>  